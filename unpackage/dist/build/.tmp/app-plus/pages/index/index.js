(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1a5d":function(n,e,t){"use strict";(function(n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t("2f62"),i=t("d8ae"),c=d(t("e40e")),u=d(t("8ce3"));function d(n){return n&&n.__esModule?n:{default:n}}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.forEach(function(e){r(n,e,t[e])})}return n}function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var f=function(){return Promise.all([t.e("common/vendor"),t.e("pages/index/indexCpns/IndexContent")]).then(t.bind(null,"0cb1"))},l=function(){return t.e("components/content/defmask/DefMask").then(t.bind(null,"15e1"))},p={components:{IndexContent:f,DefMask:l},data:function(){return{nim:null,count:1,title:"Hello",imToken:"",toToken:"",receiveMsg:""}},computed:s({},(0,a.mapState)(["userInfo"])),methods:{sendMsg:function(){var n=this;this.nim.sendText({scene:"p2p",to:"1579139382461",text:"我是AAAAAA---消息".concat(this.count),done:function(e){n.count++}})},test:function(){},handleShowMask:function(){this.$refs.indexMask.isShowMask?this.$refs.indexMask.tapHideMask():this.$refs.indexMask.tapShowMask()},toAddfriend:function(){n.navigateTo({url:"/components/content/addfriend/AddFriend"})},getAccountImToken:function(n){(0,i.getAccountImTokenRequest)("?accid=".concat(n)).then(function(e){200===e.status&&2e3===e.data.code&&(o("log","返回我的的token：",e.data.data," at pages\\index\\index.vue:114"),new c.default({token:e.data.data,account:n}))}).catch(function(n){o("log","错误信息：",n," at pages\\index\\index.vue:122")})}},onLoad:function(){var n=this;(0,i.getAccountImTokenRequest)("?accid=1576463946323").then(function(e){200===e.status&&2e3===e.data.code&&(o("log","返回我的的token2：",e.data.data," at pages\\index\\index.vue:135"),n.nim=u.default.NIM.getInstance({debug:!0,appKey:"a59ba9fafb323c6fcc49a5cbf48d369a",token:e.data.data,account:1576463946323,promise:!0,transports:["websocket"],onconnect:n.test,onwillreconnect:n.test,ondisconnect:n.test,onerror:n.test}))}).catch(function(n){o("log","错误信息：",n," at pages\\index\\index.vue:152")})},onShow:function(){},onUnload:function(){o("log","onUnload"," at pages\\index\\index.vue:160"),this.$refs.indexMask.tapHideMask(),this.$refs.indexcontent.hidePop()},onHide:function(){o("log","onHide"," at pages\\index\\index.vue:168"),this.$refs.indexMask.tapHideMask(),this.$refs.indexcontent.hidePop()},onNavigationBarButtonTap:function(e){this.$refs.indexcontent.hidePop(),0===e.index&&n.navigateTo({url:"/components/content/remind/Remind"}),1===e.index&&this.handleShowMask()},created:function(){this.getAccountImToken(this.userInfo.user.userAccount)}};e.default=p}).call(this,t("6e42")["default"],t("0de9")["default"])},"225d":function(n,e,t){"use strict";var o,a=function(){var n=this,e=n.$createElement;n._self._c},i=[];t.d(e,"b",function(){return a}),t.d(e,"c",function(){return i}),t.d(e,"a",function(){return o})},"3e3f":function(n,e,t){"use strict";(function(n){t("8484"),t("921b");o(t("66fd"));var e=o(t("41f0"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("6e42")["createPage"])},"41f0":function(n,e,t){"use strict";t.r(e);var o=t("225d"),a=t("f197");for(var i in a)"default"!==i&&function(n){t.d(e,n,function(){return a[n]})}(i);t("f30c");var c,u=t("f0c5"),d=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);e["default"]=d.exports},dfd4:function(n,e,t){},f197:function(n,e,t){"use strict";t.r(e);var o=t("1a5d"),a=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,function(){return o[n]})}(i);e["default"]=a.a},f30c:function(n,e,t){"use strict";var o=t("dfd4"),a=t.n(o);a.a}},[["3e3f","common/runtime","common/vendor"]]]);