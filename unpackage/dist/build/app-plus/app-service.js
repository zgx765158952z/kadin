(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0129":function(e,t,n){(function(t){function n(e,n,s){var i={};e.flow;s=s||n&&n.userInfo.user.userAccount,t("log","selfAccount:",s," at utils\\dealGroupMsg.js:5"),i.type=e.attach&&e.attach.type,i.from=e.from,i.fromNick=e.fromNick||i.from,i.teamId=e.to,i.timetag=e.time,i.team=e.attach&&e.attach.team||{},i.teamType="advanced"===i.team.type||n&&n.groupList[i.team.teamId]&&"advanced"===n.groupList[i.team.teamId].type?"群":"normal"===i.team.type||n&&n.groupList[i.team.teamId]&&"normal"===n.groupList[i.team.teamId].type?"讨论组":"群组",i.account=e.attach&&e.attach.account||"",i.accounts=e.attach&&e.attach.accounts||[],i.members=e.attach&&e.attach.members||[],i.showNick=s===i.from?"你":i.fromNick,i.attachAccount=s===i.account?"你":i.account,i.mute=e.attach&&e.attach.mute;var r=i.accounts.indexOf(s);return-1!==r&&i.accounts.splice(r,1,"你"),t("log","getMsgKey后",i," at utils\\dealGroupMsg.js:25"),i}function s(e,t,s){var i=n(e,t,s);switch(i.type){case"updateTeam":i.team.name?e.groupNotification=i.showNick+"更新了"+i.teamType+"名称":i.team.intro?e.groupNotification=i.showNick+"更新了群介绍":i.team.announcement?e.groupNotification=i.showNick+"更新了群公告":e.groupNotification=i.showNick+"更新了群设置";break;case"addTeamMembers":e.groupNotification=i.showNick+"邀请"+i.accounts.join("，")+"进入了"+i.teamType;break;case"removeTeamMembers":i.from===i.accounts.join("，")?e.groupNotification=i.accounts.join("，")+"退出了"+i.teamType:e.groupNotification=i.showNick+"将"+i.accounts.join("、")+"移出了"+i.teamType;break;case"acceptTeamInvite":e.groupNotification=i.showNick+"接受了"+i.attachAccount+"的入群邀请";break;case"passTeamApply":i.from===i.account?e.groupNotification=i.showNick+"进入了"+i.teamType:e.groupNotification=i.showNick+"通过了"+i.attachAccount+"的加群申请";break;case"addTeamManagers":e.groupNotification=i.showNick+"将"+i.accounts.join("，")+"设置为管理员";break;case"removeTeamManagers":e.groupNotification=i.showNick+"取消了"+i.accounts.join("，")+"管理员身份";break;case"leaveTeam":e.groupNotification=i.showNick+"退出了"+i.teamType;break;case"dismissTeam":e.groupNotification=i.showNick+"解散了群";break;case"transferTeam":e.groupNotification=i.showNick+"转移了群主身份给"+i.attachAccount;break;case"updateTeamMute":e.groupNotification=i.attachAccount+"被"+i.showNick+(i.mute?"":"解除")+"禁言";break}}function i(e,n,s){if(e){switch(t("log","item:",e," at utils\\dealGroupMsg.js:101"),t("log","memberList:",s," at utils\\dealGroupMsg.js:102"),e.groupIdentity){case"3":s.unshift(e);break;case"2":s[0]&&"3"===s[0].groupIdentity?s.splice(1,0,e):s.unshift(e);break;default:t("log","追加成员列表"," at utils\\dealGroupMsg.js:115"),s.push(e)}t("log","最终item、memberList:",e,s," at utils\\dealGroupMsg.js:118")}else t("log","不存在item--1"," at utils\\dealGroupMsg.js:98")}function r(e,t,n,s){var i;return t?(i=Object.assign({},n.groupList[t.teamId],t.team),n.groupList[t.teamId]=i):(i=Object.assign({},n.groupList[e.teamId],e),n.groupList[e.teamId]=i),n.currentGroup.teamId===i.teamId&&(n.currentGroup=i),s&&(i.isCurrentNotIn=!1),i}function o(e,t,n,s){n.currentGroup=r(e,t,n,s)}function a(e,n,s){var r;if(n?r=n:(r=e,t("log","无msgKey",e," at utils\\dealGroupMsg.js:151")),t("log","obj=msg:",r," at utils\\dealGroupMsg.js:153"),!s.groupList[r.tid]){s.groupList[r.tid]={};var o={};o["tid"]=r.tid,o["groupName"]=r.groupName,o["announcement"]=r.announcement,o["groupIcon"]=r.groupIcon,o["msgNotification"]=r.msgNotification,o["groupDescription"]=r.groupDescription,o["creator"]=r.creator,o["createTime"]=r.createTime,o["myGroupName"]=r.myGroupName,t("log","首次设置群teamInfo:",o," at utils\\dealGroupMsg.js:166"),s.groupList[r.tid]=Object.assign({},a,o),t("log","没有初始化群"," at utils\\dealGroupMsg.js:168")}s.groupMemberList[r.tid]||(s.groupMemberList[r.tid]=[],t("log","没有初始化成员列表list"," at utils\\dealGroupMsg.js:172")),s.groupMemberMap[r.tid]||(s.groupMemberMap[r.tid]={},t("log","没有初始化成员列表map"," at utils\\dealGroupMsg.js:176"));var a=Object.assign({},s.groupList[r.tid]),c=s.groupMemberList[r.tid].slice(),u=s.groupMemberMap[r.tid],l=c.map((function(e){return e.account}));r.groupMember.map((function(e){t("log","oldMembers",l," at utils\\dealGroupMsg.js:183");var n=l.indexOf(e.account);s.personList[e.account];-1!==n||u[e.account]?(t("log","新增成员在本地成员列表"," at utils\\dealGroupMsg.js:192"),c[n]=Object.assign({},c[n],e),u[e.account]=c[n]):(t("log","新增成员不存在本地成员列表"," at utils\\dealGroupMsg.js:187"),i(e,!1,c),u[e.account]=e)})),s.groupMemberList[r.tid]=c,a=s.groupList[r.tid],r.tid===s.currentGroup.tid&&(s.currentGroup=s.groupList[r.tid],s.currentGroupMembers=c),t("log","tempState:",s," at utils\\dealGroupMsg.js:210")}function c(e,n,s){var i;if(i=n||e,i.tid=i.teamId||i.team&&i.team.teamId,-1!==i.accounts.indexOf(s.userInfo.user.userAccount))delete s.groupList[i.tid],delete s.groupMemberList[i.tid],delete s.groupMemberMap[i.tid];else{s.groupList[i.tid]||(s.groupList[i.tid]={}),s.groupMemberList[i.tid]||(s.groupMemberList[i.tid]=[]),s.groupMemberMap[i.tid]||(s.groupMemberMap[i.tid]={});for(var r=Object.assign({},s.groupList[i.tid]),o=s.groupMemberList[i.tid].slice(),a=s.groupMemberMap[i.teamId],c=o.length-1;c>=0;c--)-1!==i.accounts.indexOf(o[c].account)&&o.splice(c,1);i.accounts.map((function(e){a[e]&&delete a[e]})),s.groupMemberList[i.teamId]=o,i.teamId===s.currentGroup.teamId&&(s.currentGroup=r,s.currentGroupMembers=o)}t("log","tempState:",s," at utils\\dealGroupMsg.js:263")}function u(e,n,s){n&&n.teamId&&("你"===n.showNick&&(t("error","设置true"," at utils\\dealGroupMsg.js:269"),s.groupList[n.teamId]=Object.assign({},s.groupList[n.teamId],{isCurrentNotIn:!0})),n.accounts=[n.from],c(null,n,s))}e.exports={dealMsg:s,splitGroupMemberArray:i,onUpdateTeam:r,onUpdateTeamAndCurrent:o,onAddTeamMembers:a,onRemoveTeamMembers:c,onLeaveTeam:u}}).call(this,n("0de9")["default"])},"0261":function(e,t,n){"use strict";n.r(t);var s=n("103d"),i=n("13c3");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"0263":function(e,t,n){"use strict";n.r(t);var s=n("9f74"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"0306":function(e,t,n){"use strict";n.r(t);var s=n("dcfd"),i=n("7cfb");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"0378":function(e,t,n){"use strict";n.r(t);var s=n("4911"),i=n("dbdf");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"037e":function(e,t,n){"use strict";var s={"uni-search-bar":n("1226").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","collection-content"),attrs:{_i:0}},[n("uni-search-bar",{ref:"collectSearch",attrs:{radius:50,_i:1},on:{confirm:e.confirmSearch},nativeOn:{click:function(t){return e.hanldeSearch(t)}}}),e._$s(2,"i",!e.showLabel)?[n("view",{staticClass:e._$s(3,"sc","top-list"),attrs:{_i:3}},e._l(e._$s(4,"f",{forItems:e.defTypeList}),(function(t,s,i,r){return n("view",{key:e._$s(4,"f",{forIndex:i,key:s}),staticClass:e._$s("4-"+r,"sc","top-list-item"),class:e._$s("4-"+r,"c","item"+s),attrs:{_i:"4-"+r},on:{click:function(n){return e.toCollectSearch(t,"type")}}},[e._v(e._$s("4-"+r,"t0-0",e._s(t)))])})),0),n("view",{staticClass:e._$s(5,"sc","collectionbtm"),attrs:{_i:5}},[e._$s(6,"i",e.listData.length>0)?[e._l(e._$s(7,"f",{forItems:e.listData}),(function(t,s,i,r){return[n("view",{key:e._$s(7,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),staticClass:e._$s("8-"+r,"sc","collectionlist"),attrs:{"data-index":e._$s("8-"+r,"a-data-index",s),_i:"8-"+r},on:{longpress:e.handlerLongtap,click:function(n){return e.toChain(t.collectContent)}}},[e._$s("9-"+r,"i","图片"===t.collectType)?[n("view",{staticClass:e._$s("10-"+r,"sc","list-top"),attrs:{_i:"10-"+r}},[e._$s("11-"+r,"i",t.collectContent)?[n("view",{staticClass:e._$s("12-"+r,"sc","only-image"),attrs:{_i:"12-"+r}},[n("image",{staticClass:e._$s("13-"+r,"sc","only-image-icon"),attrs:{src:e._$s("13-"+r,"a-src",t.collectContent),_i:"13-"+r}})])]:e._e()],2)]:e._e(),e._$s("14-"+r,"i","链接"===t.collectType)?[n("view",{staticClass:e._$s("15-"+r,"sc","list-top"),attrs:{_i:"15-"+r}},[n("view",{staticClass:e._$s("16-"+r,"sc","link-image"),attrs:{_i:"16-"+r}},[n("text",{staticClass:e._$s("17-"+r,"sc","my-iconfont link-image-icon"),attrs:{_i:"17-"+r}})]),e._$s("18-"+r,"i",t.collectContent)?[n("view",{staticClass:e._$s("19-"+r,"sc","list-title"),attrs:{_i:"19-"+r}},[e._v(e._$s("19-"+r,"t0-0",e._s(t.collectContent)))])]:e._e()],2)]:e._e(),n("view",{staticClass:e._$s("20-"+r,"sc","list-btm"),attrs:{_i:"20-"+r}},[e._v(e._$s("20-"+r,"t0-0",e._s(e.userInfo.user.nickname))+e._$s("20-"+r,"t0-1",e._s(e._f("getFormatTime")(t.date)))+e._$s("20-"+r,"t0-2",e._s(t.collectType)))])],2)]}))]:e._e()],2)]:[n("view",{staticClass:e._$s(22,"sc","label-list"),attrs:{_i:22}},[n("view",{staticClass:e._$s(23,"sc","label-list-top"),attrs:{_i:23}},[e._v(e._$s(23,"t0-0",e._s(e.labelList.length>0?"所有标签":"")))]),e._$s(24,"i",e.labelList.length>0)?[n("view",{staticClass:e._$s(25,"sc","label-item"),attrs:{_i:25}},e._l(e._$s(26,"f",{forItems:e.labelList}),(function(t,s,i,r){return n("view",{key:e._$s(26,"f",{forIndex:i,key:s}),staticClass:e._$s("26-"+r,"sc","label-item-text"),attrs:{_i:"26-"+r},on:{click:function(n){return e.toCollectSearch(t,"label")}}},[e._v(e._$s("26-"+r,"t0-0",e._s(t)))])})),0)]:e._e()],2)],n("view",{staticClass:e._$s(27,"sc","def-popup"),attrs:{_i:27}},[e._$s(28,"i",e.showPop)?n("view",{staticClass:e._$s(28,"sc","def-popup-mask"),attrs:{_i:28},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.moveHandle(t)},click:e.hidePop}},[n("view",{staticClass:e._$s(29,"sc","def-popup-list"),class:e._$s(29,"c",e.showPopList?"effect-in":"effect-hide"),style:e._$s(29,"s",e.popStyle),attrs:{_i:29}},e._l(e._$s(30,"f",{forItems:e.popList}),(function(t,s,i,r){return n("view",{key:e._$s(30,"f",{forIndex:i,key:s}),staticClass:e._$s("30-"+r,"sc","def-popup-item"),attrs:{_i:"30-"+r},on:{click:function(t){return e.choosePop(s)}}},[e._v(e._$s("30-"+r,"t0-0",e._s(t)))])})),0)]):e._e()])],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"03e5":function(e,t,n){"use strict";var s=n("5744");e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(s("Request failed with status code "+n.status,n.config,null,n.request,n))}},"044b":function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function s(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||s(e)||!!e._isBuffer)}},"0548":function(e,t,n){"use strict";n.r(t);var s=n("89ae"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"05fc":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n("1018"));var s=n("f3fb"),i=n("2f62");n("587d");function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={globalData:{nim:null},computed:a({},(0,i.mapState)(["hasLogin","userInfo","rawMessageList","groupMemberList","groupMemberMap"])),watch:{hasLogin:function(t,n){t?(e("log","监听登录状态:",t," at App.vue:32"),this.setLogin(this.userInfo),this.doGetMyUserInfo(),this.getFriendList(),this.initiLocalData(this.userInfo.user.userAccount),uni.switchTab({url:"/pages/index/index"})):(uni.reLaunch({url:"/components/content/login/login"}),this.logout())}},methods:a({},(0,i.mapMutations)(["setLogin","logout","setRawMessageList","appHideSetData"]),{},(0,i.mapActions)(["doGetMyUserInfo","getFriendList"]),{loginStatus:function(){var t=uni.getStorageSync("userInfo");e("log","app>userInfo:",t," at App.vue:62"),t&&t.token.length>0?(e("log","已登录"," at App.vue:64"),this.setLogin(t)):e("log","未登录"," at App.vue:67")},initiLocalData:function(e){(0,s.initiLocalDB)(e)&&(0,s.getRawMsg)(e,"p2p-1579139382461")}}),onLaunch:function(){e("log","App Launch"," at App.vue:85"),this.loginStatus(),plus.push.addEventListener("click",(function(t){e("log","点击了推送通知:",t," at App.vue:91"),uni.switchTab({url:"/pages/index/index",success:function(n){uni.navigateTo({url:"/components/content/remind/Reminded",success:function(n){plus.nativeUI.alert(t.content,(function(){e("log","点击后显示的UI"," at App.vue:99")}),t.title,"收到")}})}})}));var t=plus.push.getAllMessage();e("log","当前所有的推送消息:",t," at App.vue:108")},onShow:function(){var t=this;e("log","getApp():",getApp()," at App.vue:112"),e("log","App Show"," at App.vue:113"),uni.$on("updateFriendList",(function(e){t.getFriendList()})),setTimeout((function(){e("log","groupMemberList:",t.groupMemberList," at App.vue:120"),e("log","groupMemberMap",t.groupMemberMap," at App.vue:121")}),2e3)},onHide:function(){e("log","App Hide"," at App.vue:126"),this.appHideSetData()},onError:function(t){e("log","error:",t," at App.vue:131")}};t.default=u}).call(this,n("0de9")["default"])},"0732":function(e,t,n){"use strict";n.r(t);var s=n("38a1"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"0794":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","GenderInfo"),attrs:{_i:0}},e._l(e._$s(1,"f",{forItems:e.genderChecked}),(function(t,s,i,r){return n("default-list",{key:e._$s(1,"f",{forIndex:i,key:s}),staticClass:e._$s("1-"+r,"sc","info-list"),attrs:{myRight:!1,_i:"1-"+r},nativeOn:{click:function(t){return e.changeCheckde(s)}}},[n("view",{slot:"def-list-left"},[e._v(e._$s("2-"+r,"t0-0",e._s(t.value)))]),e._$s("3-"+r,"i",t.checked)?n("view",{slot:"def-list-right"},[n("image",{attrs:{_i:"4-"+r}})]):e._e()])})),1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"0942":function(e,t,n){"use strict";n.r(t);var s=n("db25"),i=n("40c4");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"70234a5d",null,!1,s["a"],o);t["default"]=c.exports},"09ee":function(e,t,n){"use strict";n.r(t);var s=n("e0c3"),i=n("48c9");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"09f2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("0261")),i=n("2f62");function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{DefaultList:s.default},methods:a({},(0,i.mapMutations)(["logout"]),{toLogin:function(){var t=this;uni.showModal({title:"提示",content:"您确定要退出当前帐户?",success:function(e){if(e.confirm)t.logout(),uni.reLaunch({url:"/components/content/login/login"});else if(e.cancel)return!1},fail:function(t){e("log",t," at components\\content\\setting\\Setting.vue:72")}})}})};t.default=u}).call(this,n("0de9")["default"])},"0a25":function(e,t,n){"use strict";n.r(t);var s=n("0794"),i=n("c4f1");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"0b4c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{letters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"]}},methods:{backTop:function(){this.tapIndex(-2)},tapIndex:function(e){uni.$emit("tapIndex",{index:e})}}};t.default=s},"0b6f":function(e,t,n){"use strict";n.r(t);var s=n("12ab"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"0bef":function(e,t,n){"use strict";(function(t){var s=n("9f1f"),i=n("160f"),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function a(){var e;return"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)?e=n("cd4c"):"undefined"!==typeof XMLHttpRequest&&(e=n("cd4c")),e}var c={adapter:a(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};s.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),s.forEach(["post","put","patch"],(function(e){c.headers[e]=s.merge(r)})),e.exports=c}).call(this,n("4362"))},"0c7f":function(e,t,n){"use strict";n.r(t);var s=n("b295"),i=n("83c0");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"0cb1":function(e,t,n){"use strict";n.r(t);var s=n("bb08"),i=n("0f13");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"6619f4be",null,!1,s["a"],o);t["default"]=c.exports},"0de9":function(e,t,n){"use strict";function s(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function i(){return"string"===typeof __channelId__&&__channelId__}function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];console[e].apply(console,n)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift();if(i())return t.push(t.pop().replace("at ","uni-app:///")),console[r].apply(console,t);var o=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e)+"---END:JSON---"}catch(i){e="[object object]"}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=s(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),a="";if(o.length>1){var c=o.pop();a=o.join("---COMMA---"),0===c.indexOf(" at ")?a+=c:a+="---COMMA---"+c}else a=o[0];console[r](a)}n.r(t),n.d(t,"log",(function(){return r})),n.d(t,"default",(function(){return o}))},"0e9c":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","reminded set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","reminded-list"),attrs:{_i:1}},[e._$s(2,"i",e.draftRemindList.length>0)?n("view",{staticClass:e._$s(2,"sc","nosave-reminded"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","def-type-title"),attrs:{_i:3}}),e._l(e._$s(4,"f",{forItems:e.draftRemindList}),(function(t,s,i,r){return n("view",{key:e._$s(4,"f",{forIndex:i,key:s}),staticClass:e._$s("4-"+r,"sc","reminded-item"),attrs:{_i:"4-"+r},on:{click:function(t){return e.toRemind("edit",s)}}},[n("view",{staticClass:e._$s("5-"+r,"sc","reminded-item-left center-box"),class:e._$s("5-"+r,"c",{"my-iconfont iconchecked":t.checked}),attrs:{_i:"5-"+r},on:{click:function(t){return t.stopPropagation(),e.handleCheck("draft",s)}}}),n("view",{staticClass:e._$s("6-"+r,"sc","reminded-item-center"),attrs:{_i:"6-"+r}},[n("view",{staticClass:e._$s("7-"+r,"sc","reminded-item-center-title nosavereminded-title"),attrs:{_i:"7-"+r}},[e._v(e._$s("7-"+r,"t0-0",e._s(t.remindTitle)))]),e._$s("8-"+r,"i",t.remindTime)?n("view",{staticClass:e._$s("8-"+r,"sc","reminded-item-center-time"),attrs:{_i:"8-"+r}},[e._v(e._$s("8-"+r,"t0-0",e._s(e._f("calcTime")(t.remindTime))))]):e._e()])])}))],2):e._e(),e._$s(9,"i",e.remindList.length>0)?n("view",{staticClass:e._$s(9,"sc","will-reminded"),attrs:{_i:9}},[n("view",{staticClass:e._$s(10,"sc","def-type-title"),attrs:{_i:10}}),e._l(e._$s(11,"f",{forItems:e.remindList}),(function(t,s,i,r){return n("view",{key:e._$s(11,"f",{forIndex:i,key:s}),staticClass:e._$s("11-"+r,"sc","reminded-item"),attrs:{_i:"11-"+r},on:{click:function(t){return e.toRemind("modify",s)}}},[n("view",{staticClass:e._$s("12-"+r,"sc","reminded-item-left center-box"),class:e._$s("12-"+r,"c",{"my-iconfont iconchecked":t.checked}),attrs:{_i:"12-"+r},on:{click:function(t){return t.stopPropagation(),e.handleCheck("default",s)}}}),n("view",{staticClass:e._$s("13-"+r,"sc","reminded-item-center"),attrs:{_i:"13-"+r}},[n("view",{staticClass:e._$s("14-"+r,"sc","reminded-item-center-title"),class:e._$s("14-"+r,"c",{"completedreminded-title":1===t.remindStatus,"obsoletereminded-title":2===t.remindStatus}),attrs:{_i:"14-"+r}},[e._v(e._$s("14-"+r,"t0-0",e._s(t.remindTitle)))]),n("view",{staticClass:e._$s("15-"+r,"sc","reminded-item-center-time"),attrs:{_i:"15-"+r}},[e._v(e._$s("15-"+r,"t0-0",e._s(e._f("calcTime")(t.remindTime))))])])])}))],2):e._e(),n("view",{staticClass:e._$s(16,"sc","def-type-title moreRemindTitle"),attrs:{_i:16},on:{click:e.queryRemind}},[e._v(e._$s(16,"t0-0",e._s(e.hasMoreRemind?"点击加载更多":"没有更多数据")))])]),n("view",{staticClass:e._$s(17,"sc","reminded-btm"),attrs:{_i:17}},[n("view",{staticClass:e._$s(18,"sc","reminded-btm-first center-box"),class:e._$s(18,"c",{"my-iconfont iconchecked":e.calcIsAllElection}),attrs:{_i:18},on:{click:function(t){return t.stopPropagation(),e.allElection(t)}}}),n("view",{staticClass:e._$s(19,"sc","reminded-btm-second"),attrs:{_i:19}},[e._v(e._$s(19,"t0-0",e._s(e.electionCount)))]),n("view",{staticClass:e._$s(20,"sc","reminded-btm-third"),attrs:{_i:20},on:{click:function(t){return t.stopPropagation(),e.handleDelRemind(t)}}})]),n("view",{staticClass:e._$s(21,"sc","reminded-menu"),attrs:{_i:21},on:{click:function(t){return e.toRemind("new",null)}}})])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"0ea2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("42c5"),i=n("2f62");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{friendInfo:{},changeInfo:{},isShowInput1:!1,isShowInput3:!1}},computed:o({},(0,i.mapState)(["userInfo","friendList"])),methods:{getMyFriendInfo:function(t){var n=this;(0,s.getMyFriendInfoRequest)("?account=".concat(this.userInfo.user.userAccount,"&friendAccount=").concat(t)).then((function(t){if(e("log",t," at components\\content\\changefriendinfo\\ChangeRemark.vue:86"),200===t.status)if(2e3===t.data.code){var s=t.data.data;n.friendInfo=s;var i={friendAccount:s.friendAccount,remarkName:s.remarkName,friendDescribe:s.friendDescribe,friendLabelList:s.friendLabelList,friendPhoneList:s.friendPhoneList};"null"===n.friendInfo.friendDescribe&&(n.friendInfo.friendDescribe=null,i.friendDescribe=null),""===n.friendInfo.friendPhoneList[0]&&(n.friendInfo.friendPhoneList=[],i.friendPhoneList=[]),n.changeInfo=i,n.changeInfo.friendPhoneList.push(""),e("log",n.changeInfo.friendPhoneList," at components\\content\\changefriendinfo\\ChangeRemark.vue:118")}else uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"});else 404===t.status?uni.showToast({title:"网络走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\changefriendinfo\\ChangeRemark.vue:138"),uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}))},addingPhone:function(t){var n=t.currentTarget.dataset.index,s=this.changeInfo.friendPhoneList.length-1,i=this.changeInfo.friendPhoneList[this.changeInfo.friendPhoneList.length-1];e("log","this.changeInfo.friendPhoneList:",this.changeInfo.friendPhoneList," at components\\content\\changefriendinfo\\ChangeRemark.vue:153"),e("log","this.friendInfo.friendPhoneList:",this.friendInfo.friendPhoneList," at components\\content\\changefriendinfo\\ChangeRemark.vue:154"),n===s?""!==i&&(e("log","添加空字符串"," at components\\content\\changefriendinfo\\ChangeRemark.vue:159"),this.changeInfo.friendPhoneList.push("")):""===t.detail.value&&this.changeInfo.friendPhoneList.splice(n,1)},delPhoneList:function(e){this.changeInfo.friendPhoneList.splice(e,1)},updateFriendInfo:function(){var t=this.changeInfo;t["myAccount"]=this.userInfo.user.userAccount,t.friendPhoneList.splice(-1,1),e("log","将要修改的好友信息：",t," at components\\content\\changefriendinfo\\ChangeRemark.vue:179"),t.remarkName?(0,s.updateFriendInfoRequest)(t).then((function(t){e("log",t," at components\\content\\changefriendinfo\\ChangeRemark.vue:182"),200===t.status?2e3===t.data.code?(uni.$emit("changeFriendInfo",{}),uni.$emit("updateFriendList",{}),uni.navigateBack()):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}):404===t.status?uni.showToast({title:"网络走丢了，请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(t){uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}),e("log",t," at components\\content\\changefriendinfo\\ChangeRemark.vue:213")})):uni.showToast({title:"请输入正确备注名",icon:"none"})},friendInfoHasChange:function(){var t=this.changeInfo,n=this.friendInfo;return t.friendPhoneList.splice(-1,1),e("log",this.changeInfo.friendPhoneList,this.friendInfo.friendPhoneList," at components\\content\\changefriendinfo\\ChangeRemark.vue:232"),t.friendDescribe!==n.friendDescribe||t.friendLabelList!==n.friendLabelList||t.friendPhoneList!==n.friendPhoneList||t.remarkName!==n.remarkName},delRemarkVal:function(){var e=this;this.$nextTick((function(){e.changeInfo.remarkName=""}))},delDescribeVal:function(){this.changeInfo.friendDescribe&&(this.changeInfo.friendDescribe="")},focusInput1:function(e){this.isShowInput1=!0},focusInput3:function(e){this.isShowInput3=!0},blurInput1:function(){var e=this;setTimeout((function(){e.isShowInput1=!1}),80)},blurInput3:function(){var e=this;setTimeout((function(){e.isShowInput3=!1}),80)},toChangeLabel:function(){var e=this.changeInfo.friendLabelList,t=this.friendInfo.allLabelList;uni.navigateTo({url:"/components/content/changefriendinfo/ChangeLabel",success:function(n){uni.setStorageSync("friendLabelList",e),uni.setStorageSync("allLabelList",t)}})}},onBackPress:function(t){var n=this;return"navigateBack"!==t.from&&("backbutton"===t.from&&uni.showModal({title:"提示",content:"是否保存修改",success:function(t){t.confirm?n.updateFriendInfo():t.cancel&&(e("log","取消修改"," at components\\content\\changefriendinfo\\ChangeRemark.vue:303"),uni.navigateBack())}}),!0)},onNavigationBarButtonTap:function(t){0===t.index&&(e("log","完成"," at components\\content\\changefriendinfo\\ChangeRemark.vue:315"),this.updateFriendInfo())},onLoad:function(t){var n=this;if(t.friendAccount){var s=t.friendAccount;this.getMyFriendInfo(s)}uni.$on("saveFriendInfoLabel",(function(t){e("log",t," at components\\content\\changefriendinfo\\ChangeRemark.vue:328"),n.changeInfo.friendLabelList=t.friendLabelList}))}};t.default=c}).call(this,n("0de9")["default"])},"0f13":function(e,t,n){"use strict";n.r(t);var s=n("25f9"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},1018:function(e,t){var n="online",s={},i={online:{appkey:"a59ba9fafb323c6fcc49a5cbf48d369a"}};s=i[n],s.openPrivateConf=!1,e.exports=s},"103d":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","defaultlist"),class:e._$s(0,"c",e.marTop?"defaultlist-martop":""),attrs:{_i:0}},[n("view",{},[n("view",{staticClass:e._$s(2,"sc","def-list"),class:e._$s(2,"c",e.noBorderBtm?"def-list-no-border":""),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","def-list-left"),attrs:{_i:3}},[e._t("def-list-left",null,{_i:4})],2),n("view",{staticClass:e._$s(5,"sc","def-list-center"),class:e._$s(5,"c",{alignRight:e.textRight}),attrs:{_i:5}},[e._t("def-list-center",null,{_i:6})],2),n("view",{staticClass:e._$s(7,"sc","def-list-right"),attrs:{_i:7}},[e._$s(8,"i",e.myRight)?n("text",{staticClass:e._$s(8,"sc","my-iconfont"),attrs:{_i:8}}):e._t("def-list-right",null,{_i:9})],2)])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"10a4":function(e,t,n){"use strict";n.r(t);var s=n("b416"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"10d7":function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){s(this,e),this.handlers=[]}return r(e,[{key:"use",value:function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"forEach",value:function(e){this.handlers.forEach((function(t){t&&e(t)}))}}]),e}(),a=o;t.default=a},1122:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("0261")),i=n("7429");function r(e){return e&&e.__esModule?e:{default:e}}var o={components:{DefaultList:s.default},data:function(){return{addfriendInfo:null,friendPhone:null,imgUrl:""}},methods:{toApplyFriend:function(){uni.navigateTo({url:"/components/content/applyfriend/ApplyFriend?friendPhone="+this.friendPhone})}},onNavigationBarButtonTap:function(e){0===e.index&&uni.showActionSheet({itemList:["设置备注和标签","加入黑名单","取消"],success:function(e){}})},created:function(){this.imgUrl=i.imgBaseUrl},onLoad:function(t){e("log",t," at components\\content\\addfriend\\AddfriendInfo.vue:103"),this.addfriendInfo=JSON.parse(decodeURIComponent(t.addfriendInfo)),this.friendPhone=t.friendPhone}};t.default=o}).call(this,n("0de9")["default"])},1226:function(e,t,n){"use strict";n.r(t);var s=n("f24f"),i=n("78aa");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"f51c1fa8",null,!1,s["a"],o);t["default"]=c.exports},1291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pinyin_dict_notone=void 0;var s={a:"阿啊呵腌嗄吖锕",e:"额阿俄恶鹅遏鄂厄饿峨扼娥鳄哦蛾噩愕讹锷垩婀鹗萼谔莪腭锇颚呃阏屙苊轭",ai:"爱埃艾碍癌哀挨矮隘蔼唉皑哎霭捱暧嫒嗳瑷嗌锿砹",ei:"诶",xi:"系西席息希习吸喜细析戏洗悉锡溪惜稀袭夕洒晰昔牺腊烯熙媳栖膝隙犀蹊硒兮熄曦禧嬉玺奚汐徙羲铣淅嘻歙熹矽蟋郗唏皙隰樨浠忾蜥檄郄翕阋鳃舾屣葸螅咭粞觋欷僖醯鼷裼穸饩舄禊诶菥蓰",yi:"一以已意议义益亿易医艺食依移衣异伊仪宜射遗疑毅谊亦疫役忆抑尾乙译翼蛇溢椅沂泄逸蚁夷邑怡绎彝裔姨熠贻矣屹颐倚诣胰奕翌疙弈轶蛾驿壹猗臆弋铱旖漪迤佚翊诒怿痍懿饴峄揖眙镒仡黟肄咿翳挹缢呓刈咦嶷羿钇殪荑薏蜴镱噫癔苡悒嗌瘗衤佾埸圯舣酏劓",an:"安案按岸暗鞍氨俺胺铵谙庵黯鹌桉埯犴揞厂广",han:"厂汉韩含旱寒汗涵函喊憾罕焊翰邯撼瀚憨捍酣悍鼾邗颔蚶晗菡旰顸犴焓撖",ang:"昂仰盎肮",ao:"奥澳傲熬凹鳌敖遨鏖袄坳翱嗷拗懊岙螯骜獒鏊艹媪廒聱",wa:"瓦挖娃洼袜蛙凹哇佤娲呙腽",yu:"于与育余预域予遇奥语誉玉鱼雨渔裕愈娱欲吁舆宇羽逾豫郁寓吾狱喻御浴愉禹俞邪榆愚渝尉淤虞屿峪粥驭瑜禺毓钰隅芋熨瘀迂煜昱汩於臾盂聿竽萸妪腴圄谕觎揄龉谀俣馀庾妤瘐鬻欤鹬阈嵛雩鹆圉蜮伛纡窬窳饫蓣狳肀舁蝓燠",niu:"牛纽扭钮拗妞忸狃",o:"哦噢喔",ba:"把八巴拔伯吧坝爸霸罢芭跋扒叭靶疤笆耙鲅粑岜灞钯捌菝魃茇",pa:"怕帕爬扒趴琶啪葩耙杷钯筢",pi:"被批副否皮坏辟啤匹披疲罢僻毗坯脾譬劈媲屁琵邳裨痞癖陂丕枇噼霹吡纰砒铍淠郫埤濞睥芘蚍圮鼙罴蜱疋貔仳庀擗甓陴",bi:"比必币笔毕秘避闭佛辟壁弊彼逼碧鼻臂蔽拂泌璧庇痹毙弼匕鄙陛裨贲敝蓖吡篦纰俾铋毖筚荸薜婢哔跸濞秕荜愎睥妣芘箅髀畀滗狴萆嬖襞舭",bai:"百白败摆伯拜柏佰掰呗擘捭稗",bo:"波博播勃拨薄佛伯玻搏柏泊舶剥渤卜驳簿脖膊簸菠礴箔铂亳钵帛擘饽跛钹趵檗啵鹁擗踣",bei:"北被备倍背杯勃贝辈悲碑臂卑悖惫蓓陂钡狈呗焙碚褙庳鞴孛鹎邶鐾",ban:"办版半班般板颁伴搬斑扮拌扳瓣坂阪绊钣瘢舨癍",pan:"判盘番潘攀盼拚畔胖叛拌蹒磐爿蟠泮袢襻丬",bin:"份宾频滨斌彬濒殡缤鬓槟摈膑玢镔豳髌傧",bang:"帮邦彭旁榜棒膀镑绑傍磅蚌谤梆浜蒡",pang:"旁庞乓磅螃彷滂逄耪",beng:"泵崩蚌蹦迸绷甭嘣甏堋",bao:"报保包宝暴胞薄爆炮饱抱堡剥鲍曝葆瀑豹刨褒雹孢苞煲褓趵鸨龅勹",bu:"不部步布补捕堡埔卜埠簿哺怖钚卟瓿逋晡醭钸",pu:"普暴铺浦朴堡葡谱埔扑仆蒲曝瀑溥莆圃璞濮菩蹼匍噗氆攵镨攴镤",mian:"面棉免绵缅勉眠冕娩腼渑湎沔黾宀眄",po:"破繁坡迫颇朴泊婆泼魄粕鄱珀陂叵笸泺皤钋钷",fan:"反范犯繁饭泛翻凡返番贩烦拚帆樊藩矾梵蕃钒幡畈蘩蹯燔",fu:"府服副负富复福夫妇幅付扶父符附腐赴佛浮覆辅傅伏抚赋辐腹弗肤阜袱缚甫氟斧孚敷俯拂俘咐腑孵芙涪釜脯茯馥宓绂讣呋罘麸蝠匐芾蜉跗凫滏蝮驸绋蚨砩桴赙菔呒趺苻拊阝鲋怫稃郛莩幞祓艴黻黼鳆",ben:"本体奔苯笨夯贲锛畚坌",feng:"风丰封峰奉凤锋冯逢缝蜂枫疯讽烽俸沣酆砜葑唪",bian:"变便边编遍辩鞭辨贬匾扁卞汴辫砭苄蝙鳊弁窆笾煸褊碥忭缏",pian:"便片篇偏骗翩扁骈胼蹁谝犏缏",zhen:"镇真针圳振震珍阵诊填侦臻贞枕桢赈祯帧甄斟缜箴疹砧榛鸩轸稹溱蓁胗椹朕畛浈",biao:"表标彪镖裱飚膘飙镳婊骠飑杓髟鳔灬瘭",piao:"票朴漂飘嫖瓢剽缥殍瞟骠嘌莩螵",huo:"和活或货获火伙惑霍祸豁嚯藿锪蠖钬耠镬夥灬劐攉",bie:"别鳖憋瘪蹩",min:"民敏闽闵皿泯岷悯珉抿黾缗玟愍苠鳘",fen:"分份纷奋粉氛芬愤粪坟汾焚酚吩忿棼玢鼢瀵偾鲼",bing:"并病兵冰屏饼炳秉丙摒柄槟禀枋邴冫",geng:"更耕颈庚耿梗埂羹哽赓绠鲠",fang:"方放房防访纺芳仿坊妨肪邡舫彷枋鲂匚钫",xian:"现先县见线限显险献鲜洗宪纤陷闲贤仙衔掀咸嫌掺羡弦腺痫娴舷馅酰铣冼涎暹籼锨苋蚬跹岘藓燹鹇氙莶霰跣猃彡祆筅",fou:"不否缶",ca:"拆擦嚓礤",cha:"查察差茶插叉刹茬楂岔诧碴嚓喳姹杈汊衩搽槎镲苴檫馇锸猹",cai:"才采财材菜彩裁蔡猜踩睬",can:"参残餐灿惨蚕掺璨惭粲孱骖黪",shen:"信深参身神什审申甚沈伸慎渗肾绅莘呻婶娠砷蜃哂椹葚吲糁渖诜谂矧胂",cen:"参岑涔",san:"三参散伞叁糁馓毵",cang:"藏仓苍沧舱臧伧",zang:"藏脏葬赃臧奘驵",chen:"称陈沈沉晨琛臣尘辰衬趁忱郴宸谌碜嗔抻榇伧谶龀肜",cao:"草操曹槽糙嘈漕螬艚屮",ce:"策测册侧厕栅恻",ze:"责则泽择侧咋啧仄箦赜笮舴昃迮帻",zhai:"债择齐宅寨侧摘窄斋祭翟砦瘵哜",dao:"到道导岛倒刀盗稻蹈悼捣叨祷焘氘纛刂帱忉",ceng:"层曾蹭噌",zha:"查扎炸诈闸渣咋乍榨楂札栅眨咤柞喳喋铡蚱吒怍砟揸痄哳齄",chai:"差拆柴钗豺侪虿瘥",ci:"次此差词辞刺瓷磁兹慈茨赐祠伺雌疵鹚糍呲粢",zi:"资自子字齐咨滋仔姿紫兹孜淄籽梓鲻渍姊吱秭恣甾孳訾滓锱辎趑龇赀眦缁呲笫谘嵫髭茈粢觜耔",cuo:"措错磋挫搓撮蹉锉厝嵯痤矬瘥脞鹾",chan:"产单阐崭缠掺禅颤铲蝉搀潺蟾馋忏婵孱觇廛谄谗澶骣羼躔蒇冁",shan:"山单善陕闪衫擅汕扇掺珊禅删膳缮赡鄯栅煽姗跚鳝嬗潸讪舢苫疝掸膻钐剡蟮芟埏彡骟",zhan:"展战占站崭粘湛沾瞻颤詹斩盏辗绽毡栈蘸旃谵搌",xin:"新心信辛欣薪馨鑫芯锌忻莘昕衅歆囟忄镡",lian:"联连练廉炼脸莲恋链帘怜涟敛琏镰濂楝鲢殓潋裢裣臁奁莶蠊蔹",chang:"场长厂常偿昌唱畅倡尝肠敞倘猖娼淌裳徜昶怅嫦菖鲳阊伥苌氅惝鬯",zhang:"长张章障涨掌帐胀彰丈仗漳樟账杖璋嶂仉瘴蟑獐幛鄣嫜",chao:"超朝潮炒钞抄巢吵剿绰嘲晁焯耖怊",zhao:"着照招找召朝赵兆昭肇罩钊沼嘲爪诏濯啁棹笊",zhou:"调州周洲舟骤轴昼宙粥皱肘咒帚胄绉纣妯啁诌繇碡籀酎荮",che:"车彻撤尺扯澈掣坼砗屮",ju:"车局据具举且居剧巨聚渠距句拒俱柜菊拘炬桔惧矩鞠驹锯踞咀瞿枸掬沮莒橘飓疽钜趄踽遽琚龃椐苣裾榘狙倨榉苴讵雎锔窭鞫犋屦醵",cheng:"成程城承称盛抢乘诚呈净惩撑澄秤橙骋逞瞠丞晟铛埕塍蛏柽铖酲裎枨",rong:"容荣融绒溶蓉熔戎榕茸冗嵘肜狨蝾",sheng:"生声升胜盛乘圣剩牲甸省绳笙甥嵊晟渑眚",deng:"等登邓灯澄凳瞪蹬噔磴嶝镫簦戥",zhi:"制之治质职只志至指织支值知识直致执置止植纸拓智殖秩旨址滞氏枝芝脂帜汁肢挚稚酯掷峙炙栉侄芷窒咫吱趾痔蜘郅桎雉祉郦陟痣蛭帙枳踯徵胝栀贽祗豸鸷摭轵卮轾彘觯絷跖埴夂黹忮骘膣踬",zheng:"政正证争整征郑丁症挣蒸睁铮筝拯峥怔诤狰徵钲",tang:"堂唐糖汤塘躺趟倘棠烫淌膛搪镗傥螳溏帑羰樘醣螗耥铴瑭",chi:"持吃池迟赤驰尺斥齿翅匙痴耻炽侈弛叱啻坻眙嗤墀哧茌豉敕笞饬踟蚩柢媸魑篪褫彳鸱螭瘛眵傺",shi:"是时实事市十使世施式势视识师史示石食始士失适试什泽室似诗饰殖释驶氏硕逝湿蚀狮誓拾尸匙仕柿矢峙侍噬嗜栅拭嘘屎恃轼虱耆舐莳铈谥炻豕鲥饣螫酾筮埘弑礻蓍鲺贳",qi:"企其起期气七器汽奇齐启旗棋妻弃揭枝歧欺骑契迄亟漆戚岂稽岐琦栖缉琪泣乞砌祁崎绮祺祈凄淇杞脐麒圻憩芪伎俟畦耆葺沏萋骐鳍綦讫蕲屺颀亓碛柒啐汔綮萁嘁蛴槭欹芑桤丌蜞",chuai:"揣踹啜搋膪",tuo:"托脱拓拖妥驼陀沱鸵驮唾椭坨佗砣跎庹柁橐乇铊沲酡鼍箨柝",duo:"多度夺朵躲铎隋咄堕舵垛惰哆踱跺掇剁柁缍沲裰哚隳",xue:"学血雪削薛穴靴谑噱鳕踅泶彐",chong:"重种充冲涌崇虫宠忡憧舂茺铳艟",chou:"筹抽绸酬愁丑臭仇畴稠瞅踌惆俦瘳雠帱",qiu:"求球秋丘邱仇酋裘龟囚遒鳅虬蚯泅楸湫犰逑巯艽俅蝤赇鼽糗",xiu:"修秀休宿袖绣臭朽锈羞嗅岫溴庥馐咻髹鸺貅",chu:"出处础初助除储畜触楚厨雏矗橱锄滁躇怵绌搐刍蜍黜杵蹰亍樗憷楮",tuan:"团揣湍疃抟彖",zhui:"追坠缀揣椎锥赘惴隹骓缒",chuan:"传川船穿串喘椽舛钏遄氚巛舡",zhuan:"专转传赚砖撰篆馔啭颛",yuan:"元员院原源远愿园援圆缘袁怨渊苑宛冤媛猿垣沅塬垸鸳辕鸢瑗圜爰芫鼋橼螈眢箢掾",cuan:"窜攒篡蹿撺爨汆镩",chuang:"创床窗闯幢疮怆",zhuang:"装状庄壮撞妆幢桩奘僮戆",chui:"吹垂锤炊椎陲槌捶棰",chun:"春纯醇淳唇椿蠢鹑朐莼肫蝽",zhun:"准屯淳谆肫窀",cu:"促趋趣粗簇醋卒蹴猝蹙蔟殂徂",dun:"吨顿盾敦蹲墩囤沌钝炖盹遁趸砘礅",qu:"区去取曲趋渠趣驱屈躯衢娶祛瞿岖龋觑朐蛐癯蛆苣阒诎劬蕖蘧氍黢蠼璩麴鸲磲",xu:"需许续须序徐休蓄畜虚吁绪叙旭邪恤墟栩絮圩婿戌胥嘘浒煦酗诩朐盱蓿溆洫顼勖糈砉醑",chuo:"辍绰戳淖啜龊踔辶",zu:"组族足祖租阻卒俎诅镞菹",ji:"济机其技基记计系期际及集级几给积极己纪即继击既激绩急奇吉季齐疾迹鸡剂辑籍寄挤圾冀亟寂暨脊跻肌稽忌饥祭缉棘矶汲畸姬藉瘠骥羁妓讥稷蓟悸嫉岌叽伎鲫诘楫荠戟箕霁嵇觊麂畿玑笈犄芨唧屐髻戢佶偈笄跽蒺乩咭赍嵴虮掎齑殛鲚剞洎丌墼蕺彐芰哜",cong:"从丛匆聪葱囱琮淙枞骢苁璁",zong:"总从综宗纵踪棕粽鬃偬枞腙",cou:"凑辏腠楱",cui:"衰催崔脆翠萃粹摧璀瘁悴淬啐隹毳榱",wei:"为位委未维卫围违威伟危味微唯谓伪慰尾魏韦胃畏帷喂巍萎蔚纬潍尉渭惟薇苇炜圩娓诿玮崴桅偎逶倭猥囗葳隗痿猬涠嵬韪煨艉隹帏闱洧沩隈鲔軎",cun:"村存寸忖皴",zuo:"作做座左坐昨佐琢撮祚柞唑嘬酢怍笮阼胙",zuan:"钻纂攥缵躜",da:"大达打答搭沓瘩惮嗒哒耷鞑靼褡笪怛妲",dai:"大代带待贷毒戴袋歹呆隶逮岱傣棣怠殆黛甙埭诒绐玳呔迨",tai:"大台太态泰抬胎汰钛苔薹肽跆邰鲐酞骀炱",ta:"他它她拓塔踏塌榻沓漯獭嗒挞蹋趿遢铊鳎溻闼",dan:"但单石担丹胆旦弹蛋淡诞氮郸耽殚惮儋眈疸澹掸膻啖箪聃萏瘅赕",lu:"路六陆录绿露鲁卢炉鹿禄赂芦庐碌麓颅泸卤潞鹭辘虏璐漉噜戮鲈掳橹轳逯渌蓼撸鸬栌氇胪镥簏舻辂垆",tan:"谈探坦摊弹炭坛滩贪叹谭潭碳毯瘫檀痰袒坍覃忐昙郯澹钽锬",ren:"人任认仁忍韧刃纫饪妊荏稔壬仞轫亻衽",jie:"家结解价界接节她届介阶街借杰洁截姐揭捷劫戒皆竭桔诫楷秸睫藉拮芥诘碣嗟颉蚧孑婕疖桀讦疥偈羯袷哜喈卩鲒骱",yan:"研严验演言眼烟沿延盐炎燕岩宴艳颜殷彦掩淹阎衍铅雁咽厌焰堰砚唁焉晏檐蜒奄俨腌妍谚兖筵焱偃闫嫣鄢湮赝胭琰滟阉魇酽郾恹崦芫剡鼹菸餍埏谳讠厣罨",dang:"当党档荡挡宕砀铛裆凼菪谠",tao:"套讨跳陶涛逃桃萄淘掏滔韬叨洮啕绦饕鼗",tiao:"条调挑跳迢眺苕窕笤佻啁粜髫铫祧龆蜩鲦",te:"特忑忒铽慝",de:"的地得德底锝",dei:"得",di:"的地第提低底抵弟迪递帝敌堤蒂缔滴涤翟娣笛棣荻谛狄邸嘀砥坻诋嫡镝碲骶氐柢籴羝睇觌",ti:"体提题弟替梯踢惕剔蹄棣啼屉剃涕锑倜悌逖嚏荑醍绨鹈缇裼",tui:"推退弟腿褪颓蜕忒煺",you:"有由又优游油友右邮尤忧幼犹诱悠幽佑釉柚铀鱿囿酉攸黝莠猷蝣疣呦蚴莸莜铕宥繇卣牖鼬尢蚰侑",dian:"电点店典奠甸碘淀殿垫颠滇癫巅惦掂癜玷佃踮靛钿簟坫阽",tian:"天田添填甜甸恬腆佃舔钿阗忝殄畋栝掭",zhu:"主术住注助属逐宁著筑驻朱珠祝猪诸柱竹铸株瞩嘱贮煮烛苎褚蛛拄铢洙竺蛀渚伫杼侏澍诛茱箸炷躅翥潴邾槠舳橥丶瘃麈疰",nian:"年念酿辗碾廿捻撵拈蔫鲶埝鲇辇黏",diao:"调掉雕吊钓刁貂凋碉鲷叼铫铞",yao:"要么约药邀摇耀腰遥姚窑瑶咬尧钥谣肴夭侥吆疟妖幺杳舀窕窈曜鹞爻繇徭轺铫鳐崾珧",die:"跌叠蝶迭碟爹谍牒耋佚喋堞瓞鲽垤揲蹀",she:"设社摄涉射折舍蛇拾舌奢慑赦赊佘麝歙畲厍猞揲滠",ye:"业也夜叶射野液冶喝页爷耶邪咽椰烨掖拽曳晔谒腋噎揶靥邺铘揲",xie:"些解协写血叶谢械鞋胁斜携懈契卸谐泄蟹邪歇泻屑挟燮榭蝎撷偕亵楔颉缬邂鲑瀣勰榍薤绁渫廨獬躞",zhe:"这者着著浙折哲蔗遮辙辄柘锗褶蜇蛰鹧谪赭摺乇磔螫",ding:"定订顶丁鼎盯钉锭叮仃铤町酊啶碇腚疔玎耵",diu:"丢铥",ting:"听庭停厅廷挺亭艇婷汀铤烃霆町蜓葶梃莛",dong:"动东董冬洞懂冻栋侗咚峒氡恫胴硐垌鸫岽胨",tong:"同通统童痛铜桶桐筒彤侗佟潼捅酮砼瞳恸峒仝嗵僮垌茼",zhong:"中重种众终钟忠仲衷肿踵冢盅蚣忪锺舯螽夂",dou:"都斗读豆抖兜陡逗窦渎蚪痘蔸钭篼",du:"度都独督读毒渡杜堵赌睹肚镀渎笃竺嘟犊妒牍蠹椟黩芏髑",duan:"断段短端锻缎煅椴簖",dui:"对队追敦兑堆碓镦怼憝",rui:"瑞兑锐睿芮蕊蕤蚋枘",yue:"月说约越乐跃兑阅岳粤悦曰钥栎钺樾瀹龠哕刖",tun:"吞屯囤褪豚臀饨暾氽",hui:"会回挥汇惠辉恢徽绘毁慧灰贿卉悔秽溃荟晖彗讳诲珲堕诙蕙晦睢麾烩茴喙桧蛔洄浍虺恚蟪咴隳缋哕",wu:"务物无五武午吴舞伍污乌误亡恶屋晤悟吾雾芜梧勿巫侮坞毋诬呜钨邬捂鹜兀婺妩於戊鹉浯蜈唔骛仵焐芴鋈庑鼯牾怃圬忤痦迕杌寤阢",ya:"亚压雅牙押鸭呀轧涯崖邪芽哑讶鸦娅衙丫蚜碣垭伢氩桠琊揠吖睚痖疋迓岈砑",he:"和合河何核盖贺喝赫荷盒鹤吓呵苛禾菏壑褐涸阂阖劾诃颌嗬貉曷翮纥盍",wo:"我握窝沃卧挝涡斡渥幄蜗喔倭莴龌肟硪",en:"恩摁蒽",n:"嗯唔",er:"而二尔儿耳迩饵洱贰铒珥佴鸸鲕",fa:"发法罚乏伐阀筏砝垡珐",quan:"全权券泉圈拳劝犬铨痊诠荃醛蜷颧绻犭筌鬈悛辁畎",fei:"费非飞肥废菲肺啡沸匪斐蜚妃诽扉翡霏吠绯腓痱芾淝悱狒榧砩鲱篚镄",pei:"配培坏赔佩陪沛裴胚妃霈淠旆帔呸醅辔锫",ping:"平评凭瓶冯屏萍苹乒坪枰娉俜鲆",fo:"佛",hu:"和护许户核湖互乎呼胡戏忽虎沪糊壶葫狐蝴弧瑚浒鹄琥扈唬滹惚祜囫斛笏芴醐猢怙唿戽槲觳煳鹕冱瓠虍岵鹱烀轷",ga:"夹咖嘎尬噶旮伽尕钆尜",ge:"个合各革格歌哥盖隔割阁戈葛鸽搁胳舸疙铬骼蛤咯圪镉颌仡硌嗝鬲膈纥袼搿塥哿虼",ha:"哈蛤铪",xia:"下夏峡厦辖霞夹虾狭吓侠暇遐瞎匣瑕唬呷黠硖罅狎瘕柙",gai:"改该盖概溉钙丐芥赅垓陔戤",hai:"海还害孩亥咳骸骇氦嗨胲醢",gan:"干感赶敢甘肝杆赣乾柑尴竿秆橄矸淦苷擀酐绀泔坩旰疳澉",gang:"港钢刚岗纲冈杠缸扛肛罡戆筻",jiang:"将强江港奖讲降疆蒋姜浆匠酱僵桨绛缰犟豇礓洚茳糨耩",hang:"行航杭巷夯吭桁沆绗颃",gong:"工公共供功红贡攻宫巩龚恭拱躬弓汞蚣珙觥肱廾",hong:"红宏洪轰虹鸿弘哄烘泓訇蕻闳讧荭黉薨",guang:"广光逛潢犷胱咣桄",qiong:"穷琼穹邛茕筇跫蛩銎",gao:"高告搞稿膏糕镐皋羔锆杲郜睾诰藁篙缟槁槔",hao:"好号毫豪耗浩郝皓昊皋蒿壕灏嚎濠蚝貉颢嗥薅嚆",li:"理力利立里李历例离励礼丽黎璃厉厘粒莉梨隶栗荔沥犁漓哩狸藜罹篱鲤砺吏澧俐骊溧砾莅锂笠蠡蛎痢雳俪傈醴栎郦俚枥喱逦娌鹂戾砬唳坜疠蜊黧猁鬲粝蓠呖跞疬缡鲡鳢嫠詈悝苈篥轹",jia:"家加价假佳架甲嘉贾驾嫁夹稼钾挟拮迦伽颊浃枷戛荚痂颉镓笳珈岬胛袈郏葭袷瘕铗跏蛱恝哿",luo:"落罗络洛逻螺锣骆萝裸漯烙摞骡咯箩珞捋荦硌雒椤镙跞瘰泺脶猡倮蠃",ke:"可科克客刻课颗渴壳柯棵呵坷恪苛咳磕珂稞瞌溘轲窠嗑疴蝌岢铪颏髁蚵缂氪骒钶锞",qia:"卡恰洽掐髂袷咭葜",gei:"给",gen:"根跟亘艮哏茛",hen:"很狠恨痕哏",gou:"构购够句沟狗钩拘勾苟垢枸篝佝媾诟岣彀缑笱鞲觏遘",kou:"口扣寇叩抠佝蔻芤眍筘",gu:"股古顾故固鼓骨估谷贾姑孤雇辜菇沽咕呱锢钴箍汩梏痼崮轱鸪牯蛊诂毂鹘菰罟嘏臌觚瞽蛄酤牿鲴",pai:"牌排派拍迫徘湃俳哌蒎",gua:"括挂瓜刮寡卦呱褂剐胍诖鸹栝呙",tou:"投头透偷愉骰亠",guai:"怪拐乖",kuai:"会快块筷脍蒯侩浍郐蒉狯哙",guan:"关管观馆官贯冠惯灌罐莞纶棺斡矜倌鹳鳏盥掼涫",wan:"万完晚湾玩碗顽挽弯蔓丸莞皖宛婉腕蜿惋烷琬畹豌剜纨绾脘菀芄箢",ne:"呢哪呐讷疒",gui:"规贵归轨桂柜圭鬼硅瑰跪龟匮闺诡癸鳜桧皈鲑刽晷傀眭妫炅庋簋刿宄匦",jun:"军均俊君峻菌竣钧骏龟浚隽郡筠皲麇捃",jiong:"窘炯迥炅冂扃",jue:"决绝角觉掘崛诀獗抉爵嚼倔厥蕨攫珏矍蹶谲镢鳜噱桷噘撅橛孓觖劂爝",gun:"滚棍辊衮磙鲧绲丨",hun:"婚混魂浑昏棍珲荤馄诨溷阍",guo:"国过果郭锅裹帼涡椁囗蝈虢聒埚掴猓崞蜾呙馘",hei:"黑嘿嗨",kan:"看刊勘堪坎砍侃嵌槛瞰阚龛戡凵莰",heng:"衡横恒亨哼珩桁蘅",mo:"万没么模末冒莫摩墨默磨摸漠脉膜魔沫陌抹寞蘑摹蓦馍茉嘿谟秣蟆貉嫫镆殁耱嬷麽瘼貊貘",peng:"鹏朋彭膨蓬碰苹棚捧亨烹篷澎抨硼怦砰嘭蟛堋",hou:"后候厚侯猴喉吼逅篌糇骺後鲎瘊堠",hua:"化华划话花画滑哗豁骅桦猾铧砉",huai:"怀坏淮徊槐踝",huan:"还环换欢患缓唤焕幻痪桓寰涣宦垸洹浣豢奂郇圜獾鲩鬟萑逭漶锾缳擐",xun:"讯训迅孙寻询循旬巡汛勋逊熏徇浚殉驯鲟薰荀浔洵峋埙巽郇醺恂荨窨蕈曛獯",huang:"黄荒煌皇凰慌晃潢谎惶簧璜恍幌湟蝗磺隍徨遑肓篁鳇蟥癀",nai:"能乃奶耐奈鼐萘氖柰佴艿",luan:"乱卵滦峦鸾栾銮挛孪脔娈",qie:"切且契窃茄砌锲怯伽惬妾趄挈郄箧慊",jian:"建间件见坚检健监减简艰践兼鉴键渐柬剑尖肩舰荐箭浅剪俭碱茧奸歼拣捡煎贱溅槛涧堑笺谏饯锏缄睑謇蹇腱菅翦戬毽笕犍硷鞯牮枧湔鲣囝裥踺搛缣鹣蒹谫僭戋趼楗",nan:"南难男楠喃囡赧腩囝蝻",qian:"前千钱签潜迁欠纤牵浅遣谦乾铅歉黔谴嵌倩钳茜虔堑钎骞阡掮钤扦芊犍荨仟芡悭缱佥愆褰凵肷岍搴箝慊椠",qiang:"强抢疆墙枪腔锵呛羌蔷襁羟跄樯戕嫱戗炝镪锖蜣",xiang:"向项相想乡象响香降像享箱羊祥湘详橡巷翔襄厢镶飨饷缃骧芗庠鲞葙蟓",jiao:"教交较校角觉叫脚缴胶轿郊焦骄浇椒礁佼蕉娇矫搅绞酵剿嚼饺窖跤蛟侥狡姣皎茭峤铰醮鲛湫徼鹪僬噍艽挢敫",zhuo:"着著缴桌卓捉琢灼浊酌拙茁涿镯淖啄濯焯倬擢斫棹诼浞禚",qiao:"桥乔侨巧悄敲俏壳雀瞧翘窍峭锹撬荞跷樵憔鞘橇峤诮谯愀鞒硗劁缲",xiao:"小效销消校晓笑肖削孝萧俏潇硝宵啸嚣霄淆哮筱逍姣箫骁枭哓绡蛸崤枵魈",si:"司四思斯食私死似丝饲寺肆撕泗伺嗣祀厮驷嘶锶俟巳蛳咝耜笥纟糸鸶缌澌姒汜厶兕",kai:"开凯慨岂楷恺揩锴铠忾垲剀锎蒈",jin:"进金今近仅紧尽津斤禁锦劲晋谨筋巾浸襟靳瑾烬缙钅矜觐堇馑荩噤廑妗槿赆衿卺",qin:"亲勤侵秦钦琴禽芹沁寝擒覃噙矜嗪揿溱芩衾廑锓吣檎螓",jing:"经京精境竞景警竟井惊径静劲敬净镜睛晶颈荆兢靖泾憬鲸茎腈菁胫阱旌粳靓痉箐儆迳婧肼刭弪獍",ying:"应营影英景迎映硬盈赢颖婴鹰荧莹樱瑛蝇萦莺颍膺缨瀛楹罂荥萤鹦滢蓥郢茔嘤璎嬴瘿媵撄潆",jiu:"就究九酒久救旧纠舅灸疚揪咎韭玖臼柩赳鸠鹫厩啾阄桕僦鬏",zui:"最罪嘴醉咀蕞觜",juan:"卷捐圈眷娟倦绢隽镌涓鹃鄄蠲狷锩桊",suan:"算酸蒜狻",yun:"员运云允孕蕴韵酝耘晕匀芸陨纭郧筠恽韫郓氲殒愠昀菀狁",qun:"群裙逡麇",ka:"卡喀咖咔咯佧胩",kang:"康抗扛慷炕亢糠伉钪闶",keng:"坑铿吭",kao:"考靠烤拷铐栲尻犒",ken:"肯垦恳啃龈裉",yin:"因引银印音饮阴隐姻殷淫尹荫吟瘾寅茵圻垠鄞湮蚓氤胤龈窨喑铟洇狺夤廴吲霪茚堙",kong:"空控孔恐倥崆箜",ku:"苦库哭酷裤枯窟挎骷堀绔刳喾",kua:"跨夸垮挎胯侉",kui:"亏奎愧魁馈溃匮葵窥盔逵睽馗聩喟夔篑岿喹揆隗傀暌跬蒉愦悝蝰",kuan:"款宽髋",kuang:"况矿框狂旷眶匡筐邝圹哐贶夼诳诓纩",que:"确却缺雀鹊阙瘸榷炔阕悫",kun:"困昆坤捆琨锟鲲醌髡悃阃",kuo:"扩括阔廓蛞",la:"拉落垃腊啦辣蜡喇剌旯砬邋瘌",lai:"来莱赖睐徕籁涞赉濑癞崃疠铼",lan:"兰览蓝篮栏岚烂滥缆揽澜拦懒榄斓婪阑褴罱啉谰镧漤",lin:"林临邻赁琳磷淋麟霖鳞凛拎遴蔺吝粼嶙躏廪檩啉辚膦瞵懔",lang:"浪朗郎廊狼琅榔螂阆锒莨啷蒗稂",liang:"量两粮良辆亮梁凉谅粱晾靓踉莨椋魉墚",lao:"老劳落络牢捞涝烙姥佬崂唠酪潦痨醪铑铹栳耢",mu:"目模木亩幕母牧莫穆姆墓慕牟牡募睦缪沐暮拇姥钼苜仫毪坶",le:"了乐勒肋叻鳓嘞仂泐",lei:"类累雷勒泪蕾垒磊擂镭肋羸耒儡嫘缧酹嘞诔檑",sui:"随岁虽碎尿隧遂髓穗绥隋邃睢祟濉燧谇眭荽",lie:"列烈劣裂猎冽咧趔洌鬣埒捩躐",leng:"冷愣棱楞塄",ling:"领令另零灵龄陵岭凌玲铃菱棱伶羚苓聆翎泠瓴囹绫呤棂蛉酃鲮柃",lia:"俩",liao:"了料疗辽廖聊寥缪僚燎缭撂撩嘹潦镣寮蓼獠钌尥鹩",liu:"流刘六留柳瘤硫溜碌浏榴琉馏遛鎏骝绺镏旒熘鹨锍",lun:"论轮伦仑纶沦抡囵",lv:"率律旅绿虑履吕铝屡氯缕滤侣驴榈闾偻褛捋膂稆",lou:"楼露漏陋娄搂篓喽镂偻瘘髅耧蝼嵝蒌",mao:"贸毛矛冒貌茂茅帽猫髦锚懋袤牦卯铆耄峁瑁蟊茆蝥旄泖昴瞀",long:"龙隆弄垄笼拢聋陇胧珑窿茏咙砻垅泷栊癃",nong:"农浓弄脓侬哝",shuang:"双爽霜孀泷",shu:"术书数属树输束述署朱熟殊蔬舒疏鼠淑叔暑枢墅俞曙抒竖蜀薯梳戍恕孰沭赎庶漱塾倏澍纾姝菽黍腧秫毹殳疋摅",shuai:"率衰帅摔甩蟀",lve:"略掠锊",ma:"么马吗摩麻码妈玛嘛骂抹蚂唛蟆犸杩",me:"么麽",mai:"买卖麦迈脉埋霾荬劢",man:"满慢曼漫埋蔓瞒蛮鳗馒幔谩螨熳缦镘颟墁鞔",mi:"米密秘迷弥蜜谜觅靡泌眯麋猕谧咪糜宓汨醚嘧弭脒冖幂祢縻蘼芈糸敉",men:"们门闷瞒汶扪焖懑鞔钔",mang:"忙盲茫芒氓莽蟒邙硭漭",meng:"蒙盟梦猛孟萌氓朦锰檬勐懵蟒蜢虻黾蠓艨甍艋瞢礞",miao:"苗秒妙描庙瞄缪渺淼藐缈邈鹋杪眇喵",mou:"某谋牟缪眸哞鍪蛑侔厶",miu:"缪谬",mei:"美没每煤梅媒枚妹眉魅霉昧媚玫酶镁湄寐莓袂楣糜嵋镅浼猸鹛",wen:"文问闻稳温纹吻蚊雯紊瘟汶韫刎璺玟阌",mie:"灭蔑篾乜咩蠛",ming:"明名命鸣铭冥茗溟酩瞑螟暝",na:"内南那纳拿哪娜钠呐捺衲镎肭",nei:"内那哪馁",nuo:"难诺挪娜糯懦傩喏搦锘",ruo:"若弱偌箬",nang:"囊馕囔曩攮",nao:"脑闹恼挠瑙淖孬垴铙桡呶硇猱蛲",ni:"你尼呢泥疑拟逆倪妮腻匿霓溺旎昵坭铌鲵伲怩睨猊",nen:"嫩恁",neng:"能",nin:"您恁",niao:"鸟尿溺袅脲茑嬲",nie:"摄聂捏涅镍孽捻蘖啮蹑嗫臬镊颞乜陧",niang:"娘酿",ning:"宁凝拧泞柠咛狞佞聍甯",nu:"努怒奴弩驽帑孥胬",nv:"女钕衄恧",ru:"入如女乳儒辱汝茹褥孺濡蠕嚅缛溽铷洳薷襦颥蓐",nuan:"暖",nve:"虐疟",re:"热若惹喏",ou:"区欧偶殴呕禺藕讴鸥瓯沤耦怄",pao:"跑炮泡抛刨袍咆疱庖狍匏脬",pou:"剖掊裒",pen:"喷盆湓",pie:"瞥撇苤氕丿",pin:"品贫聘频拼拚颦姘嫔榀牝",se:"色塞瑟涩啬穑铯槭",qing:"情青清请亲轻庆倾顷卿晴氢擎氰罄磬蜻箐鲭綮苘黥圊檠謦",zan:"赞暂攒堑昝簪糌瓒錾趱拶",shao:"少绍召烧稍邵哨韶捎勺梢鞘芍苕劭艄筲杓潲",sao:"扫骚嫂梢缫搔瘙臊埽缲鳋",sha:"沙厦杀纱砂啥莎刹杉傻煞鲨霎嗄痧裟挲铩唼歃",xuan:"县选宣券旋悬轩喧玄绚渲璇炫萱癣漩眩暄煊铉楦泫谖痃碹揎镟儇",ran:"然染燃冉苒髯蚺",rang:"让壤攘嚷瓤穰禳",rao:"绕扰饶娆桡荛",reng:"仍扔",ri:"日",rou:"肉柔揉糅鞣蹂",ruan:"软阮朊",run:"润闰",sa:"萨洒撒飒卅仨脎",suo:"所些索缩锁莎梭琐嗦唆唢娑蓑羧挲桫嗍睃",sai:"思赛塞腮噻鳃",shui:"说水税谁睡氵",sang:"桑丧嗓搡颡磉",sen:"森",seng:"僧",shai:"筛晒",shang:"上商尚伤赏汤裳墒晌垧觞殇熵绱",xing:"行省星腥猩惺兴刑型形邢饧醒幸杏性姓陉荇荥擤悻硎",shou:"收手受首售授守寿瘦兽狩绶艏扌",shuo:"说数硕烁朔铄妁槊蒴搠",su:"速素苏诉缩塑肃俗宿粟溯酥夙愫簌稣僳谡涑蔌嗉觫",shua:"刷耍唰",shuan:"栓拴涮闩",shun:"顺瞬舜吮",song:"送松宋讼颂耸诵嵩淞怂悚崧凇忪竦菘",sou:"艘搜擞嗽嗖叟馊薮飕嗾溲锼螋瞍",sun:"损孙笋荪榫隼狲飧",teng:"腾疼藤滕誊",tie:"铁贴帖餮萜",tu:"土突图途徒涂吐屠兔秃凸荼钍菟堍酴",wai:"外歪崴",wang:"王望往网忘亡旺汪枉妄惘罔辋魍",weng:"翁嗡瓮蓊蕹",zhua:"抓挝爪",yang:"样养央阳洋扬杨羊详氧仰秧痒漾疡泱殃恙鸯徉佯怏炀烊鞅蛘",xiong:"雄兄熊胸凶匈汹芎",yo:"哟唷",yong:"用永拥勇涌泳庸俑踊佣咏雍甬镛臃邕蛹恿慵壅痈鳙墉饔喁",za:"杂扎咱砸咋匝咂拶",zai:"在再灾载栽仔宰哉崽甾",zao:"造早遭枣噪灶燥糟凿躁藻皂澡蚤唣",zei:"贼",zen:"怎谮",zeng:"增曾综赠憎锃甑罾缯",zhei:"这",zou:"走邹奏揍诹驺陬楱鄹鲰",zhuai:"转拽",zun:"尊遵鳟樽撙",dia:"嗲",nou:"耨"};t.pinyin_dict_notone=s},"12ab":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("fc62"));function i(e){return e&&e.__esModule?e:{default:e}}var r={components:{MessageList:s.default},data:function(){return{scrollTop:0,old:{scrollTop:0}}},methods:{upper:function(t){e("log",t," at pages\\message\\message.vue:28")},lower:function(t){e("log",t," at pages\\message\\message.vue:31")},scroll:function(t){e("log",t," at pages\\message\\message.vue:34"),this.old.scrollTop=t.detail.scrollTop},goTop:function(e){this.scrollTop=this.old.scrollTop,this.$nextTick((function(){this.scrollTop=0})),uni.showToast({icon:"none",title:"纵向滚动 scrollTop 值已被修改为 0"})}}};t.default=r}).call(this,n("0de9")["default"])},"13c3":function(e,t,n){"use strict";n.r(t);var s=n("2bc8"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},1489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={pages:{},globalStyle:{}};t.default=s},"15d9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("f4fa"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return u(e)||c(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["url","method","data","dataType","responseType","params"],i=["header"],o=["baseURL"],a=[].concat(n,i,o),c=r(new Set([].concat(r(Object.keys(t)),r(Object.keys(e))))),u=c.filter((function(e){return!a.includes(e)})),l={};return n.forEach((function(n){var i=t[n]||e[n];!s.default.isType("Undefined",i)&&(l[n]=i)})),i.forEach((function(n){var i=e[n],r=t[n];s.default.isType("Object",r)?l[n]=s.default.deepCopy(i,r):s.default.isType("Object",i)&&(l[n]=s.default.deepCopy(i))})),o.forEach((function(t){var n=e[t];s.default.isType("Undefined",n)||(l[t]=e[t])})),u.forEach((function(n){var i=e[n],r=t[n];s.default.isType("Undefined",r)?s.default.isType("Undefined",i)||(l[n]=i):l[n]=r})),l.instanceURL=t.url,l.url=s.default.getFullURL(l.baseURL,l.url),l.url=s.default.paramsToURL(l),l.header=s.default.adapterContentType(e.header,t.header,l.header),"upload"===l.method&&delete l.header["content-type"],l}var f=d;t.default=f},"15e1":function(e,t,n){"use strict";n.r(t);var s=n("b19b"),i=n("e893");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"241032de",null,!1,s["a"],o);t["default"]=c.exports},"15ed":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","changepwd2 set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","center-content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","login-content"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","login-head"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","login-form"),attrs:{_i:4}},[n("form",{attrs:{_i:5},on:{submit:e.registerClick}},[n("view",{staticClass:e._$s(6,"sc","my-input"),attrs:{_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"}],staticClass:e._$s(7,"sc","def-input"),attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.password1)},on:{input:[function(t){t.target.composing||(e.password1=t.target.value)},e.handlerPassword1]}}),n("view",{staticClass:e._$s(8,"sc","def-input-del"),attrs:{_i:8},on:{click:e.delPwd1Input}},[e._$s(9,"i",e.showPassword1Input)?n("text",{staticClass:e._$s(9,"sc","my-iconfont def-input-del-icon"),attrs:{_i:9}}):e._e()])]),n("view",{staticClass:e._$s(10,"sc","my-input"),attrs:{_i:10}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],staticClass:e._$s(11,"sc","def-input"),attrs:{_i:11},domProps:{value:e._$s(11,"v-model",e.password2)},on:{input:[function(t){t.target.composing||(e.password2=t.target.value)},e.handlerPassword2]}}),n("view",{staticClass:e._$s(12,"sc","def-input-del"),attrs:{_i:12},on:{click:e.delPwd2Input}},[e._$s(13,"i",e.showPassword2Input)?n("text",{staticClass:e._$s(13,"sc","my-iconfont def-input-del-icon"),attrs:{_i:13}}):e._e()])]),n("button",{staticClass:e._$s(14,"sc","def-button def-font-lg"),attrs:{_i:14}})])])])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"160f":function(e,t,n){"use strict";var s=n("9f1f");e.exports=function(e,t){s.forEach(e,(function(n,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[s])}))}},"16ad":function(e,t,n){"use strict";n.r(t);var s=n("4f7a"),i=n("1e2d");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"554047e8",null,!1,s["a"],o);t["default"]=c.exports},"16e9":function(e,t,n){"use strict";n.r(t);var s=n("0e9c"),i=n("f377");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},1767:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","add-groupmember"),attrs:{_i:0}},[n("scroll-view",{staticClass:e._$s(1,"sc","scrollList"),style:e._$s(1,"s",e.scrollStyle),attrs:{"scroll-into-view":e._$s(1,"a-scroll-into-view",e.currentLetter),_i:1}},e._l(e._$s(2,"f",{forItems:e.list}),(function(t,s,i,r){return n("view",{key:e._$s(2,"f",{forIndex:i,key:s}),attrs:{id:"top",_i:"2-"+r}},[e._$s("3-"+r,"i",t.list.length>0)?n("view",{staticClass:e._$s("3-"+r,"sc","choose-list"),attrs:{id:e._$s("3-"+r,"a-id",t.letters),_i:"3-"+r}},[n("view",{staticClass:e._$s("4-"+r,"sc","choose-letter"),attrs:{_i:"4-"+r}},[e._v(e._$s("4-"+r,"t0-0",e._s(t.letters)))]),e._l(e._$s("5-"+r,"f",{forItems:t.list}),(function(t,s,i,o){return n("view",{key:e._$s("5-"+r,"f",{forIndex:i,key:s}),staticClass:e._$s("5-"+r+"-"+o,"sc","choose-item"),attrs:{_i:"5-"+r+"-"+o},on:{click:function(n){return e.chooseItem(t)}}},[e._$s("6-"+r+"-"+o,"i","addGroupMember"===e.chooseFriendType)?[n("view",{staticClass:e._$s("7-"+r+"-"+o,"sc","choose-item-icon"),attrs:{_i:"7-"+r+"-"+o}},[e._$s("8-"+r+"-"+o,"i",e.groupMemberMap[e.currentGroup.tid][t.friendAccount])?n("view",{staticClass:e._$s("8-"+r+"-"+o,"sc","my-iconfont icon-not-check"),attrs:{_i:"8-"+r+"-"+o}}):e._$s("9-"+r+"-"+o,"e",t.checked)?n("view",{staticClass:e._$s("9-"+r+"-"+o,"sc","my-iconfont"),attrs:{_i:"9-"+r+"-"+o}}):e._e()]),n("view",{staticClass:e._$s("10-"+r+"-"+o,"sc","choose-item-img"),attrs:{_i:"10-"+r+"-"+o}},[n("image",{attrs:{src:e._$s("11-"+r+"-"+o,"a-src",t.friendFaceImage?e.imgUrl+t.friendFaceImage:"/static/image/global/boyHeadImg.png"),_i:"11-"+r+"-"+o}})]),n("view",{staticClass:e._$s("12-"+r+"-"+o,"sc","choose-item-name"),attrs:{_i:"12-"+r+"-"+o}},[e._v(e._$s("12-"+r+"-"+o,"t0-0",e._s(t.groupNickname)))])]:e._e(),e._$s("13-"+r+"-"+o,"i","addGroupManager"===e.chooseFriendType&&2!==t.groupIdentity&&3!==t.groupIdentity)?[n("view",{staticClass:e._$s("14-"+r+"-"+o,"sc","choose-item-icon"),attrs:{_i:"14-"+r+"-"+o}},[e._$s("15-"+r+"-"+o,"i",t.checked)?n("view",{staticClass:e._$s("15-"+r+"-"+o,"sc","my-iconfont"),attrs:{_i:"15-"+r+"-"+o}}):e._e()]),n("view",{staticClass:e._$s("16-"+r+"-"+o,"sc","choose-item-img"),attrs:{_i:"16-"+r+"-"+o}},[n("image",{attrs:{src:e._$s("17-"+r+"-"+o,"a-src",t.friendFaceImage?e.imgUrl+t.friendFaceImage:"/static/image/global/boyHeadImg.png"),_i:"17-"+r+"-"+o}})]),n("view",{staticClass:e._$s("18-"+r+"-"+o,"sc","choose-item-name"),attrs:{_i:"18-"+r+"-"+o}},[e._v(e._$s("18-"+r+"-"+o,"t0-0",e._s(t.groupNickname)))])]:e._e(),e._$s("19-"+r+"-"+o,"i","removeGroupManager"===e.chooseFriendType&&2===t.groupIdentity)?[n("view",{staticClass:e._$s("20-"+r+"-"+o,"sc","choose-item-icon"),attrs:{_i:"20-"+r+"-"+o}},[e._$s("21-"+r+"-"+o,"i",t.checked)?n("view",{staticClass:e._$s("21-"+r+"-"+o,"sc","my-iconfont"),attrs:{_i:"21-"+r+"-"+o}}):e._e()]),n("view",{staticClass:e._$s("22-"+r+"-"+o,"sc","choose-item-img"),attrs:{_i:"22-"+r+"-"+o}},[n("image",{attrs:{src:e._$s("23-"+r+"-"+o,"a-src",t.friendFaceImage?e.imgUrl+t.friendFaceImage:"/static/image/global/boyHeadImg.png"),_i:"23-"+r+"-"+o}})]),n("view",{staticClass:e._$s("24-"+r+"-"+o,"sc","choose-item-name"),attrs:{_i:"24-"+r+"-"+o}},[e._v(e._$s("24-"+r+"-"+o,"t0-0",e._s(t.groupNickname)))])]:e._e()],2)}))],2):e._e()])})),0),n("scroll-view",{staticClass:e._$s(25,"sc","scroll-select-list"),attrs:{_i:25}},[n("view",{staticClass:e._$s(26,"sc","select-list"),attrs:{_i:26}},[e._l(e._$s(27,"f",{forItems:e.list,fill:!0}),(function(t,s,i,r){return[e._$s("28-"+r,"i",t.list.length>0)?[e._l(e._$s("29-"+r,"f",{forItems:t.list}),(function(t,i,o,a){return[e._$s("30-"+r+"-"+a,"i",t.checked)?n("view",{key:e._$s("29-"+r,"f",{forIndex:o,keyIndex:0,key:i+"_"+s+"_0_0_0"}),staticClass:e._$s("30-"+r+"-"+a,"sc","select-item"),attrs:{id:e._$s("30-"+r+"-"+a,"a-id","select-item"+s),_i:"30-"+r+"-"+a},on:{click:function(t){return e.delSelectItem(s,i)}}},[n("image",{attrs:{src:e._$s("31-"+r+"-"+a,"a-src",t.friendFaceImage?e.imgUrl+t.friendFaceImage:"/static/image/global/boyHeadImg.png"),_i:"31-"+r+"-"+a}})]):e._e()]}))]:e._e()]}))],2)]),n("view",{staticClass:e._$s(32,"sc","letters-index-list"),attrs:{_i:32}},[n("view",{staticClass:e._$s(33,"sc","letters-index-item"),attrs:{_i:33},on:{touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.touchStart(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.touchMove(t)},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.touchEnd(t)},touchcancel:function(t){return t.stopPropagation(),t.preventDefault(),e.touchCancel(t)}}},[n("text",{staticClass:e._$s(34,"sc","my-iconfont"),attrs:{_i:34}})]),e._l(e._$s(35,"f",{forItems:e.lettersList}),(function(t,s,i,r){return n("view",{key:e._$s(35,"f",{forIndex:i,key:s}),staticClass:e._$s("35-"+r,"sc","letters-index-item"),attrs:{_i:"35-"+r},on:{touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.touchStart(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.touchMove(t)},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.touchEnd(t)},touchcancel:function(t){return t.stopPropagation(),t.preventDefault(),e.touchCancel(t)}}},[e._v(e._$s("35-"+r,"t0-0",e._s(t)))])}))],2),e._$s(36,"i",e.indexAlert)?n("view",{staticClass:e._$s(36,"sc","mid-letter"),attrs:{_i:36}},[e._v(e._$s(36,"t0-0",e._s(e.currentLetter)))]):e._e()])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"18b0":function(e,t,n){"use strict";var s=n("9f1f");e.exports=function(e,t,n){return s.forEach(n,(function(n){e=n(e,t)})),e}},"18fe":function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e,t){var n=function(e){return t(),e},s=function(e){return t(),Promise.reject(e)};return Promise.resolve(e).then(n,s)}function t(e){return e="function"===typeof e?e():e,"string"===typeof e?new Error(e):e}var n=function(){function n(){s(this,n),this._id=null,this._delay=null}return r(n,[{key:"set",value:function(e){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(i,r){n.clear();var o=s?function(){return r(t(s))}:i;n._id=setTimeout(o,e),n._delay=e}))}},{key:"wrap",value:function(t,n){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e(t,(function(){return s.clear()})),o=this.set(n,i);return Promise.race([r,o])}},{key:"clear",value:function(){this._id&&clearTimeout(this._id)}},{key:"id",get:function(){return this._id}},{key:"delay",get:function(){return this._delay}}]),n}();return n.set=function(e,t){return(new n).set(e,t)},n.wrap=function(e,t,s){return(new n).wrap(e,t,s)},n}))},"1a59":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={props:{fixedStyle:{type:String,default:function(){return"position: fixed; top: 16rpx; right: 16rpx; z-index: 100;"}}},data:function(){return{isShowMask:!1,animationShow:!1}},methods:{toAddfriend:function(){uni.navigateTo({url:"/components/content/addfriend/AddFriend"})},tapShowMask:function(){this.animationShow=!0,this.isShowMask=!0},tapHideMask:function(e){var t=this;this.animationShow=!1,setTimeout((function(){t.isShowMask=!1}),300)}}};t.default=s},"1a9a":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","contactscon"),attrs:{_i:0}},[n("scroll-view",{staticClass:e._$s(1,"sc","scrollList"),attrs:{"scroll-into-view":e._$s(1,"a-scroll-into-view",e.currentLetter),_i:1}},[n("view",{staticClass:e._$s(2,"sc","contactstop"),attrs:{id:"top",_i:2}},[n("view",{staticClass:e._$s(3,"sc","contacts-list"),attrs:{_i:3}},[n("view",{staticClass:e._$s(4,"sc","contacts-list-img"),attrs:{_i:4}},[n("view",{staticClass:e._$s(5,"sc","image-friend"),attrs:{_i:5}})]),n("view",{staticClass:e._$s(6,"sc","contacts-list-title"),attrs:{_i:6},on:{click:e.toConsentFriend}})]),n("view",{staticClass:e._$s(7,"sc","contacts-list"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","contacts-list-img"),attrs:{_i:8}},[n("view",{staticClass:e._$s(9,"sc","image-friend"),attrs:{_i:9}})]),n("view",{staticClass:e._$s(10,"sc","contacts-list-title bordernone"),attrs:{_i:10}})])]),e._l(e._$s(11,"f",{forItems:e.friendList}),(function(t,s,i,r){return n("view",{key:e._$s(11,"f",{forIndex:i,key:s}),staticClass:e._$s("11-"+r,"sc","myList"),attrs:{id:e._$s("11-"+r,"a-id",t.letters),_i:"11-"+r}},[e._$s("12-"+r,"i",t.list.length>0)?[n("view",{staticClass:e._$s("13-"+r,"sc","letter-item"),attrs:{_i:"13-"+r}},[e._v(e._$s("13-"+r,"t0-0",e._s(t.letters)))]),e._l(e._$s("14-"+r,"f",{forItems:t.list}),(function(i,o,a,c){return n("view",{key:e._$s("14-"+r,"f",{forIndex:a,key:o}),staticClass:e._$s("14-"+r+"-"+c,"sc","contacts-list"),attrs:{_i:"14-"+r+"-"+c},on:{click:function(t){return e.toFriendInfo(i.friendAccount,s,o)}}},[n("view",{staticClass:e._$s("15-"+r+"-"+c,"sc","contacts-list-img"),attrs:{_i:"15-"+r+"-"+c}},[e._$s("16-"+r+"-"+c,"i",i.friendFaceImage.length>10)?n("image",{attrs:{src:e._$s("16-"+r+"-"+c,"a-src",e.imgUrl+i.friendFaceImage),_i:"16-"+r+"-"+c}}):n("image",{attrs:{_i:"17-"+r+"-"+c}})]),e._$s("18-"+r+"-"+c,"i",i.friendRemarkName)?n("view",{staticClass:e._$s("18-"+r+"-"+c,"sc","contacts-list-title"),class:e._$s("18-"+r+"-"+c,"c",{bordernone:t.list.length===o+1}),attrs:{_i:"18-"+r+"-"+c}},[e._v(e._$s("18-"+r+"-"+c,"t0-0",e._s(i.friendRemarkName)))]):e._e()])}))]:e._e()],2)}))],2),n("view",{staticClass:e._$s(19,"sc","contactsindex"),attrs:{_i:19},on:{touchstart:e.touchStart,touchmove:e.touchMove,touchend:e.touchEnd,touchcancel:e.touchCancel}},[n("view",{staticClass:e._$s(20,"sc","letters-index-item"),attrs:{_i:20}},[n("text",{staticClass:e._$s(21,"sc","my-iconfont"),attrs:{_i:21}})]),e._l(e._$s(22,"f",{forItems:e.lettersList}),(function(t,s,i,r){return n("view",{key:e._$s(22,"f",{forIndex:i,key:s}),staticClass:e._$s("22-"+r,"sc","letters-index-item"),attrs:{_i:"22-"+r}},[e._v(e._$s("22-"+r,"t0-0",e._s(t)))])}))],2),e._$s(23,"i",e.indexAlert)?n("view",{staticClass:e._$s(23,"sc","mid-letter"),attrs:{_i:23}},[e._v(e._$s(23,"t0-0",e._s(e.currentLetter)))]):e._e()])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"1b9c":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(n("1226")),i=n("2f62"),r=n("587d"),o=n("5c0c"),a=n("a327");function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={components:{uniSearchBar:s.default},data:function(){return{defTypeList:["图片","链接","文件","音乐","聊天记录","语音","笔记","位置"],listData:[],showLabel:!1,labelList:[]}},props:{myCollectList:{type:Array,default:function(){return[]}}},mixins:[a.listPopShadeMixin],watch:{myCollectList:function(e,t){this.listData=e||t;for(var n=0;n<this.listData.length;n++)null!==this.listData[n].collectLabel&&this.labelList.push(this.listData[n].collectLabel)}},filters:{getFormatTime:function(e){return(0,r.formatTimeStamp)(e,"yyyy-MM-dd hh:mm")}},computed:l({},(0,i.mapState)(["userInfo"])),methods:{toCollectSearch:function(e,t){uni.navigateTo({url:"/components/content/collection/collectionCpns/CollectSearch?type=".concat(e,"&cate=").concat(t)})},confirmSearch:function(){uni.showToast({title:"暂无关键字搜索功能",icon:"none"})},cancelSearch:function(){this.showLabel=!1},hanldeSearch:function(){var e=this;setTimeout((function(){e.showLabel=e.$refs.collectSearch.showSync}),120)},toChain:function(e){uni.navigateTo({url:"/components/content/collection/collectionCpns/CollectChain?link=".concat(e,"&name=img-webview")})},choosePop:function(t){switch(t){case 0:e("log","点击index为0"," at components\\content\\collection\\collectionCpns\\CollectionContent.vue:173");break;case 1:e("log","点击index为1"," at components\\content\\collection\\collectionCpns\\CollectionContent.vue:176");break;case 2:e("log","当前的pickerUserIndex：",this.pickerUserIndex," at components\\content\\collection\\collectionCpns\\CollectionContent.vue:179"),this.delMyCollect(this.pickerUserIndex);break;case 3:e("log","点击index为3"," at components\\content\\collection\\collectionCpns\\CollectionContent.vue:183");break}},delMyCollect:function(t){var n=this,s=(this.userInfo.user.userAccount,this.listData[t].collectId,"?account=".concat(this.userInfo.user.userAccount,"&collectId=").concat(this.listData[t].collectId));(0,o.delMyCollectRequest)(s).then((function(s){e("log",s," at components\\content\\collection\\collectionCpns\\CollectionContent.vue:195"),200===s.status?2e3===s.data.code?n.$nextTick((function(){n.listData.splice(t,1)})):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}):404===s.status?uni.showToast({title:"网络走丢了，请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\collection\\collectionCpns\\CollectionContent.vue:221")}))}},beforeMount:function(){this.popList=["转发","编辑标签","删除","更多"]}};t.default=f}).call(this,n("0de9")["default"])},"1bd8":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","remind"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","remind-head"),attrs:{_i:1}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.remindInfo.remindTitle,expression:"remindInfo.remindTitle"}],staticClass:e._$s(2,"sc","remind-head-son"),attrs:{_i:2},domProps:{value:e._$s(2,"v-model",e.remindInfo.remindTitle)},on:{focus:e.isFocus1,blur:e.isBlur1,input:function(t){t.target.composing||e.$set(e.remindInfo,"remindTitle",t.target.value)}}}),e._$s(3,"i",e.showDel1)?n("text",{staticClass:e._$s(3,"sc","my-iconfont del-icon"),attrs:{_i:3},on:{click:function(t){return t.stopPropagation(),e.resetInput1(t)}}}):e._e()]),n("view",{staticClass:e._$s(4,"sc","remind-msg"),attrs:{_i:4}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remindInfo.remindContent,expression:"remindInfo.remindContent"}],staticClass:e._$s(5,"sc","remind-msg-son"),attrs:{_i:5},domProps:{value:e._$s(5,"v-model",e.remindInfo.remindContent)},on:{focus:e.isFocus2,blur:e.isBlur2,input:function(t){t.target.composing||e.$set(e.remindInfo,"remindContent",t.target.value)}}}),e._$s(6,"i",e.showDel2)?n("text",{staticClass:e._$s(6,"sc","my-iconfont del-icon"),attrs:{_i:6},on:{click:function(t){return t.stopPropagation(),e.resetInput2(t)}}}):e._e()]),n("view",{staticClass:e._$s(7,"sc","all-list"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","switch-list remind-list first-remind-list"),attrs:{_i:8}},[n("view",{staticClass:e._$s(9,"sc","switch-list-title remind-list-left"),attrs:{_i:9}}),n("switch",{staticClass:e._$s(10,"sc","right-switch remind-list-right"),attrs:{checked:e._$s(10,"a-checked",e.personChecked),_i:10},on:{change:e.changePersonSwitch}})]),e._$s(11,"i",e.personChecked)?n("view",{staticClass:e._$s(11,"sc","remind-list remind-list2"),attrs:{_i:11},on:{click:e.toChooseFriend}},[n("view",{staticClass:e._$s(12,"sc","remind-list-left"),attrs:{_i:12}}),n("view",{staticClass:e._$s(13,"sc","remind-list-right"),attrs:{_i:13}},[n("text",[e._v(e._$s(14,"t0-0",e._s(e.selectedPerson)))]),n("text",{staticClass:e._$s(15,"sc","my-iconfont remind-list-right-icon"),attrs:{_i:15}})])]):e._e()]),n("view",{staticClass:e._$s(16,"sc","time-list all-list"),attrs:{_i:16}},[n("view",{staticClass:e._$s(17,"sc","switch-list remind-list first-remind-list"),attrs:{_i:17}},[n("view",{staticClass:e._$s(18,"sc","switch-list-title remind-list-left"),attrs:{_i:18}}),n("switch",{staticClass:e._$s(19,"sc","right-switch remind-list-right"),attrs:{checked:e._$s(19,"a-checked",e.timeChecked),_i:19},on:{change:e.changeTimeSwitch}})]),e._$s(20,"i",e.timeChecked)?n("view",[n("view",{staticClass:e._$s(21,"sc","time-val-list remind-list remind-list2"),attrs:{_i:21}},[n("view",{staticClass:e._$s(22,"sc","remind-list-left"),attrs:{_i:22}}),n("view",{staticClass:e._$s(23,"sc","remind-list-right"),attrs:{_i:23},on:{click:e.onShowDatePicker}},[e._v(e._$s(23,"t0-0",e._s(e.selectDateTime)))])]),n("view",{staticClass:e._$s(24,"sc","freq-list remind-list remind-list2"),attrs:{_i:24},on:{click:e.showFreq}},[n("view",{staticClass:e._$s(25,"sc","remind-list-left"),attrs:{_i:25}}),n("view",{staticClass:e._$s(26,"sc","remind-list-right"),attrs:{_i:26}},[n("input",{attrs:{value:e._$s(27,"a-value",e.timeFreqList[e.remindInfo.remindType-1]),_i:27}})])])]):e._e()]),n("view",{staticClass:e._$s(28,"sc","all-list"),attrs:{_i:28}},[n("view",{staticClass:e._$s(29,"sc","switch-list remind-list first-remind-list"),attrs:{_i:29}},[n("view",{staticClass:e._$s(30,"sc","switch-list-title remind-list-left"),attrs:{_i:30}}),n("switch",{staticClass:e._$s(31,"sc","right-switch remind-list-right"),attrs:{checked:e._$s(31,"a-checked",e.locationChecked),_i:31},on:{change:e.changeLocationSwitch}})]),e._$s(32,"i",e.locationChecked)?n("view",{staticClass:e._$s(32,"sc","remind-list remind-list2"),attrs:{_i:32}},[n("view",{staticClass:e._$s(33,"sc","remind-list-left"),attrs:{_i:33}}),n("view",{staticClass:e._$s(34,"sc","remind-list-right"),attrs:{_i:34}},[n("text",{staticClass:e._$s(35,"sc","my-iconfont remind-list-right-icon"),attrs:{_i:35}})])]):e._e()]),n("mx-date-picker",{attrs:{format:"yyyy-mm-dd hh:ii",show:e.showPicker,type:"datetime",value:e.selectDateTime,_i:36},on:{confirm:e.onSelected,cancel:e.onSelected}})],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"1bef":function(e,t,n){"use strict";n.r(t);var s=n("eb1f"),i=n("993b");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"279480d5",null,!1,s["a"],o);t["default"]=c.exports},"1db9":function(e,t,n){"use strict";var s=n("9f1f");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){s.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},"1dea":function(e,t,n){"use strict";n.r(t);var s=n("eac0"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"1e2d":function(e,t,n){"use strict";n.r(t);var s=n("45e4"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"1e71":function(e,t,n){"use strict";n.r(t);var s=n("8929"),i=n("c8f6");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"0e2f1184",null,!1,s["a"],o);t["default"]=c.exports},"1f12":function(e,t,n){"use strict";n.r(t);var s=n("2763"),i=n("ba0b");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"1fb4":function(e,t,n){"use strict";n.r(t);var s=n("f5b5"),i=n("3f01");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"20ab":function(e,t,n){"use strict";n.r(t);var s=n("1b9c"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"20e0":function(e,t,n){"use strict";n.r(t);var s=n("09f2"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"20fa":function(e,t,n){"use strict";var s=n("9f1f");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(s.isURLSearchParams(t))r=t.toString();else{var o=[];s.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,(function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),r=o.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},2135:function(e,t,n){"use strict";n.r(t);var s=n("825b"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},2138:function(e,t,n){"use strict";n.r(t);var s=n("9f2f"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},2159:function(e,t,n){"use strict";n.r(t);var s=n("5556"),i=n("6c14");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"225a":function(e,t,n){"use strict";n.r(t);var s=n("15ed"),i=n("9c1c");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"22e2":function(e,t,n){"use strict";n.r(t);var s=n("c526"),i=n("4e46");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},2535:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changepwdRequest=i;var s=n("4490");function i(e){return s.http.put("/user/forgetPassword",e)}},"253e":function(e,t,n){"use strict";n.r(t);var s=n("585d"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"25dc":function(e,t,n){"use strict";n.r(t);var s=n("bd3f"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"25f9":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("a327"),i=n("2f62"),r=n("7429"),o=n("bb9c");function a(e){return d(e)||l(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=getApp(),v={name:"IndexContent",data:function(){return{chatList:[],userList:[],imgUrl:"",targetInfo:{}}},computed:p({},(0,i.mapState)(["friendList","rawMessageList","friendCard","groupList","unreadInfo"]),{},(0,i.mapGetters)(["getFriendInfoByAcccount","MconvertRawMessageListToRenderChatList"]),{o_convertRawMessageListToRenderChatList:function(){var t=this,n=[],s=Object.keys(this.rawMessageList);return s.map((function(e){var s=0===e.indexOf("team-")?e.slice(5,e.length):e.slice(4,e.length),i=0===e.indexOf("p2p-"),r=i?"p2p":t.groupList[s]&&t.groupList[s].type,c=(i?t.friendCard[s]:t.groupList[s])||{},u=Object.keys(t.rawMessageList[e]);if(u){var l=Math.max.apply(Math,a(u));if(l){var d=t.rawMessageList[e][l+""]||{},f=t.judgeMessageType(d),m=f,p=i?c.status||"离线":"",h=i?c.nick||"非好友":c.name;n.push({chatType:r,session:e,account:s,status:p,nick:h,lastestMsg:m||d.text,type:f||d.type,timestamp:d.time,unread:t.unreadInfo[e]||0,displayTime:d.time?(0,o.calcTimeHeader)(d.time):""})}}})),n.sort((function(e,t){return t.timestamp-e.timestamp})),e("log","chatList:",n,this.rawMessageList," at pages\\index\\indexCpns\\IndexContent.vue:168"),n}}),watch:{MconvertRawMessageListToRenderChatList:{deep:!0,handler:function(t){e("log","MconvertRawMessageListToRenderChatList：",t," at pages\\index\\indexCpns\\IndexContent.vue:177")}},rawMessageList:{handler:function(t,n){e("log","监听rawMessageList",t,n," at pages\\index\\indexCpns\\IndexContent.vue:182"),t!==n&&this.convertRawMessageListToRenderChatList()},deep:!0},unreadInfo:{deep:!0,handler:function(t){e("log","watch中：",t," at pages\\index\\indexCpns\\IndexContent.vue:192")}}},mixins:[s.listPopShadeMixin],methods:p({},(0,i.mapActions)(["imAction"]),{},(0,i.mapMutations)(["setCurrentChatTo","setCurrentGroup"]),{convertRawMessageListToRenderChatList:function(){var t=this,n=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],[]),s=Object.keys(this.rawMessageList);s.map((function(e){var s=0===e.indexOf("team-")?e.slice(5,e.length):e.slice(4,e.length),i=0===e.indexOf("p2p-"),r=i?"p2p":t.groupList[s]&&t.groupList[s].type,c=(i?t.friendCard[s]:t.groupList[s])||{},u=Object.keys(t.rawMessageList[e]);if(u){var l=Math.max.apply(Math,a(u));if(l){var d=t.rawMessageList[e][l+""]||{},f=t.judgeMessageType(d),m=f,p=i?c.status||"离线":"",h=i?c.nick||"非好友":c.name;n.push({chatType:r,session:e,account:s,status:p,nick:h,lastestMsg:m||d.text,type:f||d.type,timestamp:d.time,unread:t.unreadInfo[e]||0,displayTime:d.time?(0,o.calcTimeHeader)(d.time):""})}}})),n.sort((function(e,t){return t.timestamp-e.timestamp})),e("log","chatList:",n,this.rawMessageList," at pages\\index\\indexCpns\\IndexContent.vue:244"),this.chatList=n},judgeMessageType:function(e){e=e||{};var t="";return"image"===e.type?t="[图片]":"geo"===e.type?t="[位置]":"audio"===e.type?t="[语音]":"video"===e.type?t="[视频]":"custom"===e.type?t=e.pushContent||"[自定义消息]":"tip"===e.type?t="[提醒消息]":"deleteMsg"===e.type?t="[提醒消息]":"file"===e.type?t="[文件消息]":"白板消息"===e.type?t="[白板消息]":"阅后即焚"===e.type?t="[阅后即焚]":"robot"===e.type?t="[机器人消息]":"notification"===e.type&&(t="[通知消息]"),t},choosePop:function(e){return e},toSession:function(t){var n=t.currentTarget.dataset.account,s=t.currentTarget.dataset.session;e("log","account和session:",n,s," at pages\\index\\indexCpns\\IndexContent.vue:295"),this.setCurrentChatTo(s);var i=s.split("-"),r="";if("team"===i[0]){e("log","team跳转"," at pages\\index\\indexCpns\\IndexContent.vue:301");var o=this.groupList[i[1]]||{};r=o.type||"team",this.setCurrentGroup(n)}else e("log","p2p跳转"," at pages\\index\\indexCpns\\IndexContent.vue:306"),r="p2p";uni.setStorageSync("toSessionObj",{chatType:r,chatTo:n}),uni.navigateTo({url:"/components/content/session/Session",success:function(e){g.globalData.nim.resetSessionUnread(s)}})}}),beforeCreate:function(){this.imgUrl=r.imgBaseUrl,e("log","beforeCreate",this.imgUrl," at pages\\index\\indexCpns\\IndexContent.vue:327")},mounted:function(){var t=this;e("log","mounted"," at pages\\index\\indexCpns\\IndexContent.vue:331"),uni.$once("syncComplete",(function(){t.$nextTick((function(){t.$forceUpdate()})),t.$forceUpdate()}))}};t.default=v}).call(this,n("0de9")["default"])},"26a6":function(e,t,n){"use strict";n.r(t);var s=n("b77c"),i=n("c84a");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"7c301687",null,!1,s["a"],o);t["default"]=c.exports},2763:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","personalinfo"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","defaultlist headImgList"),attrs:{_i:1},on:{click:e.changeHeadImg}},[n("view",{staticClass:e._$s(2,"sc","defaultlist-left"),attrs:{_i:2}}),n("view",{staticClass:e._$s(3,"sc","defaultlist-center headImgItem"),attrs:{_i:3}},[n("view",{staticClass:e._$s(4,"sc","headImg"),attrs:{_i:4},on:{click:function(t){return t.stopPropagation(),e.previewHeadImg(t)}}},[e._$s(5,"i",e.userInfo.user.faceImage)?n("image",{staticClass:e._$s(5,"sc","center-img"),attrs:{src:e._$s(5,"a-src",e.imgUrl+e.userInfo.user.faceImage),_i:5}}):e._$s(6,"e",e.userInfo.user.userSex)?n("image",{staticClass:e._$s(6,"sc","center-img"),attrs:{_i:6}}):e._$s(7,"e",!e.userInfo.user.userSex)?n("image",{staticClass:e._$s(7,"sc","center-img"),attrs:{_i:7}}):e._e()])]),n("view",{staticClass:e._$s(8,"sc","defaultlist-right"),attrs:{_i:8}},[n("image",{attrs:{_i:9}})])]),n("view",{staticClass:e._$s(10,"sc","defaultlist"),attrs:{_i:10},on:{click:e.toChangeName}},[n("view",{staticClass:e._$s(11,"sc","defaultlist-left"),attrs:{_i:11}}),n("view",{staticClass:e._$s(12,"sc","defaultlist-center"),attrs:{_i:12}},[e._$s(13,"i",e.userInfo.user.nickname)?[e._v(e._$s(13,"t0-0",e._s(e.userInfo.user.nickname)))]:e._e()],2),n("view",{staticClass:e._$s(14,"sc","defaultlist-right"),attrs:{_i:14}},[n("image",{attrs:{_i:15}})])]),n("view",{staticClass:e._$s(16,"sc","defaultlist"),attrs:{_i:16}},[n("view",{staticClass:e._$s(17,"sc","defaultlist-left"),attrs:{_i:17}}),n("view",{staticClass:e._$s(18,"sc","defaultlist-center font-co"),attrs:{_i:18}},[e._$s(19,"i",e.userInfo.user.userAccount)?[e._v(e._$s(19,"t0-0",e._s(e.userInfo.user.userAccount)))]:e._e()],2)]),n("view",{staticClass:e._$s(20,"sc","defaultlist"),attrs:{_i:20},on:{click:e.toCard}},[n("view",{staticClass:e._$s(21,"sc","defaultlist-left"),attrs:{_i:21}}),n("view",{staticClass:e._$s(22,"sc","defaultlist-center"),attrs:{_i:22}}),n("view",{staticClass:e._$s(23,"sc","defaultlist-right"),attrs:{_i:23}},[n("image",{attrs:{_i:24}})])]),n("view",{staticClass:e._$s(25,"sc","defaultlist"),attrs:{_i:25},on:{click:e.toChangeMoreInfo}},[n("view",{staticClass:e._$s(26,"sc","defaultlist-left"),attrs:{_i:26}}),n("view",{staticClass:e._$s(27,"sc","defaultlist-center"),attrs:{_i:27}}),n("view",{staticClass:e._$s(28,"sc","defaultlist-right"),attrs:{_i:28}},[n("image",{attrs:{_i:29}})])]),n("view",{staticClass:e._$s(30,"sc","defaultlist"),attrs:{_i:30},on:{click:e.toChangeAddress1}},[n("view",{staticClass:e._$s(31,"sc","defaultlist-left"),attrs:{_i:31}}),n("view",{staticClass:e._$s(32,"sc","defaultlist-center"),attrs:{_i:32}}),n("view",{staticClass:e._$s(33,"sc","defaultlist-right"),attrs:{_i:33}},[n("image",{attrs:{_i:34}})])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"27c4":function(e,t,n){"use strict";n.r(t);var s=n("d3bf"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"28ee":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","dynamic"),attrs:{_i:0}},[n("dynamic-con",{ref:"dynamiccon",attrs:{_i:1}})],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"299a":function(e,t,n){"use strict";n.r(t);var s=n("f6fe"),i=n("a1b6");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"2a13":function(e,t,n){"use strict";n.r(t);var s=n("a13e"),i=n("0732");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"2bc8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={props:{myRight:{type:Boolean,default:!0},noBorderBtm:{type:Boolean,default:!1},marTop:{type:Boolean,default:!1},textRight:{type:Boolean,default:!1}}};t.default=s},"2da3":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","contacts set-bgc"),attrs:{_i:0}},[n("contacts-con",{attrs:{_i:1}}),n("def-mask",{ref:"contactsMask",staticClass:e._$s(2,"sc","index-def-mask"),attrs:{_i:2}})],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"2db9":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.isShow)?n("view",{staticClass:e._$s(0,"sc","picker"),attrs:{_i:0}},[e._$s(1,"i","time"!=e.type)?n("view",{staticClass:e._$s(1,"sc","picker-modal"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","picker-modal-header"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","picker-icon picker-icon-zuozuo"),attrs:{_i:3},on:{click:function(t){return e.onSetYear("-1")}}}),n("view",{staticClass:e._$s(4,"sc","picker-icon picker-icon-zuo"),attrs:{_i:4},on:{click:function(t){return e.onSetMonth("-1")}}}),n("text",{staticClass:e._$s(5,"sc","picker-modal-header-title"),attrs:{_i:5}},[e._v(e._$s(5,"t0-0",e._s(e.title)))]),n("view",{staticClass:e._$s(6,"sc","picker-icon picker-icon-you"),attrs:{_i:6},on:{click:function(t){return e.onSetMonth("+1")}}}),n("view",{staticClass:e._$s(7,"sc","picker-icon picker-icon-youyou"),attrs:{_i:7},on:{click:function(t){return e.onSetYear("+1")}}})]),n("swiper",{staticClass:e._$s(8,"sc","picker-modal-body"),attrs:{current:e._$s(8,"a-current",e.calendarIndex),_i:8},on:{change:e.onSwiperChange}},e._l(e._$s(9,"f",{forItems:e.calendars}),(function(t,s,i,r){return n("swiper-item",{key:e._$s(9,"f",{forIndex:i,key:s}),staticClass:e._$s("9-"+r,"sc","picker-calendar"),attrs:{_i:"9-"+r}},[e._l(e._$s("10-"+r,"f",{forItems:e.weeks}),(function(t,s,i,o){return n("view",{key:e._$s("10-"+r,"f",{forIndex:i,key:s}),staticClass:e._$s("10-"+r+"-"+o,"sc","picker-calendar-view"),attrs:{_i:"10-"+r+"-"+o}},[n("view",{staticClass:e._$s("11-"+r+"-"+o,"sc","picker-calendar-view-item"),attrs:{_i:"11-"+r+"-"+o}},[e._v(e._$s("11-"+r+"-"+o,"t0-0",e._s(t)))])])})),e._l(e._$s("12-"+r,"f",{forItems:t}),(function(t,s,i,o){return n("view",{key:e._$s("12-"+r,"f",{forIndex:i,key:t}),staticClass:e._$s("12-"+r+"-"+o,"sc","picker-calendar-view"),attrs:{_i:"12-"+r+"-"+o},on:{click:function(n){return e.onSelectDate(t)}}},[n("view",{directives:[{name:"show",rawName:"v-show",value:e._$s("13-"+r+"-"+o,"v-show",t.bgStyle.type),expression:"_$s((\"13-\"+$30+'-'+$32),'v-show',date.bgStyle.type)"}],class:e._$s("13-"+r+"-"+o,"c","picker-calendar-view-"+t.bgStyle.type),style:e._$s("13-"+r+"-"+o,"s",{background:t.bgStyle.background}),attrs:{_i:"13-"+r+"-"+o}}),n("view",{staticClass:e._$s("14-"+r+"-"+o,"sc","picker-calendar-view-item"),style:e._$s("14-"+r+"-"+o,"s",{opacity:t.statusStyle.opacity,color:t.statusStyle.color,background:t.statusStyle.background}),attrs:{_i:"14-"+r+"-"+o}},[n("text",[e._v(e._$s("15-"+r+"-"+o,"t0-0",e._s(t.title)))])]),n("view",{staticClass:e._$s("16-"+r+"-"+o,"sc","picker-calendar-view-dot"),style:e._$s("16-"+r+"-"+o,"s",{opacity:t.dotStyle.opacity,background:t.dotStyle.background}),attrs:{_i:"16-"+r+"-"+o}}),n("view",{directives:[{name:"show",rawName:"v-show",value:e._$s("17-"+r+"-"+o,"v-show",t.tips),expression:"_$s((\"17-\"+$30+'-'+$32),'v-show',date.tips)"}],staticClass:e._$s("17-"+r+"-"+o,"sc","picker-calendar-view-tips"),attrs:{_i:"17-"+r+"-"+o}},[e._v(e._$s("17-"+r+"-"+o,"t0-0",e._s(t.tips)))])])}))],2)})),0),n("view",{staticClass:e._$s(18,"sc","picker-modal-footer"),attrs:{_i:18}},[n("view",{staticClass:e._$s(19,"sc","picker-modal-footer-info"),attrs:{_i:19}},[e._$s(20,"i",e.isMultiSelect)?[n("view",{staticClass:e._$s(21,"sc","picker-display"),attrs:{_i:21}},[n("text",[e._v(e._$s(22,"t0-0",e._s(e.beginText)))]),n("text",{staticClass:e._$s(23,"sc","picker-display-text"),attrs:{_i:23}},[e._v(e._$s(23,"t0-0",e._s(e.BeginTitle)))]),e._$s(24,"i",e.isContainTime)?n("view",{staticClass:e._$s(24,"sc","picker-display-link"),style:e._$s(24,"s",{color:e.color}),attrs:{_i:24},on:{click:function(t){return e.onShowTimePicker("begin")}}},[e._v(e._$s(24,"t0-0",e._s(e.BeginTimeTitle)))]):e._e()]),n("view",{staticClass:e._$s(25,"sc","picker-display"),attrs:{_i:25}},[n("text",[e._v(e._$s(26,"t0-0",e._s(e.endText)))]),n("text",{staticClass:e._$s(27,"sc","picker-display-text"),attrs:{_i:27}},[e._v(e._$s(27,"t0-0",e._s(e.EndTitle)))]),e._$s(28,"i",e.isContainTime)?n("view",{staticClass:e._$s(28,"sc","picker-display-link"),style:e._$s(28,"s",{color:e.color}),attrs:{_i:28},on:{click:function(t){return e.onShowTimePicker("end")}}},[e._v(e._$s(28,"t0-0",e._s(e.EndTimeTitle)))]):e._e()])]:[n("view",{staticClass:e._$s(30,"sc","picker-display"),attrs:{_i:30}},[n("text"),n("text",{staticClass:e._$s(32,"sc","picker-display-text"),attrs:{_i:32}},[e._v(e._$s(32,"t0-0",e._s(e.BeginTitle)))]),e._$s(33,"i",e.isContainTime)?n("view",{staticClass:e._$s(33,"sc","picker-display-link"),style:e._$s(33,"s",{color:e.color}),attrs:{_i:33},on:{click:function(t){return e.onShowTimePicker("begin")}}},[e._v(e._$s(33,"t0-0",e._s(e.BeginTimeTitle)))]):e._e()])]],2),n("view",{staticClass:e._$s(34,"sc","picker-modal-footer-btn"),attrs:{_i:34}},[n("view",{staticClass:e._$s(35,"sc","picker-btn"),attrs:{_i:35},on:{click:e.onCancel}}),n("view",{staticClass:e._$s(36,"sc","picker-btn"),style:e._$s(36,"s",{color:e.color}),attrs:{_i:36},on:{click:e.onConfirm}})])])]):e._e(),e._$s(37,"i",e.showTimePicker)?n("view",{staticClass:e._$s(37,"sc","picker"),attrs:{_i:37}},[n("view",{staticClass:e._$s(38,"sc","picker-modal picker-time"),attrs:{_i:38}},[n("view",{staticClass:e._$s(39,"sc","picker-modal-header"),attrs:{_i:39}},[n("text",{staticClass:e._$s(40,"sc","picker-modal-header-title"),attrs:{_i:40}})]),n("picker-view",{staticClass:e._$s(41,"sc","picker-modal-time"),attrs:{value:e._$s(41,"a-value",e.timeValue),_i:41},on:{change:e.onTimeChange}},[n("picker-view-column",e._l(24,(function(t,s,i,r){return n("view",{key:s},[e._v(e._$s("43-"+r,"t0-0",e._s(s<10?"0"+s:s)))])})),0),n("picker-view-column",e._l(60,(function(t,s,i,r){return n("view",{key:s},[e._v(e._$s("45-"+r,"t0-0",e._s(s<10?"0"+s:s)))])})),0)]),n("view",{staticClass:e._$s(46,"sc","picker-modal-footer"),attrs:{_i:46}},[n("view",{staticClass:e._$s(47,"sc","picker-modal-footer-info"),attrs:{_i:47}},[n("view",{staticClass:e._$s(48,"sc","picker-display"),attrs:{_i:48}},[n("text"),n("text",{staticClass:e._$s(50,"sc","picker-display-text"),attrs:{_i:50}},[e._v(e._$s(50,"t0-0",e._s(e.PickerTimeTitle)))])])]),n("view",{staticClass:e._$s(51,"sc","picker-modal-footer-btn"),attrs:{_i:51}},[n("view",{staticClass:e._$s(52,"sc","picker-btn"),attrs:{_i:52},on:{click:e.onCancelTime}}),n("view",{staticClass:e._$s(53,"sc","picker-btn"),style:e._$s(53,"s",{color:e.color}),attrs:{_i:53},on:{click:e.onConfirmTime}})])])])]):e._e()]):e._e()},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"2f52":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","login set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","center-content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","login-content"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","login-head"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","login-form"),attrs:{_i:4}},[n("form",{attrs:{_i:5},on:{submit:e.loginClick}},[n("view",{staticClass:e._$s(6,"sc","my-input"),attrs:{_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userPhone,expression:"userPhone"}],staticClass:e._$s(7,"sc","def-input"),attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.userPhone)},on:{input:[function(t){t.target.composing||(e.userPhone=t.target.value)},e.handlerUserPhone]}}),n("view",{staticClass:e._$s(8,"sc","def-input-del"),attrs:{_i:8},on:{click:function(t){return t.stopPropagation(),e.delUserPhone(t)}}},[e._$s(9,"i",e.showUserPhone)?n("text",{staticClass:e._$s(9,"sc","my-iconfont def-input-del-icon"),attrs:{_i:9}}):e._e()])]),n("view",{staticClass:e._$s(10,"sc","my-input"),attrs:{_i:10}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],staticClass:e._$s(11,"sc","def-input"),attrs:{_i:11},domProps:{value:e._$s(11,"v-model",e.userPassword)},on:{input:[function(t){t.target.composing||(e.userPassword=t.target.value)},e.handlerUserPassword]}}),n("view",{staticClass:e._$s(12,"sc","def-input-del"),attrs:{_i:12},on:{click:e.delUserPassword}},[e._$s(13,"i",e.showUserPassword)?n("text",{staticClass:e._$s(13,"sc","my-iconfont def-input-del-icon"),attrs:{_i:13}}):e._e()])]),n("button",{staticClass:e._$s(14,"sc","def-button def-font-lg"),attrs:{_i:14}})])]),n("view",{staticClass:e._$s(15,"sc","login-more"),attrs:{_i:15}},[n("text",{staticClass:e._$s(16,"sc","login-more-left"),attrs:{_i:16},on:{click:e.toChangepwd1}}),n("text",{staticClass:e._$s(17,"sc","login-more-right"),attrs:{_i:17},on:{click:e.toRegister1}})]),n("view",{staticClass:e._$s(18,"sc","dividing-line"),attrs:{_i:18}},[n("view",{staticClass:e._$s(19,"sc","line-left line"),attrs:{_i:19}},[n("view",{staticClass:e._$s(20,"sc","line-left-text"),attrs:{_i:20}})]),n("view",{staticClass:e._$s(21,"sc","line-font def-font-base"),attrs:{_i:21}}),n("view",{staticClass:e._$s(22,"sc","line-right line"),attrs:{_i:22}},[n("view",{staticClass:e._$s(23,"sc","line-right-text"),attrs:{_i:23}})])]),n("view",{staticClass:e._$s(24,"sc","login-other"),attrs:{_i:24}},[n("view",{staticClass:e._$s(25,"sc","login-other-img"),attrs:{_i:25}},[n("image",{attrs:{_i:26}})]),n("view",{staticClass:e._$s(27,"sc","login-other-title def-font-lg"),attrs:{_i:27}})])])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"2f62":function(e,t,n){"use strict";n.r(t),n.d(t,"Store",(function(){return p})),n.d(t,"install",(function(){return O})),n.d(t,"mapState",(function(){return P})),n.d(t,"mapMutations",(function(){return x})),n.d(t,"mapGetters",(function(){return A})),n.d(t,"mapActions",(function(){return j})),n.d(t,"createNamespacedHelpers",(function(){return $}));
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */
var s=function(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:s});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[s].concat(e.init):s,n.call(this,e)}}function s(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}},i="undefined"!==typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){i.emit("vuex:mutation",e,t)})))}function o(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function a(e){return null!==e&&"object"===typeof e}function c(e){return e&&"function"===typeof e.then}var u=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},u.prototype.addChild=function(e,t){this._children[e]=t},u.prototype.removeChild=function(e){delete this._children[e]},u.prototype.getChild=function(e){return this._children[e]},u.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},u.prototype.forEachChild=function(e){o(this._children,e)},u.prototype.forEachGetter=function(e){this._rawModule.getters&&o(this._rawModule.getters,e)},u.prototype.forEachAction=function(e){this._rawModule.actions&&o(this._rawModule.actions,e)},u.prototype.forEachMutation=function(e){this._rawModule.mutations&&o(this._rawModule.mutations,e)},Object.defineProperties(u.prototype,l);var d=function(e){this.register([],e,!1)};function f(e,t,n){if(t.update(n),n.modules)for(var s in n.modules){if(!t.getChild(s))return void 0;f(e.concat(s),t.getChild(s),n.modules[s])}}d.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},d.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},d.prototype.update=function(e){f([],this.root,e)},d.prototype.register=function(e,t,n){var s=this;void 0===n&&(n=!0);var i=new u(t,n);if(0===e.length)this.root=i;else{var r=this.get(e.slice(0,-1));r.addChild(e[e.length-1],i)}t.modules&&o(t.modules,(function(t,i){s.register(e.concat(i),t,n)}))},d.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)};var m;var p=function(e){var t=this;void 0===e&&(e={}),!m&&"undefined"!==typeof window&&window.Vue&&O(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var s=e.strict;void 0===s&&(s=!1);var i=e.state;void 0===i&&(i={}),"function"===typeof i&&(i=i()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new d(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new m;var o=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(e,t){return c.call(o,e,t)},this.commit=function(e,t,n){return u.call(o,e,t,n)},this.strict=s,b(this,i,[],this._modules.root),y(this,i),n.forEach((function(e){return e(t)})),m.config.devtools&&r(this)},h={state:{configurable:!0}};function g(e,t){return t.indexOf(e)<0&&t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function v(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;b(e,n,[],e._modules.root,!0),y(e,n,t)}function y(e,t,n){var s=e._vm;e.getters={};var i=e._wrappedGetters,r={};o(i,(function(t,n){r[n]=function(){return t(e)},Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var a=m.config.silent;m.config.silent=!0,e._vm=new m({data:{$$state:t},computed:r}),m.config.silent=a,e.strict&&w(e),s&&(n&&e._withCommit((function(){s._data.$$state=null})),m.nextTick((function(){return s.$destroy()})))}function b(e,t,n,s,i){var r=!n.length,o=e._modules.getNamespace(n);if(s.namespaced&&(e._modulesNamespaceMap[o]=s),!r&&!i){var a=k(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){m.set(a,c,s.state)}))}var u=s.context=_(e,o,n);s.forEachMutation((function(t,n){var s=o+n;S(e,s,t,u)})),s.forEachAction((function(t,n){var s=t.root?n:o+n,i=t.handler||t;C(e,s,i,u)})),s.forEachGetter((function(t,n){var s=o+n;M(e,s,t,u)})),s.forEachChild((function(s,r){b(e,t,n.concat(r),s,i)}))}function _(e,t,n){var s=""===t,i={dispatch:s?e.dispatch:function(n,s,i){var r=I(n,s,i),o=r.payload,a=r.options,c=r.type;return a&&a.root||(c=t+c),e.dispatch(c,o)},commit:s?e.commit:function(n,s,i){var r=I(n,s,i),o=r.payload,a=r.options,c=r.type;a&&a.root||(c=t+c),e.commit(c,o,a)}};return Object.defineProperties(i,{getters:{get:s?function(){return e.getters}:function(){return T(e,t)}},state:{get:function(){return k(e.state,n)}}}),i}function T(e,t){var n={},s=t.length;return Object.keys(e.getters).forEach((function(i){if(i.slice(0,s)===t){var r=i.slice(s);Object.defineProperty(n,r,{get:function(){return e.getters[i]},enumerable:!0})}})),n}function S(e,t,n,s){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,s.state,t)}))}function C(e,t,n,s){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t,i){var r=n.call(e,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:e.getters,rootState:e.state},t,i);return c(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):r}))}function M(e,t,n,s){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(s.state,s.getters,e.state,e.getters)})}function w(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function k(e,t){return t.length?t.reduce((function(e,t){return e[t]}),e):e}function I(e,t,n){return a(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function O(e){m&&e===m||(m=e,s(m))}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(e){0},p.prototype.commit=function(e,t,n){var s=this,i=I(e,t,n),r=i.type,o=i.payload,a=(i.options,{type:r,payload:o}),c=this._mutations[r];c&&(this._withCommit((function(){c.forEach((function(e){e(o)}))})),this._subscribers.forEach((function(e){return e(a,s.state)})))},p.prototype.dispatch=function(e,t){var n=this,s=I(e,t),i=s.type,r=s.payload,o={type:i,payload:r},a=this._actions[i];if(a)return this._actionSubscribers.forEach((function(e){return e(o,n.state)})),a.length>1?Promise.all(a.map((function(e){return e(r)}))):a[0](r)},p.prototype.subscribe=function(e){return g(e,this._subscribers)},p.prototype.subscribeAction=function(e){return g(e,this._actionSubscribers)},p.prototype.watch=function(e,t,n){var s=this;return this._watcherVM.$watch((function(){return e(s.state,s.getters)}),t,n)},p.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},p.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),b(this,this.state,e,this._modules.get(e),n.preserveState),y(this,this.state)},p.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=k(t.state,e.slice(0,-1));m.delete(n,e[e.length-1])})),v(this)},p.prototype.hotUpdate=function(e){this._modules.update(e),v(this,!0)},p.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(p.prototype,h);var P=E((function(e,t){var n={};return R(t).forEach((function(t){var s=t.key,i=t.val;n[s]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var s=L(this.$store,"mapState",e);if(!s)return;t=s.context.state,n=s.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[s].vuex=!0})),n})),x=E((function(e,t){var n={};return R(t).forEach((function(t){var s=t.key,i=t.val;n[s]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var s=this.$store.commit;if(e){var r=L(this.$store,"mapMutations",e);if(!r)return;s=r.context.commit}return"function"===typeof i?i.apply(this,[s].concat(t)):s.apply(this.$store,[i].concat(t))}})),n})),A=E((function(e,t){var n={};return R(t).forEach((function(t){var s=t.key,i=t.val;i=e+i,n[s]=function(){if(!e||L(this.$store,"mapGetters",e))return this.$store.getters[i]},n[s].vuex=!0})),n})),j=E((function(e,t){var n={};return R(t).forEach((function(t){var s=t.key,i=t.val;n[s]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var s=this.$store.dispatch;if(e){var r=L(this.$store,"mapActions",e);if(!r)return;s=r.context.dispatch}return"function"===typeof i?i.apply(this,[s].concat(t)):s.apply(this.$store,[i].concat(t))}})),n})),$=function(e){return{mapState:P.bind(null,e),mapGetters:A.bind(null,e),mapMutations:x.bind(null,e),mapActions:j.bind(null,e)}};function R(e){return Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}}))}function E(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function L(e,t,n){var s=e._modulesNamespaceMap[n];return s}var D={Store:p,install:O,version:"3.0.1",mapState:P,mapMutations:x,mapGetters:A,mapActions:j,createNamespacedHelpers:$};t["default"]=D},3115:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.text)?n("text",{staticClass:e._$s(0,"sc","uni-badge"),class:e._$s(0,"c",e.inverted?"uni-badge--"+e.type+" uni-badge--"+e.size+" uni-badge--"+e.type+"-inverted":"uni-badge--"+e.type+" uni-badge--"+e.size),style:e._$s(0,"s",e.width),attrs:{_i:0},on:{click:function(t){return e.onClick()}}},[e._v(e._$s(0,"t0-0",e._s(e.text)))]):e._e()},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"31d6":function(e,t,n){"use strict";(function(e){function n(e){return o(e)||r(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return a(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c={getHoliday:function(e){var t={"0101":"元旦","0214":"情人","0308":"妇女","0312":"植树","0401":"愚人","0404":"清明","0501":"劳动","0504":"青年","0601":"儿童","0625":"端午","0701":"建党","0801":"建军","0903":"抗日","0910":"教师",1001:"国庆",1031:"万圣",1224:"平安",1225:"圣诞"},n=this.format(e,"mmdd");return!!t[n]&&t[n]},parse:function(e){return new Date(e.replace(/(年|月|-)/g,"/").replace(/(日)/g,""))},isSameDay:function(e,t){return e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()&&e.getDate()==t.getDate()},format:function(e,t){var n={"m+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"i+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3)};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[s]:("00"+n[s]).substr((""+n[s]).length)));return t},inverse:function(t,n){var s={y:"",m:"",d:"",h:"",i:"",s:""},i=new Date;if(t.length!=n.length)return i;for(var r in n)void 0!=s[n[r]]&&(s[n[r]]+=t[r]);return s.y&&i.setFullYear(s.y.length<4?(i.getFullYear()+"").substr(0,4-s.y.length)+s.y:s.y),s.m&&i.setMonth(s.m-1,1),s.d&&i.setDate(s.d-0),s.h&&i.setHours(s.h-0),s.i&&i.setMinutes(s.i-0),s.s&&i.setSeconds(s.s-0),e("log","返回date:",i," at components\\mx-datepicker\\mx-datepicker.vue:190"),i},getCalendar:function(e,t){var n=new Date(e),s=[];n.setDate(1),n.setDate(n.getDate()-((0==n.getDay()?7:n.getDay())-1));for(var i=0;i<42;i++){var r={dateObj:new Date(n),title:n.getDate(),isOtherMonth:n.getMonth()<e.getMonth()||n.getMonth()>e.getMonth()};s.push(Object.assign(r,t?t(r):{})),n.setDate(n.getDate()+1)}return s},getDateToMonth:function(e,t){var n=new Date(e);return n.setMonth(t,1),n},formatTimeArray:function(e,t){var s=n(e);return t||(s.length=2),s.forEach((function(e,t){return s[t]=("0"+e).slice(-2)})),s.join(":")}},u={props:{color:{type:String,default:"#409eff"},showSeconds:{type:Boolean,default:!1},value:[String,Array],type:{type:String,default:"range"},show:{type:Boolean,default:!1},format:{type:String,default:""},showHoliday:{type:Boolean,default:!0},showTips:{type:Boolean,default:!1},beginText:{type:String,default:"开始"},endText:{type:String,default:"结束"}},data:function(){return{isShow:!1,isMultiSelect:!1,isContainTime:!1,date:{},weeks:["一","二","三","四","五","六","日"],title:"初始化",calendars:[[],[],[]],calendarIndex:1,checkeds:[],showTimePicker:!1,timeValue:[0,0,0],timeType:"begin",beginTime:[0,0,0],endTime:[0,0,0]}},methods:{setValue:function(t){var s=this;e("log","value:",t," at components\\mx-datepicker\\mx-datepicker.vue:311"),this.date=new Date,this.checkeds=[],this.isMultiSelect=this.type.indexOf("range")>=0,this.isContainTime=this.type.indexOf("time")>=0;var i=function(e){return s.format?c.inverse(e,s.format):c.parse(e)};if(t){if(this.isMultiSelect)Array.isArray(t)&&t.forEach((function(e,t){var n=i(e),r=[n.getHours(),n.getMinutes(),n.getSeconds()];0==t?s.beginTime=r:s.endTime=r,s.checkeds.push(n)}));else if("time"==this.type){var r=i("2019/1/1 "+t);this.beginTime=[r.getHours(),r.getMinutes(),r.getSeconds()],this.onShowTimePicker("begin")}else this.checkeds.push(i(t)),this.isContainTime&&(this.beginTime=[this.checkeds[0].getHours(),this.checkeds[0].getMinutes(),this.checkeds[0].getSeconds()]);this.checkeds.length&&(this.date=new Date(this.checkeds[0]))}else this.isContainTime&&(this.beginTime=[this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()],this.isMultiSelect&&(this.endTime=n(this.beginTime))),this.checkeds.push(new Date(this.date));"time"!=this.type?this.refreshCalendars(!0):this.onShowTimePicker("begin")},onSetYear:function(e){this.date.setFullYear(this.date.getFullYear()+parseInt(e)),this.refreshCalendars(!0)},onSetMonth:function(e){this.date.setMonth(this.date.getMonth()+parseInt(e)),this.refreshCalendars(!0)},onTimeChange:function(e){this.timeValue=e.detail.value},onShowTimePicker:function(e){this.showTimePicker=!0,this.timeType=e,this.timeValue=n("begin"==e?this.beginTime:this.endTime)},procCalendar:function(e){var t=this;if(e.statusStyle={opacity:1,color:e.isOtherMonth?"#ddd":"#000",background:"transparent"},e.bgStyle={type:"",background:"transparent"},e.dotStyle={opacity:1,background:"transparent"},e.tips="",c.isSameDay(new Date,e.dateObj)&&(e.statusStyle.color=this.color,e.isOtherMonth&&(e.statusStyle.opacity=.3)),this.checkeds.forEach((function(n){c.isSameDay(n,e.dateObj)&&(e.statusStyle.background=t.color,e.statusStyle.color="#fff",e.statusStyle.opacity=1,t.isMultiSelect&&t.showTips&&(e.tips=t.beginText))})),e.statusStyle.background!=this.color){var n=!!this.showHoliday&&c.getHoliday(e.dateObj);(n||c.isSameDay(new Date,e.dateObj))&&(e.title=n||e.title,e.dotStyle.background=this.color,e.isOtherMonth&&(e.dotStyle.opacity=.2))}else e.title=e.dateObj.getDate();2==this.checkeds.length&&(c.isSameDay(this.checkeds[0],e.dateObj)&&(e.bgStyle.type="bgbegin"),c.isSameDay(this.checkeds[1],e.dateObj)&&(this.isMultiSelect&&this.showTips&&(e.tips=e.bgStyle.type?this.beginText+" / "+this.endText:this.endText),e.bgStyle.type?e.bgStyle.type="":e.bgStyle.type="bgend"),!e.bgStyle.type&&+e.dateObj>+this.checkeds[0]&&+e.dateObj<+this.checkeds[1]&&(e.bgStyle.type="bg",e.statusStyle.color=this.color),e.bgStyle.type&&(e.bgStyle.background=this.color,e.dotStyle.opacity=1,e.statusStyle.opacity=1))},refreshCalendars:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Date(this.date),n=c.getDateToMonth(t,t.getMonth()-1),s=c.getDateToMonth(t,t.getMonth()+1);0==this.calendarIndex?(e&&this.calendars.splice(0,1,c.getCalendar(t,this.procCalendar)),this.calendars.splice(1,1,c.getCalendar(s,this.procCalendar)),this.calendars.splice(2,1,c.getCalendar(n,this.procCalendar))):1==this.calendarIndex?(this.calendars.splice(0,1,c.getCalendar(n,this.procCalendar)),e&&this.calendars.splice(1,1,c.getCalendar(t,this.procCalendar)),this.calendars.splice(2,1,c.getCalendar(s,this.procCalendar))):2==this.calendarIndex&&(this.calendars.splice(0,1,c.getCalendar(s,this.procCalendar)),this.calendars.splice(1,1,c.getCalendar(n,this.procCalendar)),e&&this.calendars.splice(2,1,c.getCalendar(t,this.procCalendar))),this.title=c.format(this.date,"yyyy年mm月")},onSwiperChange:function(e){this.calendarIndex=e.detail.current;var t=this.calendars[this.calendarIndex];this.date=new Date(t[22].dateObj),this.refreshCalendars()},onSelectDate:function(e){var t=this;~this.type.indexOf("range")&&2==this.checkeds.length?this.checkeds=[]:!~this.type.indexOf("range")&&this.checkeds.length&&(this.checkeds=[]),this.checkeds.push(new Date(e.dateObj)),this.checkeds.sort((function(e,t){return e-t})),this.calendars.forEach((function(e){e.forEach(t.procCalendar)}))},onCancelTime:function(){this.showTimePicker=!1,"time"==this.type&&this.onCancel()},onConfirmTime:function(){"begin"==this.timeType?this.beginTime=this.timeValue:this.endTime=this.timeValue,this.showTimePicker=!1,"time"==this.type&&this.onConfirm()},onCancel:function(){this.$emit("cancel",!1)},onConfirm:function(){var e=this,t={value:null,date:null},n={date:"yyyy/mm/dd",time:"hh:ii"+(this.showSeconds?":ss":""),datetime:""};n["datetime"]=n.date+" "+n.time;var s=function(t,n){t.setHours(n[0],n[1]),e.showSeconds&&t.setSeconds(n[2])};if("time"==this.type){var i=new Date;s(i,this.beginTime),t.value=c.format(i,this.format?this.format:n.time),t.date=i}else if(this.isMultiSelect){var r=[],o=[];if(this.checkeds.length<2)return uni.showToast({icon:"none",title:"请选择两个日期"});this.checkeds.forEach((function(t,i){var a=new Date(t);if(e.isContainTime){var u=[e.beginTime,e.endTime];s(a,u[i])}r.push(c.format(a,e.format?e.format:n[e.isContainTime?"datetime":"date"])),o.push(a)})),t.value=r,t.date=o}else{var a=new Date(this.checkeds[0]);this.isContainTime&&(a.setHours(this.beginTime[0],this.beginTime[1]),this.showSeconds&&a.setSeconds(this.beginTime[2])),t.value=c.format(a,this.format?this.format:n[this.isContainTime?"datetime":"date"]),t.date=a}this.$emit("confirm",t)}},computed:{BeginTitle:function(){var e="未选择";return this.checkeds.length&&(e=c.format(this.checkeds[0],"yy/mm/dd")),e},EndTitle:function(){var e="未选择";return 2==this.checkeds.length&&(e=c.format(this.checkeds[1],"yy/mm/dd")),e},PickerTimeTitle:function(){return c.formatTimeArray(this.timeValue,this.showSeconds)},BeginTimeTitle:function(){return"未选择"!=this.BeginTitle?c.formatTimeArray(this.beginTime,this.showSeconds):""},EndTimeTitle:function(){return"未选择"!=this.EndTitle?c.formatTimeArray(this.endTime,this.showSeconds):""}},watch:{show:function(e,t){var n=this;e&&this.setValue(this.value),this.$nextTick((function(){n.isShow=e}))},value:function(t,n){var s=this;setTimeout((function(){e("log","新旧值:",t,n," at components\\mx-datepicker\\mx-datepicker.vue:577"),s.setValue(t)}),0)}}};t.default=u}).call(this,n("0de9")["default"])},"32aa":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return e.apply(t,n)}}},"32ae":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","def-modify"),attrs:{_i:0}},[e._$s(1,"i",!e.chatAdmin)?n("view",{staticClass:e._$s(1,"sc","def-modify-input"),attrs:{_i:1}},[n("textarea",{attrs:{_i:2}})]):e._e(),e._$s(3,"i",e.chatAdmin)?[n("view",{staticClass:e._$s(4,"sc","def-modify-text"),attrs:{_i:4}},[n("view",{staticClass:e._$s(5,"sc","def-modify-text-head"),attrs:{_i:5}},[n("image",{attrs:{_i:6}}),n("view",{staticClass:e._$s(7,"sc","def-modify-text-head-right"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","modify-name"),attrs:{_i:8}}),n("view",{staticClass:e._$s(9,"sc","modify-time"),attrs:{_i:9}})])]),n("view",{staticClass:e._$s(10,"sc","def-modify-text-content"),attrs:{_i:10}},[n("text",{attrs:{_i:11}})]),n("view",{staticClass:e._$s(12,"sc","def-modify-text-tips"),attrs:{_i:12}})])]:e._e()],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},3389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNewestDynamicRequest=i,t.getMyDynamicRequest=r,t.getPersonDynamicRequest=o,t.doPublishDynamic=a,t.doCommentRequest=c,t.doDynamicLikeRequest=u;var s=n("4490");function i(e){return(0,s.http)({method:"get",url:"/circle/browseFriendCircle"+e,timeout:2e4})}function r(e){return s.http.get("/circle/browseMyFriendCircle"+e)}function o(e){return s.http.get("/circle/browseOtherFriendCircle"+e)}function a(e){return s.http.post("/circle/postMoments",e)}function c(e){return s.http.post("/circle/comment",e)}function u(e){return s.http.post("/circle/friendCircleLike",e)}},3393:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","group-info"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","group-info-head"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","group-info-head-img"),attrs:{_i:2}},[n("image",{attrs:{_i:3}})]),n("view",{staticClass:e._$s(4,"sc","group-info-head-center"),attrs:{_i:4}},[n("view",{staticClass:e._$s(5,"sc","group-name"),attrs:{_i:5}},[e._v(e._$s(5,"t0-0",e._s(e.currentGroup.groupName)))]),n("view",{staticClass:e._$s(6,"sc","group-number"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.currentGroup.tid))+e._$s(6,"t0-1",e._s(e.currentGroup.createTime)))])]),n("view",{staticClass:e._$s(7,"sc","group-info-head-right"),attrs:{_i:7}},[n("text",{staticClass:e._$s(8,"sc","my-iconfont right-icon"),attrs:{_i:8}})])]),n("default-list",{attrs:{textRight:"true",_i:9},nativeOn:{click:function(t){return e.toDefModify("myGroupCard",null)}}},[n("view",{slot:"def-list-left"}),n("view",{slot:"def-list-center"},[e._v(e._$s(11,"t0-0",e._s(e.currentGroup.myGroupName)))])]),n("default-list",{attrs:{textRight:"true",_i:12},on:{click:e.toGroupMembers}},[n("view",{slot:"def-list-left"}),n("view",{slot:"def-list-center"},[e._v(e._$s(14,"t0-0",e._s(e.groupMemberList[e.currentGroup.tid].length)))])]),n("view",{staticClass:e._$s(15,"sc","group-members"),attrs:{_i:15}},e._l(e._$s(16,"f",{forItems:e.groupMemberList[e.currentGroup.tid]}),(function(t,s,i,r){return n("view",{key:e._$s(16,"f",{forIndex:i,key:s}),staticClass:e._$s("16-"+r,"sc","group-members-item"),attrs:{_i:"16-"+r}},[n("view",{staticClass:e._$s("17-"+r,"sc","group-members-item-img"),class:e._$s("17-"+r,"c",{"group-members-item-img-after":0===s}),attrs:{_i:"17-"+r}},[n("image",{attrs:{_i:"18-"+r}})]),n("view",{staticClass:e._$s("19-"+r,"sc","group-members-item-name"),attrs:{_i:"19-"+r}},[e._v(e._$s("19-"+r,"t0-0",e._s(t.groupNickname||"")))])])})),0),n("default-list",{attrs:{myRight:!1,textRight:"true",marTop:"true",_i:20}},[n("view",{slot:"def-list-left"}),n("view",{slot:"def-list-center"},[e._v(e._$s(22,"t0-0",e._s(e.currentGroup.creator||"默认好友")))])]),n("default-list",{attrs:{textRight:"true",_i:23},nativeOn:{click:function(t){return e.toDefModify("myGroupCard",null)}}},[n("view",{slot:"def-list-left"}),e._$s(25,"i",e.currentGroup.groupName)?n("view",{slot:"def-list-center"},[e._v(e._$s(25,"t0-0",e._s(e.currentGroup.groupName)))]):e._e()]),n("default-list",{attrs:{textRight:"true",_i:26},nativeOn:{click:function(t){return e.toDefModify("myGroupCard",null)}}},[n("view",{slot:"def-list-left"}),n("view",{slot:"def-list-center"},[e._v(e._$s(28,"t0-0",e._s(e.currentGroup.groupDescription||"暂无")))])]),n("view",{staticClass:e._$s(29,"sc","notice-item"),attrs:{_i:29},nativeOn:{click:function(t){return e.toDefModify("myGroupCard",null)}}},[n("view",{staticClass:e._$s(30,"sc","notice-item-left"),attrs:{_i:30}},[n("view",{staticClass:e._$s(31,"sc","notice-name"),attrs:{_i:31}}),n("view",{staticClass:e._$s(32,"sc","notice-content"),attrs:{_i:32}},[e._v(e._$s(32,"t0-0",e._s(e.currentGroup.announcement||"暂无")))])]),n("text",{staticClass:e._$s(33,"sc","notice-item-right my-iconfont"),attrs:{_i:33}})]),n("default-list",{attrs:{textRight:"true",_i:34},nativeOn:{click:function(t){return e.toHistoryMsg()}}},[n("view",{slot:"def-list-left"})]),n("default-list",{attrs:{noBorderBtm:!0,textRight:"true",_i:36},on:{click:e.handleRemind}},[n("view",{slot:"def-list-left"}),n("view",{slot:"def-list-center"},[e._v(e._$s(38,"t0-0",e._s(2===e.currentGroup.msgNotification?"提醒所有消息":"不提醒任何消息")))])]),n("view",{staticClass:e._$s(39,"sc","group-info-btm"),attrs:{_i:39}},[n("view",{staticClass:e._$s(40,"sc","clean-chat-record"),attrs:{_i:40}}),e._$s(41,"i",3===e.isGroupAdmin)?n("view",{staticClass:e._$s(41,"sc","sign-out"),attrs:{_i:41},on:{click:e.handleAdmin}}):n("view",{staticClass:e._$s(42,"sc","sign-out"),attrs:{_i:42},on:{click:e.signOutGroup}})])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"33eb":function(e,t,n){"use strict";n.r(t);var s=n("f1a6"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"37dd":function(e,t,n){"use strict";function s(e){this.message=e}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,e.exports=s},"38a1":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(n("15e1")),i=l(n("aa5f")),r=n("587d"),o=n("7429"),a=n("563c"),c=n("2f62"),u=n("bb9c");function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return h(e)||p(e)||m(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function p(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=getApp(),T={components:{DefMask:s.default,LoadingIcon:i.default},data:function(){return{messageArr:[],msgContent:"",windowHeight:0,sessionStyle:"height: 800rpx;",btmHeight1:0,btmHeight2:0,btmStyle1:"",btmStyle2:"",scrollTop:Number,chatTo:"",chatType:"",showKeyboard:!0,isFocus:!0,showTool:!1,adjust:!0,msgTips:!1,isListening:!1,speakTimer:null,speakCount:0,isSpeak:!1,speakingTitle:"按住 说话",showCancel:!1,cancelActive:!1,translateActive:!1,cancelInfo:{left1:0,right1:0,left2:0,right2:0,top:0,bottom:0},imgUrl:"",groupInfo:{},firstGetMsgs:!0,hasHistoryMsg:!0,pageCount:1,refresherEnabled:!0,freshing:!1}},computed:y({DconvertRawMessageListToRenderMessageArr:function(){e("log","this.currentChatTo:",this.currentChatTo," at components\\content\\session\\Session.vue:313");var t=this.rawMessageList[this.currentChatTo],n=[];for(var s in t){var i=t[s],r="";r="custom"===i.type&&1===JSON.parse(i["content"])["type"]?"猜拳":"custom"===i.type&&3===JSON.parse(i["content"])["type"]?"贴图表情":i.type;var o=this.judgeOverTwoMinute(i.time,n),a="in"===i.flow?"receive":"send",c={};switch(r){case"text":c={nodes:(0,u.generateRichTextNode)(i.text)};break;case"image":c={nodes:(0,u.generateImageNode)(i.file)};break;case"geo":c={geo:i.geo};break;case"audio":c={audio:i.file};break;case"video":c={video:i.file};break;case"猜拳":var l=JSON.parse(i["content"]).data.value;c={nodes:(0,u.generateImageNode)((0,u.generateFingerGuessImageFile)(l))};break;case"贴图表情":var d=JSON.parse(i["content"]);c={nodes:(0,u.generateImageNode)((0,u.generateBigEmojiImageFile)(d))};break;case"tip":c={text:i.tip,nodes:[{type:"text",text:i.tip}]};break;case"白板消息":case"阅后即焚":c={nodes:[{type:"text",text:"[".concat(r,"],请到手机或电脑客户端查看")}]};break;case"file":case"robot":var f="file"===r?"文件消息":"机器人消息";c={nodes:[{type:"text",text:"[".concat(f,"],请到手机或电脑客户端查看")}]};break;case"custom":c={nodes:[{type:"text",text:"自定义消息"}]};break;case"notification":c={text:i.groupNotification||(0==i.text.length?"通知":i.text),nodes:[{type:"text",text:i.groupNotification||(0==i.text.length?"通知":i.text)}]};break;default:break}n.push(Object.assign({},{from:i.from,type:r,text:i.text||"",time:s,sendOrReceive:a,displayTimeHeader:o},c))}return e("log","改变了:",n," at components\\content\\session\\Session.vue:437"),n},calcSpeakCount:function(){return this.speakCount<10?"0".concat(this.speakCount):this.speakCount}},(0,c.mapState)(["userInfo","friendList","currentChatList","currentChatTo","rawMessageList"]),{},(0,c.mapGetters)(["getFriendInfoByAcccount","SconvertRawMessageListToRenderMessageArr"])),filters:{formatTime:function(e){return(0,r.formatTimeStamp)(e,"MM-dd hh:mm")}},watch:{rawMessageList:{deep:!0,handler:function(t,n){e("log","新消息与旧消息:",t,n," at components\\content\\session\\Session.vue:470"),t&&this.convertRawMessageListToRenderMessageArr()}}},methods:y({},(0,c.mapMutations)(["setCurrentChatList","setCurrentChatTo","clearUnread"]),{convertRawMessageListToRenderMessageArr:function(){var t=this,n=this.rawMessageList[this.currentChatTo],s=[];for(var i in n){var r=n[i],o="";o="custom"===r.type&&1===JSON.parse(r["content"])["type"]?"猜拳":"custom"===r.type&&3===JSON.parse(r["content"])["type"]?"贴图表情":r.type;var a=this.judgeOverTwoMinute(r.time,s),c="in"===r.flow?"receive":"send",l={};switch(o){case"text":l={nodes:(0,u.generateRichTextNode)(r.text)};break;case"image":l={nodes:(0,u.generateImageNode)(r.file)};break;case"geo":l={geo:r.geo};break;case"audio":l={audio:r.file};break;case"video":l={video:r.file};break;case"猜拳":var d=JSON.parse(r["content"]).data.value;l={nodes:(0,u.generateImageNode)((0,u.generateFingerGuessImageFile)(d))};break;case"贴图表情":var f=JSON.parse(r["content"]);l={nodes:(0,u.generateImageNode)((0,u.generateBigEmojiImageFile)(f))};break;case"tip":l={text:r.tip,nodes:[{type:"text",text:r.tip}]};break;case"白板消息":case"阅后即焚":l={nodes:[{type:"text",text:"[".concat(o,"],请到手机或电脑客户端查看")}]};break;case"file":case"robot":var m="file"===o?"文件消息":"机器人消息";l={nodes:[{type:"text",text:"[".concat(m,"],请到手机或电脑客户端查看")}]};break;case"custom":l={nodes:[{type:"text",text:"自定义消息"}]};break;case"notification":l={text:r.groupNotification||(0==r.text.length?"通知":r.text),nodes:[{type:"text",text:r.groupNotification||(0==r.text.length?"通知":r.text)}]};break;default:break}s.push(Object.assign({},{from:r.from,type:o,text:r.text||"",time:i,sendOrReceive:c,displayTimeHeader:a},l))}e("log","改变了:",s," at components\\content\\session\\Session.vue:609"),this.messageArr=s,setTimeout((function(){t.$nextTick((function(){t.scrollToBottom()}))}),200)},scrollToBottom:function(){e("log","滚动到底部"," at components\\content\\session\\Session.vue:621"),uni.pageScrollTo({scrollTop:99999})},judgeOverTwoMinute:function(e,t){var n="",s=t[t.length-1];if(s){var i=e-s.time;i>12e4&&(n=(0,u.calcTimeHeader)(e))}else n=(0,u.calcTimeHeader)(e);return n},sendMsg:function(){var t=this,n={fromUser:this.userInfo.user.userAccount,ope:"p2p"===this.chatType?0:1,toUser:this.chatTo,type:0,msg:this.msgContent};(0,a.sendMsgRequest)(n).then((function(n){e("log",n," at components\\content\\session\\Session.vue:654"),t.$toast.showRes(n),2e3===n.data.code&&(t.msgContent="",t.$nextTick((function(){t.$forceUpdate()})))})).catch((function(n){e("log",n," at components\\content\\session\\Session.vue:663"),t.$toast.showErr(n)}))},onToupper:function(){var t=this;e("log","到达顶部"," at components\\content\\session\\Session.vue:668"),this.freshing||(this.freshing=!0,setTimeout((function(){t.freshing=!1}),3e3))},listenVoice:function(){this.isListening=!this.isListening},handleTips:function(){var e=this;uni.showModal({title:"提示",content:"消息未发送,是否重新发送",success:function(t){t.confirm&&(e.msgTips=!1)}})},moveHandle:function(t){var n=this;t.touches[0].clientY<540?(e("log",t," at components\\content\\session\\Session.vue:697"),this.showCancel=!0):this.showCancel=!1,this.showCancel&&(0===this.cancelInfo.right2?this.$nextTick((function(){var t=uni.createSelectorQuery().in(n);t.select(".cancel-item").boundingClientRect((function(t){n.cancelInfo.left1=t.left,n.cancelInfo.right1=t.right,n.cancelInfo.top=t.top,n.cancelInfo.bottom=t.bottom,e("log",n.cancelInfo," at components\\content\\session\\Session.vue:714")})).exec(),t.select(".translate-item").boundingClientRect((function(t){n.cancelInfo.left2=t.left,n.cancelInfo.right2=t.right,e("log",n.cancelInfo," at components\\content\\session\\Session.vue:721")})).exec()})):t.touches[0].clientY>this.cancelInfo.top&&t.touches[0].clientY<this.cancelInfo.bottom?t.touches[0].clientX>this.cancelInfo.left1&&t.touches[0].clientX<this.cancelInfo.right1?this.$nextTick((function(){n.cancelActive=!0})):t.touches[0].clientX>this.cancelInfo.left2&&t.touches[0].clientX<this.cancelInfo.right2?this.$nextTick((function(){n.translateActive=!0})):this.$nextTick((function(){n.cancelActive=!1,n.translateActive=!1})):this.$nextTick((function(){n.cancelActive=!1,n.translateActive=!1})))},showSpeaking:function(){var e=this;this.isSpeak=!0,this.speakingTitle="松开 结束",this.$refs.speakMask.isShowMask=!0,this.speakTimer=setInterval((function(){e.speakCount+=1}),1e3),this.speakTimer},hideSpeaking:function(){this.cancelActive?e("log","取消语音"," at components\\content\\session\\Session.vue:769"):this.translateActive?e("log","将语音转成文字"," at components\\content\\session\\Session.vue:771"):e("log","发送语音"," at components\\content\\session\\Session.vue:773"),this.isSpeak=!1,this.speakingTitle="按住 说话",this.showCancel=!1,this.cancelActive=!1,this.translateActive=!1,clearInterval(this.speakTimer),this.speakCount=0,this.$refs.speakMask.isShowMask=!1},handleCancel:function(t){e("log","取消"," at components\\content\\session\\Session.vue:788"),e("log",t," at components\\content\\session\\Session.vue:789")},handleTranslate:function(t){e("log","转文字"," at components\\content\\session\\Session.vue:794"),e("log",t," at components\\content\\session\\Session.vue:795")},doSpeak:function(){var e=this;this.$nextTick((function(){e.showKeyboard=!1,e.showTool=!1,e.isFocus=!1}))},doInput:function(){var e=this;this.$nextTick((function(){e.showKeyboard=!0,e.isFocus=!0}))},handleInput:function(t){e("log",t," at components\\content\\session\\Session.vue:817")},tapTool:function(e){var t=e.currentTarget.dataset.type;uni.showToast({title:"即将打开".concat(t),icon:"none"})},updateFocus:function(){var e=this;this.showTool&&(this.showTool=!1),setTimeout((function(){e.$nextTick((function(){e.isFocus=!1,setTimeout((function(){e.isFocus=!0}),80)}))}),80)},handleFocus:function(){var t=this.$scope.$getAppWebview();e("log","currentWebview:",t," at components\\content\\session\\Session.vue:848")},hideAll:function(){e("log","hideAll"," at components\\content\\session\\Session.vue:854"),this.showTool&&this.$nextTick((function(){var e=this;setTimeout((function(){e.showTool=!1}),200)})),this.isFocus&&this.$nextTick((function(){var e=this;setTimeout((function(){e.isFocus=!1}),200)}))},handleTool:function(){e("log","handleTool",this.btmStyle1," at components\\content\\session\\Session.vue:872"),this.showTool=!this.showTool,e("log","this.showTool",this.showTool," at components\\content\\session\\Session.vue:878")},getBtmHeight:function(){var t=this,n=uni.createSelectorQuery().in(this);n.select(".session-btm").boundingClientRect((function(n){0===t.btmHeight1?(t.btmHeight1=n.height,t.btmStyle1="padding-bottom: ".concat(n.height,"px;"),e("log","获取无工具栏样式:",t.btmStyle2," at components\\content\\session\\Session.vue:888")):0===t.btmHeight2&&(t.btmHeight2=n.height,t.btmStyle2="padding-bottom: ".concat(n.height,"px;"),e("log","获取有工具栏样式:",t.btmStyle2," at components\\content\\session\\Session.vue:893")),e("log",n.height," at components\\content\\session\\Session.vue:896")})).exec()},getHistoryMsgs:function(){if(this.hasHistoryMsg){var e={scene:"p2p"===this.chatType?"p2p":"team",limit:20,to:this.chatTo,done:this.getHistoryMsgsDone};_.globalData.nim.getHistoryMsgs(e)}else uni.showToast({title:"无更多聊天记录",icon:"none"})},getHistoryMsgsDone:function(t,n){var s,i=this;(e("log","获取p2p历史消息",n," at components\\content\\session\\Session.vue:920"),n.msgs.length<20&&(this.hasHistoryMsg=!1),this.firstGetMsgs)?(this.setCurrentChatList(n),this.firstGetMsgs=!1,this.$nextTick((function(){i.scrollToBottom()}))):(s=this.currentChatList.msgs).push.apply(s,d(n.msgs));this.$nextTick((function(){i.freshing=!1})),e("log","更新后历史记录:",this.currentChatList," at components\\content\\session\\Session.vue:939")},toGroupInfo:function(){uni.navigateTo({url:"/components/content/session/sessionSon/GroupInfo"})},toChatFriendSetting:function(){uni.navigateTo({url:"/components/content/session/sessionSon/ChatFriendSetting"})}}),onLoad:function(){var t=this,n=JSON.parse(JSON.stringify(uni.getStorageSync("toSessionObj")));e("log","toSessionObj:",n," at components\\content\\session\\Session.vue:959"),this.chatTo=n.chatTo,this.chatType=n.chatType,this.getBtmHeight(),this.imgUrl=o.imgBaseUrl,uni.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight}}),"p2p"!==this.chatType&&(0,a.queryGroupInfoRequest)(this.userInfo.user.userAccount,this.chatTo).then((function(e){t.$toast.showRes(e),2e3===e.data.code&&(t.groupInfo=e.data.data)})).catch((function(e){t.$toast.showErr(e)})),uni.removeStorage({key:"toSessionObj"}),this.convertRawMessageListToRenderMessageArr(),e("log","this.rawMessageList:",this.rawMessageList," at components\\content\\session\\Session.vue:984")},onBackPress:function(){return!!this.showTool&&(this.showTool=!1,!0)},onPageScroll:function(t){var n=this;e("log",t," at components\\content\\session\\Session.vue:1018"),this.isFocus&&this.$nextTick((function(){n.isFocus=!1})),this.showTool&&this.$nextTick((function(){n.showTool=!1}))},onNavigationBarButtonTap:function(e){0===e.index&&("p2p"===this.chatType?this.toChatFriendSetting():this.toGroupInfo())},onHide:function(){clearInterval(this.speakTimer)},onUnload:function(){this.setCurrentChatList({}),this.setCurrentChatTo("")}};t.default=T}).call(this,n("0de9")["default"])},"39b7":function(e,t,n){"use strict";var s=n("9f1f");e.exports=function(e,t){t=t||{};var n={};return s.forEach(["url","method","params","data"],(function(e){"undefined"!==typeof t[e]&&(n[e]=t[e])})),s.forEach(["headers","auth","proxy"],(function(i){s.isObject(t[i])?n[i]=s.deepMerge(e[i],t[i]):"undefined"!==typeof t[i]?n[i]=t[i]:s.isObject(e[i])?n[i]=s.deepMerge(e[i]):"undefined"!==typeof e[i]&&(n[i]=e[i])})),s.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(s){"undefined"!==typeof t[s]?n[s]=t[s]:"undefined"!==typeof e[s]&&(n[s]=e[s])})),n}},"3b48":function(e,t,n){"use strict";n.r(t);var s=n("d3eb"),i=n("60fe");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"80ddc542",null,!1,s["a"],o);t["default"]=c.exports},"3be0":function(e,t,n){"use strict";n.r(t);var s=n("0b4c"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"3c5a":function(e,t,n){"use strict";n.r(t);var s=n("89d2"),i=n("5dea");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"3c7f":function(e,t,n){"use strict";n.r(t);var s=n("f151"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"3cf0":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","profile set-bgc"),attrs:{_i:0}},[n("profile-head",{attrs:{nickname:e.userInfo.user.nickname,userAccount:e.userInfo.user.userAccount,_i:1},nativeOn:{click:function(t){return e.toPersonalInfo(t)}}}),n("profile-con",{attrs:{_i:2}}),n("profile-btm",{attrs:{_i:3}}),n("button",{attrs:{_i:4},on:{click:e.getCid}}),e._$s(5,"i",e.cid)?n("text",{attrs:{_i:5}},[e._v(e._$s(5,"t0-0",e._s(e.cid)))]):e._e()],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"3d95":function(e,t,n){"use strict";n.r(t);var s=n("b33b"),i=n("9d45");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"3ebb":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("bb9c"),i=n("841a"),r=n("2f62"),o=n("587d");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={data:function(){return{draftRemindList:[],remindList:[],pageNum:0,isAllElection:!1,electionCount:0,hasMoreRemind:!0,queryMoreRemindTitle:"点击加载更多"}},computed:c({},(0,r.mapState)(["userInfo"]),{calcIsAllElection:function(){return this.electionCount===this.remindList.length+this.draftRemindList.length}}),filters:{calcTime:function(e){return(0,s.calcTimeHeader)(e)}},methods:{queryRemind:function(){var e=this;if(this.hasMoreRemind){var t=this.userInfo.user.userAccount;this.pageNum+=1,(0,i.queryRemindRequest)(t,this.pageNum,20).then((function(t){2e3===t.data.code&&e.appendData(t.data.data)}))}},delRemind:function(e){var t=this;(0,i.delRemindRequest)(e).then((function(e){2e3===e.data.code&&(t.queryRemind(),uni.showToast({title:"已删除所选任务",icon:"none"}))}))},handleDelRemind:function(t){var n=this;uni.showModal({title:"提示",content:"确定删除所选任务?",success:function(t){if(t.confirm){n.draftRemindList.forEach((function(e,t){e.checked&&n.draftRemindList.splice(t,1)})),uni.setStorageSync("draftRemindList_".concat(n.userInfo.user.userAccount),n.draftRemindList);var s={account:n.userInfo.user.userAccount,ids:n.getSelected()};n.delRemind(s),e("log","删除后:",n.draftRemindList,n.remindList," at components\\content\\remind\\Reminded.vue:131")}}})},getSelected:function(){var e=[];return this.remindList.map((function(t){t.checked&&e.push(t.id)})),e},allElection:function(){var e=this;this.isAllElection?(this.remindList.forEach((function(e){e.checked=!1})),this.draftRemindList.forEach((function(t){t.checked=!1,e.electionCount=0}))):(this.remindList.forEach((function(t){t.checked=!0;Object.assign([],e.remindList)})),this.draftRemindList.forEach((function(t){t.checked=!0;Object.assign([],e.remindList);e.electionCount=e.draftRemindList.length+e.remindList.length}))),this.isAllElection=!this.isAllElection},handleCheck:function(t,n){var s=this;e("log",n," at components\\content\\remind\\Reminded.vue:171");var i=[];i="draft"===t?this.draftRemindList:this.remindList,this.$nextTick((function(){i[n].checked?(i[n].checked=!1,s.electionCount-=1):(i[n].checked=!0,s.electionCount+=1),s.$forceUpdate()}))},appendData:function(t){var n=this;t.list.forEach((function(e){e.remindPerson=JSON.parse(e.remindPerson),e.remindTime=(0,o.formatToTimeStamp)(e.remindTime),n.remindList.push(e)})),e("log","追加后",this.remindList," at components\\content\\remind\\Reminded.vue:200"),t.hasNextPage||(e("log","下一页没有数据了"," at components\\content\\remind\\Reminded.vue:202"),this.hasMoreRemind=!1)},getDraftRemindList:function(){var t=this;uni.getStorage({key:"draftRemindList_".concat(this.userInfo.user.userAccount),complete:function(n){e("log","res",n," at components\\content\\remind\\Reminded.vue:213"),n.data&&(t.draftRemindList=n.data,t.draftRemindList.forEach((function(e){e.checked=!1})),e("log","草稿:",t.draftRemindList," at components\\content\\remind\\Reminded.vue:219"))}})},toRemind:function(t,n){e("log","type、index",t,n," at components\\content\\remind\\Reminded.vue:226");var s="/components/content/remind/Remind?type=".concat(t,"&index=").concat(n);"new"===t||("edit"===t?uni.setStorageSync("editRemind",this.draftRemindList[n]):uni.setStorageSync("modifyRemind",this.remindList[n])),e("log","url",s," at components\\content\\remind\\Reminded.vue:235"),uni.navigateTo({url:s})}},onLoad:function(){this.queryRemind(),this.getDraftRemindList()},onShow:function(){var t=this;uni.$once("addRemind",(function(n){e("log","添加了新数据:",n," at components\\content\\remind\\Reminded.vue:248"),t.$nextTick((function(){t.remindList.splice(0,0,n),e("log","this.remindList:",t.remindList," at components\\content\\remind\\Reminded.vue:251")}))})),uni.$once("modifyRemindList",(function(n){e("log","修改提醒",n," at components\\content\\remind\\Reminded.vue:255"),t.remindList.splice(n.index,1),t.remindList.splice(0,0,n.info)})),uni.$once("updateDraftRemindList",(function(){t.getDraftRemindList()}))},onNavigationBarButtonTap:function(e){0===e.index&&this.toRemind("new",null)}};t.default=l}).call(this,n("0de9")["default"])},"3f01":function(e,t,n){"use strict";n.r(t);var s=n("6646"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"3f38":function(e,t,n){"use strict";n.r(t);var s=n("85e7"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"3fc5":function(e,t,n){"use strict";n.r(t);var s=n("75db"),i=n("25dc");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"404c":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","group-members"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","group-members-list"),attrs:{_i:1}},e._l(e._$s(2,"f",{forItems:e.groupMemberList[e.currentGroup.tid]}),(function(t,s,i,r){return n("view",{key:e._$s(2,"f",{forIndex:i,key:s}),staticClass:e._$s("2-"+r,"sc","group-members-item"),attrs:{_i:"2-"+r}},[n("image",{attrs:{_i:"3-"+r},on:{click:function(n){return e.toFriendInfo(t.account)},longpress:e.changeMode}}),e._$s("4-"+r,"i",e.delMode&&0!==s)?n("text",{staticClass:e._$s("4-"+r,"sc","my-iconfont delmember-icon"),attrs:{_i:"4-"+r},on:{click:function(n){return n.stopPropagation(),e.handleDelMember(t.account)}}}):e._e(),n("text",{staticClass:e._$s("5-"+r,"sc","group-members-name"),attrs:{_i:"5-"+r}},[e._v(e._$s("5-"+r,"t0-0",e._s(t.groupNickname)))])])})),0)])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"40c4":function(e,t,n){"use strict";n.r(t);var s=n("6cac"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"41ce":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=u(n("0cb1")),i=u(n("15e1")),r=n("2f62"),o=n("d8ae"),a=u(n("e40e")),c=u(n("8ce3"));u(n("63ee"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={components:{IndexContent:s.default,DefMask:i.default},data:function(){return{nim:null,count:1,title:"Hello",imToken:"",toToken:"",receiveMsg:""}},computed:d({},(0,r.mapState)(["userInfo","rawMessageList"])),watch:{},methods:d({},(0,r.mapMutations)(["appStartGetData"]),{sendMsg:function(){var e=this;this.nim.sendText({scene:"p2p",to:"1576463907795",text:"我是AAAAAA---消息".concat(this.count),done:function(t){e.count++}})},handleShowMask:function(){this.$refs.indexMask.isShowMask?this.$refs.indexMask.tapHideMask():this.$refs.indexMask.tapShowMask()},toReminded:function(){uni.navigateTo({url:"/components/content/remind/Reminded"})},toAddfriend:function(){uni.navigateTo({url:"/components/content/addfriend/AddFriend"})},getAccountImToken:function(t){(0,o.getAccountImTokenRequest)("?accid=".concat(t)).then((function(n){200===n.status&&2e3===n.data.code&&(e("log","返回我的的token：",n.data.data," at pages\\index\\index.vue:117"),new a.default({token:n.data.data,account:t}))})).catch((function(t){e("log","错误信息：",t," at pages\\index\\index.vue:125")}))},toChooseFriend:function(){uni.navigateTo({url:"/components/content/chooseFriend/ChooseFriend?type=createGroup"})}}),onLoad:function(){var t=this;this.appStartGetData(this.userInfo.user.userAccount),e("log","rawMessageList index",this.rawMessageList," at pages\\index\\index.vue:140"),this.getAccountImToken(this.userInfo.user.userAccount),(0,o.getAccountImTokenRequest)("?accid=1576463946323").then((function(n){200===n.status&&2e3===n.data.code&&(e("log","返回我的的token2：",n.data.data," at pages\\index\\index.vue:146"),t.nim=c.default.NIM.getInstance({debug:!1,appKey:"a59ba9fafb323c6fcc49a5cbf48d369a",token:n.data.data,account:1576463946323,promise:!0,transports:["websocket"],onconnect:t.test,onwillreconnect:t.test,ondisconnect:t.test,onerror:t.test}))})).catch((function(t){e("log","错误信息：",t," at pages\\index\\index.vue:163")}))},onUnload:function(){e("log","onUnload"," at pages\\index\\index.vue:169"),this.$refs.indexMask.tapHideMask(),this.$refs.indexcontent.hidePop()},onHide:function(){e("log","onHide"," at pages\\index\\index.vue:177"),this.$refs.indexMask.tapHideMask(),this.$refs.indexcontent.hidePop()},onNavigationBarButtonTap:function(e){this.$refs.indexcontent.hidePop(),0===e.index&&this.toReminded(),1===e.index&&this.handleShowMask()}};t.default=m}).call(this,n("0de9")["default"])},"41ec":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("2f62"),i=n("7429");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{lettersList:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"],oneIndexHeight:0,indexAlert:!1,currentLetter:"",imgUrl:""}},computed:o({},(0,s.mapState)(["friendList"])),methods:{touchStart:function(e){var t=e.touches[0].pageY,n=Math.floor((t-15)/this.oneIndexHeight);if(0===n)this.indexAlert=!1,this.currentLetter="top";else{var s=this.friendList[n-1].list;s.length>0?(this.indexAlert=!0,this.currentLetter=this.lettersList[n-1]):this.indexAlert=!1}},touchMove:function(e){var t=e.touches[0].pageY,n=Math.floor((t-15)/this.oneIndexHeight);if(0===n)this.indexAlert=!1,this.currentLetter="top";else{var s=this.friendList[n-1].list;s.length>0?(this.indexAlert=!0,this.currentLetter=this.lettersList[n-1]):this.indexAlert=!1}},touchEnd:function(){var t=this;e("log","结束触摸索引"," at pages\\contacts\\contactsCpns\\ContactsCon.vue:128"),this.$nextTick((function(){t.indexAlert=!1,t.currentLetter=""}))},touchCancel:function(){var t=this;e("log","触摸索引被打断"," at pages\\contacts\\contactsCpns\\ContactsCon.vue:138"),this.$nextTick((function(){t.indexAlert=!1,t.currentLetter=""}))},toFriendInfo:function(e){uni.navigateTo({url:"/components/content/friend/FriendInfo?friendAccount=".concat(e)})},toConsentFriend:function(){uni.navigateTo({url:"/components/content/consentfriend/ConsentFriend"})}},created:function(){e("log",this.friendList," at pages\\contacts\\contactsCpns\\ContactsCon.vue:163"),this.imgUrl=i.imgBaseUrl},mounted:function(){var e=this,t=uni.createSelectorQuery().in(this);t.select(".contactsindex").boundingClientRect((function(t){var n=t.height/28;e.oneIndexHeight=n})).exec()}};t.default=c}).call(this,n("0de9")["default"])},4273:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","messgae"),attrs:{_i:0}},[n("message-list",{attrs:{_i:1}})],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"42c5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMyFriendInfoRequest=i,t.updateFriendInfoRequest=r;var s=n("4490");function i(e){return s.http.get("/myFriend/queryFriendInfo"+e)}function r(e){return s.http.put("/myFriend/updateFriendInfo",e)}},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,s="/";t.cwd=function(){return s},t.chdir=function(t){e||(e=n("df7c")),s=e.resolve(t,s)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},4490:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.http=void 0;var s=r(n("a459")),i=n("7429");n("c83a");function r(e){return e&&e.__esModule?e:{default:e}}function o(e){0}function a(e){0}var c=s.default.create(i.http_config);t.http=c,c.interceptors.request.use((function(t){return e("log",t," at network\\http.js:66"),o(t),t})),c.interceptors.response.use((function(e){return a(e),e}),(function(e){return Promise.reject(e.message)}))}).call(this,n("0de9")["default"])},"45e4":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("cd60")),i=r(n("0261"));function r(e){return e&&e.__esModule?e:{default:e}}var o={components:{HeadImgItem:s.default,DefaultList:i.default},data:function(){return{isRemind:!0}},methods:{changeMsgRemind:function(){this.isRemind=!this.isRemind},delChatFriend:function(){uni.showModal({title:"提示",content:"确定删除该好友？",success:function(t){e("log",t," at components\\content\\session\\sessionSon\\ChatFriendSetting.vue:70"),t.confirm&&uni.showToast({title:"好友已删除",icon:"none",success:function(e){uni.navigateBack()}})},fail:function(t){e("log",t," at components\\content\\session\\sessionSon\\ChatFriendSetting.vue:82")}})}}};t.default=o}).call(this,n("0de9")["default"])},4623:function(e,t,n){"use strict";n.r(t);var s=n("f891"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},4756:function(e,t,n){"use strict";n.r(t);var s=n("af74"),i=n("20e0");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"48c9":function(e,t,n){"use strict";n.r(t);var s=n("5135"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},4911:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","collect-chain"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","status_bar"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","webview-nav-bar"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","webview-nav-bar-left"),attrs:{_i:3},on:{click:function(t){return e.backPage()}}},[n("text",{staticClass:e._$s(4,"sc","my-iconfont webview-nav-bar-left-icon"),attrs:{_i:4}})]),n("view",{staticClass:e._$s(5,"sc","webview-nav-bar-center"),attrs:{_i:5}}),n("view",{staticClass:e._$s(6,"sc","webview-nav-bar-right"),attrs:{_i:6},on:{click:function(t){return e.moreMenu()}}},[n("text",{staticClass:e._$s(7,"sc","my-iconfont webview-nav-bar-right-icon"),attrs:{_i:7}})])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"4b3c":function(e,t,n){"use strict";n.r(t);var s=n("e161"),i=n("253e");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"4d57":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","changepwd1 set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","center-content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","login-content"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","login-head"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","login-form"),attrs:{_i:4}},[n("form",{attrs:{_i:5},on:{submit:e.registerClick}},[n("view",{staticClass:e._$s(6,"sc","my-input"),attrs:{_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userPhone,expression:"userPhone"}],staticClass:e._$s(7,"sc","def-input"),attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.userPhone)},on:{input:[function(t){t.target.composing||(e.userPhone=t.target.value)},e.handlerUserPhone],blur:e.userPhoneInputDefocus}}),n("view",{staticClass:e._$s(8,"sc","def-input-del"),attrs:{_i:8},on:{click:e.delInput}},[e._$s(9,"i",e.showPhoneInput)?n("image",{staticClass:e._$s(9,"sc","def-input-del-img"),attrs:{_i:9}}):e._e()])]),n("view",{staticClass:e._$s(10,"sc","input-and-code"),attrs:{_i:10}},[n("input",{staticClass:e._$s(11,"sc","left-input"),attrs:{_i:11}}),n("button",{staticClass:e._$s(12,"sc","right-btn"),attrs:{disabled:e._$s(12,"a-disabled",e.sendCodeBtn),_i:12},on:{click:e.cliSendCode}},[e._v(e._$s(12,"t0-0",e._s(e.sendCodeBtnVal)))])]),n("button",{staticClass:e._$s(13,"sc","def-button"),attrs:{_i:13}})])])])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"4e46":function(e,t,n){"use strict";n.r(t);var s=n("e078"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"4f7a":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","chat-friend-setting"),attrs:{_i:0}},[n("default-list",{staticClass:e._$s(1,"sc","chat-friend-setting-head"),attrs:{_i:1}},[n("image",{attrs:{_i:2},slot:"def-list-left"}),n("text",{slot:"def-list-center"})]),n("default-list",{attrs:{_i:4}},[n("view",{slot:"def-list-left"})]),n("default-list",{attrs:{_i:6}},[n("view",{slot:"def-list-left"})]),n("default-list",{attrs:{myRight:!1,noBorderBtm:!0,_i:8},nativeOn:{click:function(t){return e.changeMsgRemind(t)}}},[n("view",{slot:"def-list-left"}),n("view",{slot:"def-list-right"},[n("switch",{attrs:{checked:e._$s(11,"a-checked",e.isRemind),_i:11}})])]),n("view",{staticClass:e._$s(12,"sc","chat-setting-btm"),attrs:{_i:12}},[n("view",{staticClass:e._$s(13,"sc","clean-chat-record"),attrs:{_i:13}}),n("view",{staticClass:e._$s(14,"sc","del-chat-friend"),attrs:{_i:14},on:{click:e.delChatFriend}})])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"4fce":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("2f62"),i=n("7429");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{},data:function(){return{imgUrl:""}},computed:o({},(0,s.mapState)(["userInfo","hasLogin"])),props:["userAccount","nickname"],created:function(){this.imgUrl=i.imgBaseUrl}};t.default=c},"501f":function(e,t,n){"use strict";n.r(t);var s=n("ffc1"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"50fc":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","profilebtm"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","list1 list"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","item1"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","item1-img"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","item1-title1"),attrs:{_i:4}})]),n("view",{staticClass:e._$s(5,"sc","item1"),attrs:{_i:5}},[n("view",{staticClass:e._$s(6,"sc","item1-img"),attrs:{_i:6}}),n("view",{staticClass:e._$s(7,"sc","item1-title1"),attrs:{_i:7}})]),n("view",{staticClass:e._$s(8,"sc","item1"),attrs:{_i:8}},[n("view",{staticClass:e._$s(9,"sc","item1-img"),attrs:{_i:9}}),n("view",{staticClass:e._$s(10,"sc","item1-title1"),attrs:{_i:10}})])]),n("view",{staticClass:e._$s(11,"sc","list1"),attrs:{_i:11}},[n("view",{staticClass:e._$s(12,"sc","item1"),attrs:{_i:12}},[n("view",{staticClass:e._$s(13,"sc","item1-img"),attrs:{_i:13}}),n("view",{staticClass:e._$s(14,"sc","item1-title2"),attrs:{_i:14}})]),n("view",{staticClass:e._$s(15,"sc","item1"),attrs:{_i:15}},[n("view",{staticClass:e._$s(16,"sc","item1-img"),attrs:{_i:16}}),n("view",{staticClass:e._$s(17,"sc","item1-title2"),attrs:{_i:17}})]),n("view",{staticClass:e._$s(18,"sc","item1"),attrs:{_i:18}},[n("view",{staticClass:e._$s(19,"sc","item1-img"),attrs:{_i:19}}),n("view",{staticClass:e._$s(20,"sc","item1-title2"),attrs:{_i:20}})]),n("view",{staticClass:e._$s(21,"sc","item1"),attrs:{_i:21}},[n("view",{staticClass:e._$s(22,"sc","item1-img"),attrs:{_i:22}}),n("view",{staticClass:e._$s(23,"sc","item1-title2"),attrs:{_i:23}})])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},5135:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("5c0c"),i=n("587d"),r=n("2f62");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{searchList:[]}},computed:a({},(0,r.mapState)(["userInfo"])),methods:{queryCollectByType:function(t){var n=this,i="?account=".concat(this.userInfo.user.userAccount,"&collectType=").concat(t);(0,s.queryCollectByTypeRequest)(i).then((function(t){e("log",t," at components\\content\\collection\\collectionCpns\\CollectSearch.vue:65"),200===t.status?2e3===t.data.code?n.searchList=t.data.data:4004===t.data.code?uni.showToast({title:"您无此类型收藏",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"}):404===t.status?uni.showToast({title:"网络走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\collection\\collectionCpns\\CollectSearch.vue:92"),uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}))},queryCollectByLabel:function(t){var n=this,i="?account=".concat(this.userInfo.user.userAccount,"&collectLabel=").concat(t);(0,s.queryCollectByLabelRequest)(i).then((function(t){e("log",t," at components\\content\\collection\\collectionCpns\\CollectSearch.vue:104"),200===t.status?2e3===t.data.code?n.searchList=t.data.data:4004===t.data.code||uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"}):404===t.status?uni.showToast({title:"网络走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\collection\\collectionCpns\\CollectSearch.vue:128"),uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}))},toChain:function(e){uni.navigateTo({url:"/components/content/collection/collectionCpns/CollectChain?link=".concat(e,"&name=img-webview")})}},filters:{getFormatTime:function(e){return(0,i.formatTimeStamp)(e,"yyyy-MM-dd hh:mm")}},onLoad:function(t){e("log",t," at components\\content\\collection\\collectionCpns\\CollectSearch.vue:148"),"type"===t.cate?this.queryCollectByType(t.type):"label"===t.cate&&this.queryCollectByLabel(t.type)}};t.default=u}).call(this,n("0de9")["default"])},5206:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("a888");var s=n("2f62"),i=n("7429"),r=n("5c0c");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{},data:function(){return{myHeadImgUrl:"",imgUrl:""}},computed:a({},(0,s.mapState)(["userInfo"])),methods:{changeHeadImg:function(){var t=this;e("log","修改头像："," at components\\content\\personalinfo\\PersonalInfo.vue:99"),uni.chooseImage({count:1,success:function(n){uni.uploadFile({url:"".concat(i.baseUrl,"/user/updateUserAvatar"),filePath:n.tempFilePaths[0],formData:{account:t.userInfo.user.userAccount,_method:"PUT"},name:"multipartFile",success:function(n){if(e("log",n," at components\\content\\personalinfo\\PersonalInfo.vue:112"),200===n.statusCode){var s=JSON.parse(n.data);2e3===s.code?(t.$set(t.userInfo.user,"faceImage",s.data),uni.setStorageSync("userInfo",t.userInfo),e("log",t.userInfo," at components\\content\\personalinfo\\PersonalInfo.vue:118")):uni.showToast({title:"服务器睡着了~",icon:"none"})}else uni.showToast({title:"服务器睡着了~",icon:"none"})},fail:function(e){"ok"!=e.uploadFile&&uni.showToast({title:"服务器睡着了~",icon:"none"})}})},fail:function(t){e("log",t," at components\\content\\personalinfo\\PersonalInfo.vue:144")}})},previewHeadImg:function(){var t=this;uni.previewImage({urls:["".concat(i.imgBaseUrl).concat(this.userInfo.user.faceImage)],longPressActions:{itemList:["保存到相册","收藏"],success:function(n){switch(e("log",n.tapIndex," at components\\content\\personalinfo\\PersonalInfo.vue:155"),n.tapIndex){case 0:uni.saveImageToPhotosAlbum({filePath:"".concat(i.imgBaseUrl).concat(t.userInfo.user.faceImage),success:function(e){uni.showToast({title:"已保存到系统相册",icon:"none"})},fail:function(e){uni.showToast({title:"保存失败，请稍后重试",icon:"none"})}});break;case 1:var s={account:t.userInfo.user.userAccount,collectContent:"".concat(i.imgBaseUrl).concat(t.userInfo.user.faceImage),collectType:"图片"};(0,r.addMyCollectRequest)(s).then((function(t){200===t.status&&2e3===t.data.code?uni.showToast({title:"成功收藏",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}),e("log",t," at components\\content\\personalinfo\\PersonalInfo.vue:199")})).catch((function(e){uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})}));break}}}})},toChangeName:function(){uni.navigateTo({url:"/components/content/personalinfo/changeinfo/ChangeName"})},toCard:function(){uni.navigateTo({url:"/components/content/personalinfo/changeinfo/Card"})},toChangeMoreInfo:function(){uni.navigateTo({url:"/components/content/personalinfo/changeinfo/ChangeMoreInfo"})},toChangeAddress1:function(){uni.navigateTo({url:"/components/content/personalinfo/changeinfo/ChangeAddress1"})}},created:function(){this.imgUrl=i.imgBaseUrl}};t.default=u}).call(this,n("0de9")["default"])},"539f":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("7044")),i=n("5c0c"),r=n("2f62");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={data:function(){return{myCollectList:[]}},components:{CollectionContent:s.default},computed:c({},(0,r.mapState)(["userInfo"])),methods:{browseMyCollect:function(){var t=this;(0,i.browseMyCollectRequest)("?account=".concat(this.userInfo.user.userAccount)).then((function(n){if(e("log",n," at components\\content\\collection\\collection.vue:31"),200===n.status)if(2e3===n.data.code){if("没有添加收藏"!==n.data.data){var s=n.data.data;t.myCollectList=t.sortCollectList(s)}}else e("log","ssssss"," at components\\content\\collection\\collection.vue:40"),uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"});else 404===n.status?uni.showToast({title:"网络走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\collection\\collection.vue:59"),uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})}))},sortCollectList:function(e){return e.sort((function(e,t){return t.date-e.date}))}},created:function(){this.browseMyCollect()}};t.default=l}).call(this,n("0de9")["default"])},"54dd":function(e,t,n){"use strict";n.r(t);var s=n("82b4"),i=n("10a4");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},5556:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","startup"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","handlerStart"),attrs:{_i:1},on:{click:e.stopCounter}},[e._$s(2,"i",e.counter>0)?[n("text",[e._v(e._$s(3,"t0-0",e._s(e.counter)))])]:e._e()],2),n("view",{staticClass:e._$s(4,"sc","startup-animation"),attrs:{_i:4}})])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"563c":function(e,t,n){"use strict";var s=n("4490");function i(e){return(0,s.http)({url:"/singleChat/sendMsg",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function r(e){return(0,s.http)({headers:{"Content-Type":"application/json"},method:"post",url:"/group/createGroup",data:e})}function o(e){return s.http.post({headers:{"Content-Type":"application/json"},method:"post",url:"/group/addGroup",data:e})}function a(e){return s.http.delete("/group/kickGroup"+e)}function c(e,t){return s.http.get("/group/queryGroupInfo?accid=".concat(e,"&tid=").concat(t))}function u(e){return(0,s.http)({headers:{"Content-Type":"application/json"},method:"post",url:"/group/modifyMsgRemind",data:e})}function l(e){return s.http.post("/group/quitGroup",e)}function d(e){return(0,s.http)({headers:{"Content-Type":"application/json"},method:"post",url:"/group/addManager",data:e})}function f(e){return s.http.delete("/group/removeManager"+e)}function m(e){return s.http.put("/group/changeOwner",e)}e.exports={sendMsgRequest:i,createGroupRequest:r,addGroupRequest:o,kickGroupRequest:a,queryGroupInfoRequest:c,modifyMsgRemindRequest:u,quitGroupRequest:l,addManagerRequest:d,removeManagerRequest:f,changeOwnerRequest:m}},5744:function(e,t,n){"use strict";var s=n("b24c");e.exports=function(e,t,n,i,r){var o=new Error(e);return s(o,t,n,i,r)}},"57f8":function(e,t,n){"use strict";n.r(t);var s=n("4fce"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},5803:function(e,t,n){"use strict";n.r(t);var s=n("afe4"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"585d":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("2f62"),i=n("b3e4");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{addressInfoList:[]}},computed:o({getNestList:function(){return JSON.parse(this.userInfo.user.userAddress)}},(0,s.mapState)(["userInfo"])),methods:{toChangeAddress2:function(e){"newAddress"===e?uni.navigateTo({url:"/components/content/personalinfo/changeinfo/ChangeAddress2"}):uni.navigateTo({url:"/components/content/personalinfo/changeinfo/ChangeAddress2?index=".concat(e)})},isShowAction:function(t){var n=this;uni.showActionSheet({itemList:["编辑","删除","复制"],success:function(s){switch(s.tapIndex){case 0:n.toChangeAddress2(t);break;case 1:uni.showModal({title:"提示",content:"您确定删除该地址？",success:function(s){if(s.confirm){var r=JSON.parse(n.userInfo.user.userAddress);e("log","list:",r," at components\\content\\personalinfo\\changeinfo\\ChangeAddress1.vue:67"),r.splice(t,1);var o=JSON.stringify(r),a={userAccount:n.userInfo.user.userAccount,modifyContent:o,modifyType:3};(0,i.modifyUserInfo)(a).then((function(t){200===t.status?(2e3===t.data.code?(n.$set(n.userInfo.user,"userAddress",o),uni.setStorageSync("userInfo",n.userInfo)):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress1.vue:90")):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).catch((function(t){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress1.vue:102")}))}}}),e("log","删除该地址"," at components\\content\\personalinfo\\changeinfo\\ChangeAddress1.vue:109");break;case 2:e("log","复制该地址"," at components\\content\\personalinfo\\changeinfo\\ChangeAddress1.vue:112");break;default:break}},fail:function(t){e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress1.vue:119")}})}},created:function(){if(this.userInfo.user.userAddress.length>0){var e=JSON.parse(this.userInfo.user.userAddress);this.addressInfoList=e}},onNavigationBarButtonTap:function(e){0===e.index&&this.toChangeAddress2("newAddress")}};t.default=c}).call(this,n("0de9")["default"])},"587d":function(e,t,n){"use strict";(function(t){var s=n("1291");function i(e){var t=/^[1][3,4,5,7,8][0-9]{9}$/;return t.test(e)}function r(e){var t=/.{8,16}/;return t.test(e)}function o(e,t){return Date.prototype.Format=function(e){var t={"y+":this.getFullYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,this.getFullYear()+"")),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},new Date(e).Format(t)}function a(e){var t=new Date(e).getTime();return t}function c(e){var t=/[\u4E00-\u9FCC\u3400-\u4DB5\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]/,n=/[a-zA-Z]/;if(e){if(t.test(e)){for(var i in s.pinyin_dict_notone){var r=s.pinyin_dict_notone[i];if(-1!==r.indexOf(e))return i}return!1}return!!n.test(e)&&e}return!1}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,s=null;return t("log","触发防抖函数"," at common\\index.js:84"),function(){var i=arguments,r=this;null!==s&&(t("log","清除定时器"," at common\\index.js:87"),clearTimeout(s)),s=setTimeout((function(){t("log","最后执行函数"," at common\\index.js:92"),e.apply(r,i)}),n)}}function l(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"friendRemarkName",s=[],i=[],r=function(t){var r=String.fromCharCode(65+t);s[t]={letters:r,list:[]},e.map((function(e){var o=e[n];if(o){var a=o.charAt(0),u=c(a);if(u){var l=u.charAt(0).toUpperCase();l===r&&s[t].list.push(e)}else 0===t&&i.push(e)}else 0===t&&i.push(e)}))},o=0;o<26;o++)r(o);var a={letters:"#",list:i};return s.push(a),t("log","根据首字母分类列表:",s," at common\\index.js:156"),s}function d(){return plus.push.getClientInfo().clientid}e.exports={getCid:d,isPoneAvailable:i,isPasswordAvailable:r,formatTimeStamp:o,formatToTimeStamp:a,isChinese:c,formatList:l,debounce:u}}).call(this,n("0de9")["default"])},"58bb":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","my-dynamic"),attrs:{_i:0}},[e._$s(1,"i",e.personDynamicList.length>0)?[e._l(e._$s(2,"f",{forItems:e.personDynamicList}),(function(t,s,i,r){return[n("view",{key:e._$s(2,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),staticClass:e._$s("3-"+r,"sc","dyc-list"),class:e._$s("3-"+r,"c","dyc-list"+s),attrs:{_i:"3-"+r}},[n("view",{staticClass:e._$s("4-"+r,"sc","dyc-list-head-img"),attrs:{_i:"4-"+r},on:{click:function(n){return e.toFriendInfo(t.account)}}},[n("image",{attrs:{src:e._$s("5-"+r,"a-src",e.imgUrl+t.faceImage),_i:"5-"+r}})]),n("view",{staticClass:e._$s("6-"+r,"sc","dyc-list-con"),attrs:{_i:"6-"+r}},[n("view",{staticClass:e._$s("7-"+r,"sc","dyc-list-name cliFontColor"),attrs:{_i:"7-"+r},on:{click:function(n){return e.toFriendInfo(t.account)}}},[e._v(e._$s("7-"+r,"t0-0",e._s(t.name)))]),n("view",{staticClass:e._$s("8-"+r,"sc","dyc-list-text"),attrs:{_i:"8-"+r}},[n("text",{},[e._v(e._$s("9-"+r,"t0-0",e._s(t.content)))])]),n("view",{staticClass:e._$s("10-"+r,"sc","dyc-local-list"),attrs:{_i:"10-"+r}},[n("view",{staticClass:e._$s("11-"+r,"sc","left-time-local"),attrs:{_i:"11-"+r}},[n("text",{staticClass:e._$s("12-"+r,"sc","left-time"),attrs:{_i:"12-"+r}},[e._v(e._$s("12-"+r,"t0-0",e._s(e._f("getFormatTime")(t.time))))]),n("text",{staticClass:e._$s("13-"+r,"sc","left-local"),attrs:{_i:"13-"+r}},[e._v(e._$s("13-"+r,"t0-0",e._s(t.location)))])]),n("view",{staticClass:e._$s("14-"+r,"sc","right-praise"),class:e._$s("14-"+r,"c","dynamic-right-praise"+s),attrs:{_i:"14-"+r},on:{click:function(t){return t.stopPropagation(),e.handlerPraise(s)}}},[n("image",{staticClass:e._$s("15-"+r,"sc","right-praise-img"),class:e._$s("15-"+r,"c","right-praise-img"+s),attrs:{"data-index":e._$s("15-"+r,"a-data-index",s),_i:"15-"+r}})])]),n("view",{staticClass:e._$s("16-"+r,"sc","praise-comment"),attrs:{_i:"16-"+r}},[e._$s("17-"+r,"i",t.likePerson.length>0)?[n("view",{staticClass:e._$s("18-"+r,"sc","praise-list"),class:e._$s("18-"+r,"c",{"praise-list-borderbtm":t.comment.length>0}),attrs:{_i:"18-"+r}},[n("view",{staticClass:e._$s("19-"+r,"sc","praise-list-leftImg"),attrs:{_i:"19-"+r}},[n("text",{staticClass:e._$s("20-"+r,"sc","my-iconfont praise-list-loveImg"),attrs:{_i:"20-"+r}})]),e._l(e._$s("21-"+r,"f",{forItems:t.likePerson}),(function(s,i,o,a){return e._l(e._$s("22-"+r+"-"+a,"f",{forItems:s}),(function(s,o,c,u){return n("text",{key:e._$s("22-"+r+"-"+a,"f",{forIndex:c,key:c+"_"+i+"_0"}),staticClass:e._$s("22-"+r+"-"+a+"-"+u,"sc","praise-list-name"),attrs:{_i:"22-"+r+"-"+a+"-"+u},on:{click:function(t){return t.stopPropagation(),e.toFriendInfo(o)}}},[n("text",{staticClass:e._$s("23-"+r+"-"+a+"-"+u,"sc","praise-name"),attrs:{_i:"23-"+r+"-"+a+"-"+u}},[e._v(e._$s("23-"+r+"-"+a+"-"+u,"t0-0",e._s(s)))]),e._$s("24-"+r+"-"+a+"-"+u,"i",t.likePerson.length-1===i)?n("text",{staticClass:e._$s("24-"+r+"-"+a+"-"+u,"sc","praise-list-comma"),attrs:{_i:"24-"+r+"-"+a+"-"+u}}):n("text",{staticClass:e._$s("25-"+r+"-"+a+"-"+u,"sc","praise-list-comma"),attrs:{_i:"25-"+r+"-"+a+"-"+u}})])}))}))],2)]:e._e(),e._$s("26-"+r,"i",t.comment.length>0)?[n("view",{staticClass:e._$s("27-"+r,"sc","comment-list"),attrs:{_i:"27-"+r}},e._l(e._$s("28-"+r,"f",{forItems:t.comment}),(function(t,i,o,a){return n("view",{key:e._$s("28-"+r,"f",{forIndex:o,key:i}),staticClass:e._$s("28-"+r+"-"+a,"sc","comment-list-item"),attrs:{_i:"28-"+r+"-"+a},on:{click:function(t){return t.stopPropagation(),e.showComment(s,i)}}},[n("text",{staticClass:e._$s("29-"+r+"-"+a,"sc","comment-list-item-name"),attrs:{_i:"29-"+r+"-"+a},on:{click:function(n){return n.stopPropagation(),e.toFriendInfo(t.user)}}},[e._v(e._$s("29-"+r+"-"+a,"t0-0",e._s(t.userNickname)))]),e._$s("30-"+r+"-"+a,"i",0!==t.commentFatherId)?[n("text"),e._$s("32-"+r+"-"+a,"i",t.friendName)?n("text",{staticClass:e._$s("32-"+r+"-"+a,"sc","comment-list-item-name"),attrs:{_i:"32-"+r+"-"+a},on:{click:function(n){return n.stopPropagation(),e.toFriendInfo(t.toUser)}}},[e._v(e._$s("32-"+r+"-"+a,"t0-0",e._s(t.friendName)))]):e._e()]:e._e(),n("text",{staticClass:e._$s("33-"+r+"-"+a,"sc","comment-list-item-text"),attrs:{_i:"33-"+r+"-"+a}},[n("text",{staticClass:e._$s("34-"+r+"-"+a,"sc","colon"),attrs:{_i:"34-"+r+"-"+a}}),n("text",{attrs:{_i:"35-"+r+"-"+a}},[e._v(e._$s("35-"+r+"-"+a,"t0-0",e._s(t.commentContent)))])])],2)})),0)]:e._e()],2)])])]}))]:[n("view",{staticClass:e._$s(37,"sc","dynamic-loading"),attrs:{_i:37}},[n("view",{staticClass:e._$s(38,"sc","dynamic-loading-title"),attrs:{_i:38}})])],e._$s(39,"i",e.isShowPraise)?[n("view",{staticClass:e._$s(40,"sc","praise-and-comment-mask"),attrs:{_i:40},on:{click:function(t){return t.stopPropagation(),e.hidePraiseCommentMask(t)}}},[n("view",{staticClass:e._$s(41,"sc","praise-and-comment"),style:e._$s(41,"s",e.popStyle),attrs:{_i:41}},[n("view",{staticClass:e._$s(42,"sc","praise-item"),attrs:{_i:42},on:{click:function(t){return t.stopPropagation(),e.toPraise(t)}}},[n("text",{staticClass:e._$s(43,"sc","my-iconfont praise-item-icon"),attrs:{_i:43}}),e._$s(44,"i",!e.hasPraise)?n("text",{staticClass:e._$s(44,"sc","praise-item-text"),attrs:{_i:44}}):n("text",{staticClass:e._$s(45,"sc","praise-item-text"),attrs:{_i:45}})]),n("view",{staticClass:e._$s(46,"sc","comment-item"),attrs:{_i:46},on:{click:function(t){return t.stopPropagation(),e.toComment(t)}}},[n("text",{staticClass:e._$s(47,"sc","my-iconfont comment-item-icon"),attrs:{_i:47}}),n("text",{staticClass:e._$s(48,"sc","comment-item-text"),attrs:{_i:48}})])])])]:e._e(),e._$s(49,"i",e.hasComment)?n("view",{staticClass:e._$s(49,"sc","comment-frame"),attrs:{_i:49}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentContent,expression:"commentContent"}],attrs:{placeholder:e._$s(50,"a-placeholder",e.commentPlaceholder),_i:50},domProps:{value:e._$s(50,"v-model",e.commentContent)},on:{focus:e.handleFocus,input:function(t){t.target.composing||(e.commentContent=t.target.value)}}}),n("view",{staticClass:e._$s(51,"sc","my-iconfont comment-frame-icon"),attrs:{_i:51},on:{click:function(t){return t.stopPropagation(),e.handleSmilingFace(t)}}}),n("view",{staticClass:e._$s(52,"sc","comment-frame-btm"),class:e._$s(52,"c",{hasCommentContent:e.commentContent.length>0}),attrs:{_i:52},on:{click:function(t){return t.stopPropagation(),e.publishComment(t)}}})]):e._e()],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"5af9":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("587d"),i=n("2f62"),r=n("7429"),o=n("3389");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={data:function(){return{imgUrl:"",currentPageUrl:"",isShowPraise:!1,hasPraise:!1,currentIndex:-1,popStyle:"",hasComment:!1,commentContent:"",showSmilingFace:!1,currentReplyindex:-1,commentPlaceholder:"评论",commentStyle:"",keyboardHeight:253}},computed:c({},(0,i.mapState)(["userInfo","personDynamicList"])),methods:c({},(0,i.mapActions)(["doGetMyDynamicRequest","doGetPersonDynamicRequest"]),{handlerPraise:function(t){var n=this;this.queryMeHasPraise(t),console.time("time");var s=uni.createSelectorQuery().in(this);s.select(".right-praise-img".concat(t)).boundingClientRect((function(s){e("log","得到布局位置信息:",s," at components\\content\\dynamic\\MyDynamic.vue:181");var i=s.top;n.popStyle="top: ".concat(i-9,"px; right:45px"),n.$nextTick((function(){setTimeout((function(){n.isShowPraise=!n.isShowPraise,n.currentIndex=t,console.timeEnd("time")}),10)}))})).exec()},toComment:function(){var e=this;this.$nextTick((function(){e.currentReplyindex=-1,e.commentContent="",e.commentPlaceholder="评论",e.hidePraiseCommentMask(),e.hasComment=!0}))},showComment:function(e,t){this.personDynamicList[e].comment[t].user!==this.userInfo.user.userAccount&&(this.commentContent="",this.commentPlaceholder="回复".concat(this.personDynamicList[e].comment[t].userNickname,":"),this.hasComment=!0,this.currentIndex=e,this.currentReplyindex=t)},hidePraiseCommentMask:function(){var t=this;this.$nextTick((function(){t.isShowPraise=!1,e("log","hidePraiseCommentMask"," at components\\content\\dynamic\\MyDynamic.vue:232")}))},toPraise:function(){var t=this,n=this.personDynamicList[this.currentIndex],s={account:n.account,LikeAccount:this.userInfo.user.userAccount,friendCircleDynamicId:n.id};(0,o.doDynamicLikeRequest)(s).then((function(n){e("log",n," at components\\content\\dynamic\\MyDynamic.vue:247"),200===n.status?2e3===n.data.code?t.$nextTick((function(){if(t.hasPraise){var e=t.queryMeHasPraise(t.currentIndex);t.personDynamicList[t.currentIndex].likePerson.splice(e,1)}else{var n={};n[t.userInfo.user.userAccount]=t.userInfo.user.nickname,t.personDynamicList[t.currentIndex].likePerson.push(n)}t.hasPraise=!t.hasPraise})):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}):404===n.status?uni.showToast({title:"网络走丢了，请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\dynamic\\MyDynamic.vue:283"),uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})),setTimeout((function(){t.hidePraiseCommentMask()}),500)},queryMeHasPraise:function(e){var t=this.personDynamicList[e];if(!(t.likePerson.length>0))return this.hasPraise=!1,!1;for(var n=this.userInfo.user.userAccount,s=0;s<t.likePerson.length;s++)for(var i in t.likePerson[s])if(i===n)return this.hasPraise=!0,s},publishComment:function(){this.commentContent&&(-1!==this.currentReplyindex?this.doComment(this.currentReplyindex):this.doComment())},doComment:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=this.personDynamicList[this.currentIndex],i={user:this.userInfo.user.userAccount,toUser:null!==n?s.comment[n].user:s.account,commentContent:this.commentContent,friendCircleId:s.id,fatherId:null!==n?s.comment[n].commentId:0};(0,o.doCommentRequest)(i).then((function(n){e("log",n," at components\\content\\dynamic\\MyDynamic.vue:340"),200===n.status?2e3===n.data.code?t.$nextTick((function(){t.hasComment=!1;var e=n.data.data[n.data.data.length-1];t.personDynamicList[t.currentIndex].comment.push(e)})):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}):404===n.status?uni.showToast({title:"网络走丢了，请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(e){uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})}))},delOneDynamic:function(){uni.showModal({title:"提示",content:"确定删除吗",success:function(e){e.confirm&&uni.showToast({title:"已删除",icon:"none"})}})},toFriendInfo:function(e){uni.navigateTo({url:"/components/content/friend/FriendInfo?friendAccount=".concat(e)})},handleFocus:function(t){t.detail.height&&(this.keyboardHeight=t.detail.height,e("log",this.keyboardHeight," at components\\content\\dynamic\\MyDynamic.vue:412"))},handleSmilingFace:function(){this.showSmilingFace=!0}}),filters:{getFormatTime:function(e){return(0,s.formatTimeStamp)(e,"yyyy-MM-dd hh:mm")}},onLoad:function(e){e.account?(this.doGetPersonDynamicRequest({friendAccount:e.account}),uni.setNavigationBarTitle({title:"".concat(e.friendRemarkName,"的动态")})):this.doGetMyDynamicRequest({account:this.userInfo.user.userAccount}),this.imgUrl=r.imgBaseUrl},created:function(){e("log","created"," at components\\content\\dynamic\\MyDynamic.vue:447")},onPageScroll:function(t){this.isShowPraise&&(this.isShowPraise=!1),this.hasComment&&(-1!==this.currentReplyindex&&(e("log","currentReplyindex=-1"," at components\\content\\dynamic\\MyDynamic.vue:461"),this.currentReplyindex=-1),this.commentContent="",this.hasComment=!1)}};t.default=l}).call(this,n("0de9")["default"])},"5ba4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("1bef")),i=r(n("b608"));function r(e){return e&&e.__esModule?e:{default:e}}var o={name:"UniListItem",components:{uniIcons:s.default,uniBadge:i.default},props:{title:{type:String,default:""},note:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},showArrow:{type:[Boolean,String],default:!0},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},thumb:{type:String,default:""},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"contact",color:"#000000",size:20}}}},inject:["list"],data:function(){return{isFirstChild:!1}},mounted:function(){this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0)},methods:{onClick:function(){this.$emit("click")},onSwitchChange:function(e){this.$emit("switchChange",e.detail)}}};t.default=o},"5c0c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browseMyCollectRequest=i,t.addMyCollectRequest=r,t.delMyCollectRequest=o,t.queryCollectByTypeRequest=a,t.queryCollectByLabelRequest=c;var s=n("4490");function i(e){return s.http.get("/myCollect/browseMyCollect"+e)}function r(e){return s.http.post("/myCollect/AddMyCollect",e)}function o(e){return s.http.delete("/myCollect/deleteCollect"+e)}function a(e){return s.http.get("/myCollect/queryCollectByType"+e)}function c(e){return s.http.get("/myCollect/queryCollectByLabel"+e)}},"5d47":function(e,t,n){"use strict";n.r(t);var s=n("2f52"),i=n("7a9a");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"5dea":function(e,t,n){"use strict";n.r(t);var s=n("bb79"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"5e5b":function(e,t,n){"use strict";n.r(t);var s=n("1a9a"),i=n("665e");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"10870dc2",null,!1,s["a"],o);t["default"]=c.exports},"5f1d":function(e,t,n){"use strict";n.r(t);var s=n("4273"),i=n("0b6f");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"60fe":function(e,t,n){"use strict";n.r(t);var s=n("b0b1"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"61c2":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"63e8":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","collection"),attrs:{_i:0}},[n("collection-content",{staticClass:e._$s(1,"sc","collectioncontent"),attrs:{myCollectList:e.myCollectList,_i:1}})],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"63ee":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=m(n("8bbf")),i=m(n("2f62")),r=m(n("0129")),o=n("d427"),a=n("a888"),c=n("3389"),u=n("587d"),l=n("563c"),d=n("bb9c"),f=n("f3fb");function m(e){return e&&e.__esModule?e:{default:e}}function p(e){return y(e)||v(e)||g(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function v(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function y(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}s.default.use(i.default);var _={hasLogin:!1,userInfo:{},friendList:[],friendDynamicList:[],personDynamicList:[],friendCard:{},currentChatTo:"",currentChatList:[],rawMessageList:{},newGroupInfo:{},currentGroup:{},currentGroupMembers:[],personList:{},groupList:{},groupMemberList:{},groupMemberMap:{},unreadInfo:{},notificationList:{system:[],custom:[]},historyMsgList:[],localUserInfo:{}},T={appHideSetData:function(t){uni.setStorageSync("state_".concat(t.userInfo.user.userAccount),t),e("log","完成state的存储:",t," at vuex\\store.js:76")},appStartGetData:function(t,n){e("log","原始state:",t," at vuex\\store.js:80");var s=uni.getStorageSync("state_".concat(n)),i=Object.assign({},s);Object.assign({},t.userInfo);t.rawMessageList=i.rawMessageList||{},t.unreadInfo=i.unreadInfo||{},t.groupMemberList=i.groupMemberList,t.groupMemberMap=i.groupMemberMap,t.groupList["2804760970"]={tid:"2804760970",groupName:"年创公司的讨论组",announcement:null,gourpIcon:null,msgNotification:null,creator:"1579139382461",createTime:"1587542138000",myGroupName:"年创公司"},e("log","state初始化完成:",t," at vuex\\store.js:99")},appendRawMessageList:function(t,n){var s=Object.assign({},t.rawMessageList[n.sessionId]);t.rawMessageList[n.sessionId]=Object.assign({},s,n.data),e("log","获取单个sessionId历史记录并追加:",t.rawMessageList," at vuex\\store.js:106")},setRawMessageList:function(t,n){e("log","数据库rawMsg:",n," at vuex\\store.js:109"),t.rawMessageList=n},setFriendCard:function(e,t){e.friendCard=t},setCurrentChatTo:function(t,n){t.currentChatTo=n,e("log","改变当前chatTo为:",t.currentChatTo," at vuex\\store.js:120")},setCurrentGroup:function(t,n){t.currentGroup=t.groupList[n],e("log","设置currentGroup当前群为:",t.currentGroup," at vuex\\store.js:125")},setCurrentChatList:function(t,n){t.currentChatList=n,e("log","更新当前会话为:",t.currentChatList," at vuex\\store.js:129")},setHistoryMsgList:function(e,t){e.historyMsgList=t},setLogin:function(e,t){e.hasLogin=!0,e.userInfo=t,uni.setStorageSync("userInfo",t)},logout:function(e){e.hasLogin=!1,e.userInfo={},uni.removeStorageSync("userInfo")},getLocalUserInfo:function(e){var t=uni.getStorageSync("userInfo");e.userInfo=t},RefreshMyUserInfo:function(e,t){e.userInfo.user=t,uni.setStorageSync("userInfo",e.userInfo)},sortFriendDynamicList:function(e,t){var n=t.list.sort((function(e,t){return t.time-e.time}));1===t.index?e.friendDynamicList=n:2===t.index&&(e.personDynamicList=n)},clearUnread:function(e,t){e.rawMessageList.forEach((function(e){e.sessionId!==t||(e.unread=0)}))}},S={doGetMyUserInfo:function(t){(0,a.getMyUserInfo)("?myAccount=".concat(M.getters.getUserAccount)).then((function(e){200===e.status&&2e3===e.data.code?t.commit("RefreshMyUserInfo",e.data.data):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).catch((function(t){e("log",t," at vuex\\store.js:239")}))},getFriendList:function(t){(0,o.queryFriendRequest)("?account=".concat(M.state.userInfo.user.userAccount)).then((function(e){200===e.status&&(4003===e.data.code||2e3===e.data.code&&e.data.data.length>0&&(_.friendList=(0,u.formatList)(e.data.data)))})).catch((function(t){e("log",t," at vuex\\store.js:256"),uni.showToast({title:"您可能与服务器断开连接了",icon:"none"})}))},getNewestDynamic:function(t){(0,c.getNewestDynamicRequest)("?account=".concat(M.state.userInfo.user.userAccount)).then((function(n){e("log",n," at vuex\\store.js:268"),200===n.status?2e3===n.data.code?t.commit({type:"sortFriendDynamicList",list:n.data.data,index:1}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"}):404===n.status?uni.showToast({title:"网络程走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})})).catch((function(e){uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}))},doGetMyDynamicRequest:function(t,n){uni.showLoading(),(0,c.getMyDynamicRequest)("?account=".concat(n.account)).then((function(n){e("log",n," at vuex\\store.js:306"),uni.hideLoading(),200===n.status?2e3===n.data.code?t.commit({type:"sortFriendDynamicList",list:n.data.data.length>0?n.data.data:[],index:2}):uni.showToast({title:"程序飞到外星球去了",icon:"none"}):404===n.status?uni.showToast({title:"网络飞到外星球去了",icon:"none"}):uni.showToast({title:"程序飞到外星球去了",icon:"none"})})).catch((function(t){uni.showToast({title:"网络飞到外星球去了",icon:"none"}),e("log",t," at vuex\\store.js:338")}))},doGetPersonDynamicRequest:function(t,n){(0,c.getPersonDynamicRequest)("?account=".concat(M.getters.getUserAccount,"&friendAccount=").concat(n.friendAccount)).then((function(n){e("log",n," at vuex\\store.js:345"),200===n.status?2e3===n.data.code?t.commit({type:"sortFriendDynamicList",list:n.data.data.length>0?n.data.data:[],index:2}):uni.showToast({title:"程序跑到火星去了",icon:"none"}):404===n.status?uni.showToast({title:"网络跑到火星去了",icon:"none"}):uni.showToast({title:"程序跑到火星去了",icon:"none"})})).catch((function(t){e("log",t," at vuex\\store.js:371"),uni.showToast({title:"程序跑到火星去了",icon:"none"})}))},imAction:function(t,n){var s=this;switch(n.mode){case"getSessionsList":break;case"onMsg":var i=Object.assign({},_),o=n.data,a=n.nim;if(i.rawMessageList=Object.assign({},i.rawMessageList),o&&"notification"===o.type){if(("leaveTeam"===o.attach.type||"dismissTeam"===o.attach.type)&&o.from===i.userInfo.account)return;r.default.dealMsg(o,i,i.userInfo.user.userAccount)}var c=o.sessionId;i.rawMessageList[c]||(i.rawMessageList[c]={}),i.rawMessageList[c][o.time]=Object.assign({},o),i.currentChatTo===o.sessionId&&a&&a.resetSessionUnread(o.sessionId),_.rawMessageList=i.rawMessageList,e("log","state.rawMessageList:",_.rawMessageList," at vuex\\store.js:439"),(0,f.insertOneRawMsg)(_.userInfo.user.userAccount,o);break;case"onUpdateSession":var u=Object.assign({},_.unreadInfo);u[n.data.id]=n.data.unread,_.unreadInfo=u,e("log","更新未读数",_.unreadInfo," at vuex\\store.js:453");break;case"onOfflineMsgs":var d=n.data.sessionId,m=n.data.msgs,p=Object.assign({},_);p.rawMessageList[d]||(p.rawMessageList[d]={}),m.map((function(e){p.rawMessageList[d][e.time]=e})),_=Object.assign({},_,p),e("log","离线消息存储完成:",_.rawMessageList," at vuex\\store.js:488"),(0,f.insertOneRawMsg)(_.userInfo.user.userAccount,n.data.msgs);break;case"onDisconnect":break;case"onAddTeamMembers":var h=n.data.team.teamId;(0,l.queryGroupInfoRequest)(_.userInfo.user.userAccount,h).then((function(e){s.$toast.showRes(e),2e3===e.data.code&&r.default.onAddTeamMembers(e.data.data,null,_)})).catch((function(e){s.$toast.showErr(e)}));break;case"onRemoveTeamMembers":var g=Object.assign({},_);r.default.onRemoveTeamMembers(n.data,null,g);break;case"onSyncDone":uni.$emit("syncComplete",{});break}},queryGroupInfo:function(e,t){(0,l.queryGroupInfoRequest)(t.account,t.teamId).then((function(e){if(showRes(e),2e3===e.data.code)return e.data})).catch((function(e){return showErr(e),!1}))}},C={getUserAccount:function(e){return e.userInfo.user.userAccount},MconvertRawMessageListToRenderChatList:function(t){var n=[],s=Object.keys(t.rawMessageList);return s.map((function(s){var i=0===s.indexOf("team-")?s.slice(5,s.length):s.slice(4,s.length),r=0===s.indexOf("p2p-"),o=r?"p2p":t.groupList[i]&&t.groupList[i].type,a=(r?t.friendCard[i]:t.groupList[i])||{},c=Object.keys(t.rawMessageList[s]);if(c){var u=Math.max.apply(Math,p(c));if(u){var l=t.rawMessageList[s][u+""]||{},f=(0,d.judgeMessageType)(l),m=f,h=r?a.status||"离线":"",g=r?a.nick||"非好友":a.name;e("log","state.unreadInfo[session]",t.unreadInfo[s]," at vuex\\store.js:580"),n.push({chatType:o,session:s,account:i,status:h,nick:g,lastestMsg:m||l.text,type:f||l.type,timestamp:l.time,unread:t.unreadInfo[s]||0,displayTime:l.time?(0,d.calcTimeHeader)(l.time):""})}}})),n.sort((function(e,t){return t.timestamp-e.timestamp})),e("log","chatList:",n,t.rawMessageList," at vuex\\store.js:600"),n},SconvertRawMessageListToRenderMessageArr:function(){var t=_.rawMessageList[_.currentChatTo],n=[];for(var s in t){var i=t[s],r="";r="custom"===i.type&&1===JSON.parse(i["content"])["type"]?"猜拳":"custom"===i.type&&3===JSON.parse(i["content"])["type"]?"贴图表情":i.type;var o=(0,d.judgeOverTwoMinute)(i.time,n),a="in"===i.flow?"receive":"send",c={};switch(r){case"text":c={nodes:(0,d.generateRichTextNode)(i.text)};break;case"image":c={nodes:(0,d.generateImageNode)(i.file)};break;case"geo":c={geo:i.geo};break;case"audio":c={audio:i.file};break;case"video":c={video:i.file};break;case"猜拳":var u=JSON.parse(i["content"]).data.value;c={nodes:(0,d.generateImageNode)((0,d.generateFingerGuessImageFile)(u))};break;case"贴图表情":var l=JSON.parse(i["content"]);c={nodes:(0,d.generateImageNode)((0,d.generateBigEmojiImageFile)(l))};break;case"tip":c={text:i.tip,nodes:[{type:"text",text:i.tip}]};break;case"白板消息":case"阅后即焚":c={nodes:[{type:"text",text:"[".concat(r,"],请到手机或电脑客户端查看")}]};break;case"file":case"robot":var f="file"===r?"文件消息":"机器人消息";c={nodes:[{type:"text",text:"[".concat(f,"],请到手机或电脑客户端查看")}]};break;case"custom":c={nodes:[{type:"text",text:"自定义消息"}]};break;case"notification":c={text:i.groupNotification||(0==i.text.length?"通知":i.text),nodes:[{type:"text",text:i.groupNotification||(0==i.text.length?"通知":i.text)}]};break;default:break}n.push(Object.assign({},{from:i.from,type:r,text:i.text||"",time:s,sendOrReceive:a,displayTimeHeader:o},c))}return e("log","改变了:",n," at vuex\\store.js:739"),n},isGroupAdmin:function(e){var t=e.groupMemberMap[e.currentGroup.tid][e.userInfo.user.userAccount];return t.groupIdentity},getFriendInfoByAcccount:function(e){return function(t,n,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(i){var r={friendAccount:"1582100290662",friendFaceImage:"group1/M00/00/01/wKgBsF5M8pOAXXuUAACwUQ5hK8k971.jpg",friendRemarkName:"讨论组",remarkTag:1};return r[s]}for(var o=0;o<e.friendList.length;o++)if(e.friendList[o].list.length>0){var a=e.friendList[o].list.find((function(e){return Object.is(e.friendAccount,n)}));if(a)return a[s]}}},calcRawMessageList:function(e){for(var t=e.rawMessageList,n=function(n){e.friendList.forEach((function(e){e.list.forEach((function(e){e.friendAccount===t[n].target&&(t[n].friendInfo=e)}))}))},s=0;s<t.length;s++)n(s);return t.sort((function(e,t){return t.time-e.time}))}},M=new i.default.Store({state:_,mutations:T,actions:S,getters:C}),w=M;t.default=w}).call(this,n("0de9")["default"])},6599:function(e,t,n){"use strict";n.r(t);var s=n("da77"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"65e1":function(e,t,n){e.exports=n("bfa0")},6646:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=d(n("1226")),i=d(n("0942")),r=d(n("1e71")),o=d(n("cd60")),a=n("d427"),c=n("587d"),u=n("2f62"),l=n("7429");function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={components:{HeadImgItem:o.default,uniSearchBar:s.default,uniList:i.default,uniListItem:r.default},data:function(){return{isShowBtmList:!0,addfriendInfo:null,friendPhone:null,userAccount:"",imgUrl:""}},computed:m({},(0,u.mapState)(["userInfo"])),methods:{SearchFriendInput:function(t){var n=this,s=t.value;this.friendPhone=s,e("log",s," at components\\content\\addfriend\\AddFriend.vue:117"),s.length>0&&((0,c.isPoneAvailable)(s)?(0,a.searchFriendRequest)("?myPhone=".concat(this.userInfo.user.userPhone,"&friendPhone=").concat(s)).then((function(t){if(200===t.status){var s=t.data.code;4004===s?uni.showToast({title:"找不到网络",icon:"none"}):4003===s?uni.showToast({title:"已经是你的好友",icon:"none"}):2e3===s?(n.isShowBtmList=!1,n.addfriendInfo=t.data.data,e("log",n.addfriendInfo," at components\\content\\addfriend\\AddFriend.vue:132")):uni.showToast({title:"搜索好友失败",icon:"none"})}else uni.showToast({title:"网络连接错误",icon:"none"})})).catch((function(e){uni.showToast({title:"与服务器断开连接",icon:"none"})})):uni.showToast({title:"该卡丁号不存在",icon:"none"}))},cancelSearchFriend:function(){this.isShowBtmList=!0},changeSearchFriendInput:function(e){0===e.value.length&&(this.isShowBtmList=!0)},toFriendInfo:function(){uni.navigateTo({url:"/components/content/addfriend/AddfriendInfo?addfriendInfo="+encodeURIComponent(JSON.stringify(this.addfriendInfo))+"&friendPhone="+this.friendPhone})}},created:function(){uni.getStorageSync("userInfo");this.imgUrl=l.imgBaseUrl}};t.default=h}).call(this,n("0de9")["default"])},"665e":function(e,t,n){"use strict";n.r(t);var s=n("41ec"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"66dc":function(e,t,n){"use strict";n.r(t);var s=n("c0a2"),i=n("cc3b");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},6718:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","consentfriend set-bgc"),attrs:{_i:0}},[n("default-list",{staticClass:e._$s(1,"sc","consentfriend-def-list"),attrs:{noBorderBtm:!0,_i:1}},[n("view",{staticClass:e._$s(2,"sc","def-list-left"),attrs:{_i:2},slot:"def-list-left"},[n("image",{attrs:{_i:3}})]),n("view",{staticClass:e._$s(4,"sc","def-list-center"),attrs:{_i:4},slot:"def-list-center"}),n("view",{staticClass:e._$s(5,"sc","def-list-right"),attrs:{_i:5}})]),n("view",{staticClass:e._$s(6,"sc","consent-list"),attrs:{_i:6}},[e._$s(7,"i",e.consentFriendList.length>0)?[e._l(e._$s(8,"f",{forItems:e.consentFriendList}),(function(t,s,i,r){return[n("view",{key:e._$s(8,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),staticClass:e._$s("9-"+r,"sc","consent-item"),attrs:{_i:"9-"+r}},[n("head-img-item",{attrs:{_i:"10-"+r}},[e._$s("11-"+r,"i",t.faceImage)?[n("image",{attrs:{src:e._$s("12-"+r,"a-src",e.imgUrl+t.faceImage),_i:"12-"+r},slot:"start-img"})]:[n("image",{attrs:{_i:"14-"+r},slot:"start-img"})],e._$s("15-"+r,"i",t.nickname)?[n("text",{slot:"title"},[e._v(e._$s("16-"+r,"t0-0",e._s(t.nickname)))])]:[n("text",{slot:"title"})],n("text",{slot:"msg"}),e._$s("20-"+r,"i",!e.isShowAgree)?n("view",{slot:"right"}):e._e()],2),e._$s("21-"+r,"i",e.isShowAgree)?n("view",{staticClass:e._$s("21-"+r,"sc","right-btn"),attrs:{_i:"21-"+r}},[n("button",{staticClass:e._$s("22-"+r,"sc","consent-btn"),attrs:{_i:"22-"+r},on:{click:function(t){return e.doAgree(s)}}})]):e._e()],1)]}))]:e._e()],2)],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"68f1":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","addfriendinfo"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","addfriendinfo-top"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","top-left"),attrs:{_i:2}},[e._$s(3,"i",e.addfriendInfo.image.length>0)?[n("image",{staticClass:e._$s(4,"sc","left-headimg"),attrs:{src:e._$s(4,"a-src",e.imgUrl+e.addfriendInfo.image),_i:4}})]:[n("text",{staticClass:e._$s(6,"sc","iconfont-img left-headimg"),attrs:{_i:6}})]],2),n("view",{staticClass:e._$s(7,"sc","top-right"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","nickname"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.addfriendInfo.nickname)))])])]),n("view",{staticClass:e._$s(9,"sc","myborderlist"),attrs:{_i:9}},[n("default-list",{attrs:{_i:10}},[n("view",{staticClass:e._$s(11,"sc","def-list-left"),attrs:{_i:11},slot:"def-list-left"})])],1),n("view",{staticClass:e._$s(12,"sc","myborderlist"),attrs:{_i:12}},[n("default-list",{attrs:{_i:13}},[n("view",{staticClass:e._$s(14,"sc","def-list-left"),attrs:{_i:14},slot:"def-list-left"}),n("view",{staticClass:e._$s(15,"sc","def-list-center"),attrs:{_i:15},slot:"def-list-center"},[e._$s(16,"i",e.addfriendInfo&&e.addfriendInfo.signature.length>0)?n("text",[e._v(e._$s(16,"t0-0",e._s(e.addfriendInfo.signature)))]):n("text")])]),n("default-list",{attrs:{_i:18}},[n("view",{staticClass:e._$s(19,"sc","def-list-left"),attrs:{_i:19},slot:"def-list-left"}),n("view",{staticClass:e._$s(20,"sc","def-list-center"),attrs:{_i:20},slot:"def-list-center"},[e._$s(21,"i",e.addfriendInfo&&e.addfriendInfo.source.length>0)?n("text",[e._v(e._$s(21,"t0-0",e._s(e.addfriendInfo.source)))]):n("text")])])],1),n("view",{staticClass:e._$s(23,"sc","list4 cli-hover"),attrs:{_i:23},on:{click:e.toApplyFriend}},[n("view",{staticClass:e._$s(24,"sc","send-msg"),attrs:{_i:24}})])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"69dc":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("587d"),i=n("7429"),r=n("2f62"),o=n("3389"),a=c(n("aa5f"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={components:{LoadingIcon:a.default},data:function(){return{imgList:["/static/image/test/test.jpg","/static/image/test/02.jpg","/static/image/publish/aite.png","/static/image/publish/location.png","/static/image/publish/person.png"],imgUrl:"",currentPageUrl:"",isShowPraise:!1,hasPraise:!1,currentIndex:-1,popStyle:"",hasComment:!1,commentContent:"",showSmilingFace:!1,currentReplyindex:-1,commentPlaceholder:"评论",commentStyle:"",keyboardHeight:253}},computed:l({},(0,r.mapState)(["userInfo","friendDynamicList"])),filters:{getFormatTime:function(e){return(0,s.formatTimeStamp)(e,"yyyy-MM-dd hh-mm")}},methods:l({},(0,r.mapActions)(["getNewestDynamic"]),{queryMeHasPraise:function(t){var n=this.friendDynamicList[t],s=JSON.stringify(n.likePerson[0]);if(!(n.likePerson.length>0&&"{}"!==s))return e("log","未点赞"," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:211"),this.hasPraise=!1,!1;e("log","已点赞"," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:199");for(var i=this.userInfo.user.userAccount,r=0;r<n.likePerson.length;r++)for(var o in n.likePerson[r])if(o===i)return this.hasPraise=!0,r},publishComment:function(){this.commentContent&&(-1!==this.currentReplyindex?this.doComment(this.currentReplyindex):this.doComment())},doComment:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=this.friendDynamicList[this.currentIndex],i={user:this.userInfo.user.userAccount,toUser:n?s.comment[n].user:s.account,commentContent:this.commentContent,friendCircleId:s.id,fatherId:n?s.comment[n].commentId:0};(0,o.doCommentRequest)(i).then((function(n){e("log",n," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:243"),200===n.status?2e3===n.data.code?t.$nextTick((function(){t.hasComment=!1;var e=n.data.data[n.data.data.length-1];t.friendDynamicList[t.currentIndex].comment.push(e)})):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}):404===n.status?uni.showToast({title:"网络走丢了，请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(e){uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})}))},handlerPraise:function(t){var n=this;this.queryMeHasPraise(t),console.time("time");var s=uni.createSelectorQuery().in(this);s.select(".right-praise-img".concat(t)).boundingClientRect((function(s){e("log","得到布局位置信息:",s," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:284");var i=s.top;n.popStyle="top: ".concat(i-9,"px; right:45px"),n.$nextTick((function(){setTimeout((function(){n.isShowPraise=!n.isShowPraise,n.currentIndex=t,console.timeEnd("time")}),10)}))})).exec()},toPraise:function(){var t=this,n=this.friendDynamicList[this.currentIndex],s={account:n.account,LikeAccount:this.userInfo.user.userAccount,friendCircleDynamicId:n.id};(0,o.doDynamicLikeRequest)(s).then((function(n){if(e("log",n," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:311"),200===n.status)if(2e3===n.data.code){if(t.hasPraise){var s=t.queryMeHasPraise(t.currentIndex);t.$nextTick((function(){t.friendDynamicList[t.currentIndex].likePerson.splice(s,1),t.hasPraise=!t.hasPraise}))}else{var i={};i[t.userInfo.user.userAccount]=t.userInfo.user.nickname;var r=t.friendDynamicList[t.currentIndex].likePerson[0];t.$nextTick((function(){"{}"===JSON.stringify(r)&&t.friendDynamicList[t.currentIndex].likePerson.splice(0,1),t.friendDynamicList[t.currentIndex].likePerson.push(i),t.hasPraise=!t.hasPraise,e("log",t.friendDynamicList[t.currentIndex]," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:335")}))}t.hidePraiseCommentMask()}else uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"});else 404===n.status?uni.showToast({title:"网络走丢了，请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:359"),uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})}))},toComment:function(){var t=this;console.time("toComment速度：");var n=uni.createSelectorQuery().in(this),s=this.currentIndex;n.select(".dynamiccon-top").boundingClientRect((function(){})).exec((function(e){}));for(var i=0;i<s;i++)n.select(".dyc-list".concat(i)).boundingClientRect((function(){})).exec((function(e){}));n.select(".dyc-list".concat(s)).boundingClientRect((function(t){e("log","后面的信息：",t," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:393")})).exec((function(n){for(var i=0;i<n.length;i++)n[i].height;var r=n[s].height,o=n[s].top;t.$nextTick((function(){t.currentReplyindex=-1,t.commentContent="",t.commentPlaceholder="评论",t.hidePraiseCommentMask(),t.hasComment=!0,console.timeEnd("toComment速度："),t.commentStyle="top: ".concat(o+r,"px; bottom: unset; "),e("log",t.commentStyle," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:421")}))}))},showComment:function(e,t){this.friendDynamicList[e].comment[t].user!==this.userInfo.user.userAccount&&(this.commentContent="",this.commentPlaceholder="回复".concat(this.friendDynamicList[e].comment[t].userNickname,":"),this.hasComment=!0,this.currentIndex=e,this.currentReplyindex=t)},hidePraiseCommentMask:function(){var t=this;this.$nextTick((function(){t.isShowPraise=!1,e("log","hidePraiseCommentMask"," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:447")}))},toFriendInfo:function(e){uni.navigateTo({url:"/components/content/friend/FriendInfo?friendAccount=".concat(e)})},toPreviewImg:function(){uni.previewImage({urls:this.imgList,indicator:"default",longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(t){var n=t;switch(e("log",n," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:474"),n.tapIndex){case 0:e("log","发送给朋友"," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:478");break;case 1:e("log","保存图片到系统相册:",this.imgList[n.index]," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:481"),uni.saveImageToPhotosAlbum({filePath:this.imgList[n.index],success:function(t){e("log","保存成功：",t," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:486")},fail:function(t){e("log",t," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:490")}});break;case 2:e("log","收藏"," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:495");break}},fail:function(t){e("log",t.errMsg," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:500")}}})},toMyDynamic:function(){uni.navigateTo({url:"/components/content/dynamic/MyDynamic?account=".concat(this.userInfo.user.userAccount)})},handleFocus:function(t){t.detail.height&&(this.keyboardHeight=t.detail.height,e("log",this.keyboardHeight," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:524"))},handleSmilingFace:function(){this.showSmilingFace=!0}}),created:function(){var t=this;this.imgUrl=i.imgBaseUrl,this.$nextTick((function(){t.getNewestDynamic()})),e("log","created"," at components\\content\\dynamic\\dynamicCpns\\DynamicCon.vue:538")}};t.default=f}).call(this,n("0de9")["default"])},"69fb":function(e,t,n){"use strict";n.r(t);var s=n("1122"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"6bb6":function(e,t,n){"use strict";n.r(t);var s=n("3393"),i=n("3c7f");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"d5f0109a",null,!1,s["a"],o);t["default"]=c.exports},"6c14":function(e,t,n){"use strict";n.r(t);var s=n("aaac"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"6c69":function(e,t,n){"use strict";n.r(t);var s=n("c11b"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"6cac":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={name:"UniList","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1}},provide:function(){return{list:this}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(e){this.$emit("scrolltolower")}}};t.default=s},"6e26":function(e,t,n){"use strict";var s=n("37dd");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new s(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},"6e77":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("563c"),i=n("2f62"),r=n("a327"),o=n("587d");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={mixins:[r.chooseFriendMixin],data:function(){return{}},computed:c({},(0,i.mapState)(["friendList","groupMemberMap","groupMemberList","currentChatTo","currentGroup"])),methods:{chooseItem:function(t){var n=this;if(e("log",t," at components\\content\\session\\sessionSon\\addGroupMember.vue:107"),"addGroupManager"===this.chooseFriendType){if(10===this.selectedItem)return void uni.showToast({title:"管理员人数过多",icon:"none"})}else if("addGroupMember"===this.chooseFriendType&&this.groupMemberMap[this.currentGroup.tid][t.account])return void e("log","该成员已在群里"," at components\\content\\session\\sessionSon\\addGroupMember.vue:118");this.$nextTick((function(){t.checked=!t.checked,t.checked?(n.selectScrollLeft+=50,n.selectedItem+=1):n.selectedItem-=1,n.changeRightTopBtn()}))},submitChoose:function(){var t=this;uni.showLoading({mask:!0});var n=this.getHasChosenAccountList(),i={};switch(this.chooseFriendType){case"addGroupMember":i={tid:this.currentGroup.tid,owner:this.currentGroup.creator,msg:this.userInfo.user.nickname+"邀请您加入讨论组",members:n},(0,s.addGroupRequest)(i).then((function(e){t.$toast.showRes(e),2e3===e.data.code&&uni.showToast({title:"创建成功",icon:"none",success:function(e){setTimeout((function(){uni.navigateBack()}),1500)}})})).catch((function(e){t.$toast.showErr(e)}));break;case"addGroupManager":i={tid:this.currentGroup.tid,owner:this.currentGroup.creator,members:n},addManagerRequest(i).then((function(e){t.$toast.showRes(e),2e3===e.data.code&&uni.navigateBack()})).catch((function(e){t.$toast.showErr(e)}));break}e("log","选择好友的作用:",this.chooseFriendType," at components\\content\\session\\sessionSon\\addGroupMember.vue:187"),e("log","this.list:",this.list," at components\\content\\session\\sessionSon\\addGroupMember.vue:188"),setTimeout((function(){uni.hideLoading()}),2e3)}},onLoad:function(t){switch(this.chooseFriendType=t.type,t.type){case"addGroupMember":this.list=JSON.parse(JSON.stringify(this.friendList)),this.list.forEach((function(e){e.list.forEach((function(e){e.checked=!1}))})),e("log",this.list," at components\\content\\session\\sessionSon\\addGroupMember.vue:207"),e("log","添加群成员"," at components\\content\\session\\sessionSon\\addGroupMember.vue:208");break;case"addGroupManager":this.list=(0,o.formatList)(this.groupMemberList[this.currentGroup.tid]),e("log",this.list," at components\\content\\session\\sessionSon\\addGroupMember.vue:213"),e("log","添加群管理员"," at components\\content\\session\\sessionSon\\addGroupMember.vue:214")}}};t.default=l}).call(this,n("0de9")["default"])},"6ece":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccount=i,t.sendCode=r,t.doRegister=o,t.queryPhoneHasBeenUsed=a;var s=n("4490");function i(e){return s.http.get("/query/getAccount"+e)}function r(e){return s.http.get("/query/getSecurityCode"+e)}function o(e){return s.http.post("/register/phoneRegister",e)}function a(e){return s.http.get("/query/queryPhoneStatus"+e)}},7044:function(e,t,n){"use strict";n.r(t);var s=n("037e"),i=n("20ab");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"7f09a73c",null,!1,s["a"],o);t["default"]=c.exports},"72df":function(e,t,n){"use strict";n.r(t);var s=n("9f79"),i=n("768c");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"eb1fd536",null,!1,s["a"],o);t["default"]=c.exports},7429:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.http_config=t.imgBaseUrl=t.baseUrl=void 0;var s="http://192.168.1.138:9090";t.baseUrl=s;var i="http://192.168.1.176/";t.imgBaseUrl=i;var r={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},o={baseURL:s,timeout:5e3,headers:r};t.http_config=o},7490:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","history-msg"),attrs:{_i:0}},[e._$s(1,"i",!e.isSearch)?n("view",{staticClass:e._$s(1,"sc","type-list"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","tips"),attrs:{_i:2}}),n("view",{staticClass:e._$s(3,"sc","type-item"),attrs:{_i:3}},e._l(e._$s(4,"f",{forItems:e.typeList}),(function(t,s,i,r){return n("view",{key:e._$s(4,"f",{forIndex:i,key:s}),staticClass:e._$s("4-"+r,"sc","type-item-title"),class:e._$s("4-"+r,"c",{"type-item-title-border":(s+1)%3!==0&&s+1!==e.typeList.length}),attrs:{_i:"4-"+r},on:{click:function(t){return e.searchByType(s)}}},[e._v(e._$s("4-"+r,"t0-0",e._s(t)))])})),0)]):e._e(),n("view",{staticClass:e._$s(5,"sc","all-historychat"),attrs:{_i:5}}),e._$s(6,"i",e.isSearch)?n("view",{staticClass:e._$s(6,"sc","search-historychat"),attrs:{_i:6}},e._l(5,(function(t,s,i,r){return n("view",{key:s,staticClass:e._$s("7-"+r,"sc","chat-item"),class:e._$s("7-"+r,"c",{"chat-item-border":s+1!==5}),attrs:{_i:"7-"+r}},[n("view",{staticClass:e._$s("8-"+r,"sc","chat-item-img"),attrs:{_i:"8-"+r}},[n("image",{attrs:{_i:"9-"+r}})]),n("view",{staticClass:e._$s("10-"+r,"sc","chat-item-info"),attrs:{_i:"10-"+r}},[n("view",{staticClass:e._$s("11-"+r,"sc","chat-item-info-title"),attrs:{_i:"11-"+r}},[n("view",{staticClass:e._$s("12-"+r,"sc","chat-item-info-title-name"),attrs:{_i:"12-"+r}}),n("view",{staticClass:e._$s("13-"+r,"sc","chat-item-info-title-time"),attrs:{_i:"13-"+r}})]),n("view",{staticClass:e._$s("14-"+r,"sc","chat-item-info-msg"),attrs:{_i:"14-"+r}})])])})),0):e._e(),e._$s(15,"i",e.isSearch)?n("view",{staticClass:e._$s(15,"sc","search-type"),attrs:{_i:15}},[n("view",{staticClass:e._$s(16,"sc","search-type-list"),attrs:{_i:16}},[n("view",{staticClass:e._$s(17,"sc","search-type-list-time"),attrs:{_i:17}}),e._l(2,(function(t,s,i,r){return n("view",{key:s,staticClass:e._$s("18-"+r,"sc","search-type-item"),attrs:{_i:"18-"+r}},[n("view",{staticClass:e._$s("19-"+r,"sc","search-type-item-top"),attrs:{_i:"19-"+r}},[n("image",{attrs:{_i:"20-"+r}}),n("view",{staticClass:e._$s("21-"+r,"sc","info-name"),attrs:{_i:"21-"+r}}),n("view",{staticClass:e._$s("22-"+r,"sc","info-time"),attrs:{_i:"22-"+r}})]),n("view",{staticClass:e._$s("23-"+r,"sc","search-type-item-btm"),attrs:{_i:"23-"+r}},[n("image",{attrs:{_i:"24-"+r}}),n("view",{staticClass:e._$s("25-"+r,"sc","info-item"),attrs:{_i:"25-"+r}},[n("view",{staticClass:e._$s("26-"+r,"sc","info-title"),attrs:{_i:"26-"+r}}),n("view",{staticClass:e._$s("27-"+r,"sc","info-msg"),attrs:{_i:"27-"+r}})])])])}))],2)]):e._e()])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},7506:function(e,t,n){"use strict";n.r(t);var s=n("50fc"),i=n("b6a7");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"75db":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","change-name"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","infoFm"),attrs:{_i:1}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentNickName,expression:"currentNickName"}],staticClass:e._$s(2,"sc","infoFmInput"),attrs:{_i:2},domProps:{value:e._$s(2,"v-model",e.currentNickName)},on:{input:function(t){t.target.composing||(e.currentNickName=t.target.value)}}}),n("view",{staticClass:e._$s(3,"sc","littleTips"),attrs:{_i:3}})])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"75f9":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","publish"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","publish-textarea"),attrs:{_i:1}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentText,expression:"currentText"}],attrs:{_i:2},domProps:{value:e._$s(2,"v-model",e.currentText)},on:{input:function(t){t.target.composing||(e.currentText=t.target.value)}}})]),n("view",{staticClass:e._$s(3,"sc","publish-set"),attrs:{_i:3}},[n("head-img-item",{attrs:{_i:4},nativeOn:{click:function(t){return e.toLocationInfo(t)}}},[n("image",{staticClass:e._$s(5,"sc","set-img"),attrs:{_i:5},slot:"start-img"}),n("view",{slot:"title"}),n("view",{staticClass:e._$s(7,"sc","link-right"),attrs:{_i:7},slot:"right"},[n("view",{staticClass:e._$s(8,"sc","link-right-img"),attrs:{_i:8}},[n("image",{attrs:{_i:9}})])])]),n("head-img-item",{attrs:{_i:10}},[n("image",{staticClass:e._$s(11,"sc","set-img"),attrs:{_i:11},slot:"start-img"}),n("view",{slot:"title"}),n("view",{staticClass:e._$s(13,"sc","link-right"),attrs:{_i:13},slot:"right"},[n("view",{staticClass:e._$s(14,"sc","link-right-img"),attrs:{_i:14}},[n("image",{attrs:{_i:15}})])])]),n("head-img-item",{attrs:{_i:16}},[n("image",{staticClass:e._$s(17,"sc","set-img"),attrs:{_i:17},slot:"start-img"}),n("view",{slot:"title"}),n("view",{staticClass:e._$s(19,"sc","link-right"),attrs:{_i:19},slot:"right"},[n("text"),n("view",{staticClass:e._$s(21,"sc","link-right-img"),attrs:{_i:21}},[n("image",{attrs:{_i:22}})])])])],1)])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"75fa":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("d8ae"),i=n("587d"),r=n("2f62");o(n("7429"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{},data:function(){return{userPhone:"",userPassword:"",showUserPhone:!1,showUserPassword:!1}},methods:c({},(0,r.mapMutations)(["setLogin"]),{},(0,r.mapActions)(["doGetMyUserInfo"]),{loginClick:function(t){var n=this,r=t.detail.value,o=(0,i.getCid)(),a={cid:o,userPhone:r.userPhone,userPassword:r.userPassword};(0,i.isPoneAvailable)(r.userPhone)?(0,i.isPasswordAvailable)(r.userPassword)?(0,s.doLogin)(a).then((function(t){var s=t.data;if(e("log",t," at components\\content\\login\\login.vue:95"),200===t.status)if(2e3===s.code){var i=t.data.data;n.setLogin(i),n.doGetMyUserInfo(),uni.showToast({title:"正在登录",icon:"none"}),uni.reLaunch({url:"/pages/index/index"})}else 4003===s.code?uni.showToast({title:"密码错误",icon:"none"}):4004===s.code?uni.showToast({title:"号码未注册,请先注册再登录",icon:"none"}):4e3===s.code?uni.showToast({title:"手机号码或者密码不能为空",icon:"none"}):(e("log","11111"," at components\\content\\login\\login.vue:130"),uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}));else e("log","22222"," at components\\content\\login\\login.vue:140"),uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).catch((function(t){e("log","33333"," at components\\content\\login\\login.vue:149"),e("log",t," at components\\content\\login\\login.vue:150"),uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})):uni.showToast({title:"密码错误",icon:"none"}):uni.showToast({title:"请输入正确手机号",icon:"none"})},delUserPhone:function(){var e=this;setTimeout((function(){e.userPhone="",e.showUserPhone=!1}),80)},delUserPassword:function(){var e=this;setTimeout((function(){e.userPassword="",e.showUserPassword=!1}),80)},handlerUserPhone:function(e){e.detail.value.length>0?this.showUserPhone=!0:0===e.detail.value.length&&(this.showUserPhone=!1)},handlerUserPassword:function(e){e.detail.value.length>0?this.showUserPassword=!0:0===e.detail.value.length&&(this.showUserPassword=!1)},toRegister1:function(){uni.navigateTo({url:"/components/content/register/register1"})},toChangepwd1:function(){uni.navigateTo({url:"/components/content/changepwd/changepwd1"})}}),onNavigationBarButtonTap:function(e){0===e.index&&uni.switchTab({url:"/pages/index/index"})}};t.default=l}).call(this,n("0de9")["default"])},"768c":function(e,t,n){"use strict";n.r(t);var s=n("69dc"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"76c6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("0261")),i=n("2f62");function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{DefaultList:s.default},data:function(){return{selectProvince:"",selectCity:""}},computed:a({},(0,i.mapState)(["userInfo"])),methods:{toGenderInfo:function(){uni.navigateTo({url:"/components/content/personalinfo/changeinfo/moreCpns/GenderInfo"})},toChooseLocation:function(){uni.navigateTo({url:"/components/content/chooseLocation/ChooseLocation"})},toSignature:function(){uni.navigateTo({url:"/components/content/personalinfo/changeinfo/moreCpns/Signature"})}}};t.default=u},"78aa":function(e,t,n){"use strict";n.r(t);var s=n("bc19"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},7927:function(e,t,n){"use strict";n.r(t);var s=n("6718"),i=n("4623");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"7a9a":function(e,t,n){"use strict";n.r(t);var s=n("75fa"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"7b3f":function(e,t,n){"use strict";n.r(t);var s=n("2da3"),i=n("0548");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"7c2a":function(e,t,n){"use strict";n("8484"),n("921b");var s=a(n("8bbf")),i=a(n("cd95")),r=a(n("63ee")),o=a(n("c83a"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s.default.prototype.$store=r.default,s.default.prototype.$toast=o.default,s.default.config.productionTip=!1,i.default.mpType="app";var d=new s.default(u({},i.default,{store:r.default}));d.$mount()},"7cfb":function(e,t,n){"use strict";n.r(t);var s=n("b70b"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"7d84":function(e,t,n){"use strict";var s=n("9f1f"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,o={};return e?(s.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=s.trim(e.substr(0,r)).toLowerCase(),n=s.trim(e.substr(r+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},"7e37":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("ea7b")),i=r(n("f4fa"));function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e,t=new s.default;return e=s.default.prototype.request.bind(t),e=i.default.extend(e,s.default.prototype,t),e=i.default.extend(e,t),e}function a(){return o()}var c=a;t.default=c},8188:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{webviewInfo:null,wv:null}},methods:{backPage:function(){uni.navigateBack()},moreMenu:function(){uni.showActionSheet({itemList:["保存文件","取消"],success:function(t){switch(t.tapIndex){case 0:e("log","已保存"," at components\\content\\collection\\collectionCpns\\CollectChain.vue:41");break;case 1:e("log","取消"," at components\\content\\collection\\collectionCpns\\CollectChain.vue:44");break}}})}},onLoad:function(t){var n=this;this.webviewInfo=t;var s=this.webviewInfo.link,i=this.webviewInfo.name;this.wv=plus.webview.create(s,i,{plusrequire:"none","uni-app":"none",top:uni.getSystemInfoSync().statusBarHeight+44,bottom:"0",left:"0",right:"0",scalable:!0});var r=this.$mp.page.$getAppWebview();r.append(this.wv),setTimeout((function(){n.wv.show(),e("log","获取窗口样式：",n.wv.getStyle()," at components\\content\\collection\\collectionCpns\\CollectChain.vue:75")}),1e3)}};t.default=n}).call(this,n("0de9")["default"])},8189:function(e){e.exports={_from:"@dcloudio/uni-stat@next",_id:"@dcloudio/uni-stat@2.0.0-26920200424005",_inBundle:!1,_integrity:"sha512-FT8Z/C5xSmIxooqhV1v69jTkxATPz+FsRQIFOrbdlWekjGkrE73jfrdNMWm7gL5u41ALPJTVArxN1Re9by1bjQ==",_location:"/@dcloudio/uni-stat",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"@dcloudio/uni-stat@next",name:"@dcloudio/uni-stat",escapedName:"@dcloudio%2funi-stat",scope:"@dcloudio",rawSpec:"next",saveSpec:null,fetchSpec:"next"},_requiredBy:["#USER","/","/@dcloudio/vue-cli-plugin-uni"],_resolved:"https://registry.npmjs.org/@dcloudio/uni-stat/-/uni-stat-2.0.0-26920200424005.tgz",_shasum:"47f4375095eda3089cf4678b4b96fc656a7ab623",_spec:"@dcloudio/uni-stat@next",_where:"/Users/guoshengqiang/Documents/dcloud-plugins/release/uniapp-cli",author:"",bugs:{url:"https://github.com/dcloudio/uni-app/issues"},bundleDependencies:!1,deprecated:!1,description:"",devDependencies:{"@babel/core":"^7.5.5","@babel/preset-env":"^7.5.5",eslint:"^6.1.0",rollup:"^1.19.3","rollup-plugin-babel":"^4.3.3","rollup-plugin-clear":"^2.0.7","rollup-plugin-commonjs":"^10.0.2","rollup-plugin-copy":"^3.1.0","rollup-plugin-eslint":"^7.0.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-replace":"^2.2.0","rollup-plugin-uglify":"^6.0.2"},files:["dist","package.json","LICENSE"],gitHead:"94494d54ed23e2dcf9ab8e3245b48b770b4e98a9",homepage:"https://github.com/dcloudio/uni-app#readme",license:"Apache-2.0",main:"dist/index.js",name:"@dcloudio/uni-stat",repository:{type:"git",url:"git+https://github.com/dcloudio/uni-app.git",directory:"packages/uni-stat"},scripts:{build:"NODE_ENV=production rollup -c rollup.config.js",dev:"NODE_ENV=development rollup -w -c rollup.config.js"},version:"2.0.0-26920200424005"}},"825b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={components:{}};t.default=s},"82b4":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","card"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","card-middle"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","card-top"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","card-top-img"),attrs:{_i:3}},[e._$s(4,"i",e.userInfo.user.faceImage)?n("image",{attrs:{src:e._$s(4,"a-src",e.imgUrl+e.userInfo.user.faceImage),_i:4}}):e._$s(5,"e",e.userInfo.user.userSex)?n("image",{attrs:{_i:5}}):n("image",{attrs:{_i:6}})]),n("view",{staticClass:e._$s(7,"sc","card-top-info"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","name-and-gender"),attrs:{_i:8}},[n("view",{staticClass:e._$s(9,"sc","info-name"),attrs:{_i:9}},[e._v(e._$s(9,"t0-0",e._s(e.userInfo.user.nickname||"")))]),n("view",{staticClass:e._$s(10,"sc","info-gender"),attrs:{_i:10}},[e._$s(11,"i",e.userInfo.user.userSex)?n("image",{attrs:{_i:11}}):n("image",{attrs:{_i:12}})])]),n("view",{staticClass:e._$s(13,"sc","info-region"),attrs:{_i:13}},[e._v(e._$s(13,"t0-0",e._s(e.userInfo.user.region||"")))])])]),n("view",{staticClass:e._$s(14,"sc","card-bottom"),attrs:{_i:14}},[e._$s(15,"i",e.userInfo.user.qrcode)?n("image",{attrs:{src:e._$s(15,"a-src",e.imgUrl+e.userInfo.user.qrcode),_i:15}}):e._e()]),n("view",{staticClass:e._$s(16,"sc","card-bottom-text"),attrs:{_i:16}})])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"83c0":function(e,t,n){"use strict";n.r(t);var s=n("fee3"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"841a":function(e,t,n){"use strict";var s=n("4490");function i(e){return(0,s.http)({url:"/remind/saveMindThing",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function r(e){return s.http.post("/remind/deleteScheduledTasks",e)}function o(e){return(0,s.http)({headers:{"Content-Type":"application/json"},url:"/remind/modifyScheduledTasks",method:"post",data:e})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return s.http.get("/remind/queryScheduledTasks?account=".concat(e,"&pageNum=").concat(t,"&pageSize=").concat(n))}e.exports={saveMindRequest:i,delRemindRequest:r,modifyRemindRequest:o,queryRemindRequest:a}},8484:function(e,t,n){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("components/content/login/login",(function(){return Vue.extend(n("5d47").default)})),__definePage("pages/index/index",(function(){return Vue.extend(n("3d95").default)})),__definePage("components/content/session/Session",(function(){return Vue.extend(n("2a13").default)})),__definePage("components/content/session/content/HistoryMsg",(function(){return Vue.extend(n("a02b").default)})),__definePage("components/content/session/sessionSon/addGroupMember",(function(){return Vue.extend(n("c29e").default)})),__definePage("components/content/chooseFriend/ChooseFriend",(function(){return Vue.extend(n("26a6").default)})),__definePage("components/content/session/sessionSon/GroupMembers",(function(){return Vue.extend(n("b887").default)})),__definePage("components/content/defmodify/DefModify",(function(){return Vue.extend(n("cb92").default)})),__definePage("components/content/session/sessionSon/ChatFriendSetting",(function(){return Vue.extend(n("16ad").default)})),__definePage("components/content/session/sessionSon/GroupInfo",(function(){return Vue.extend(n("6bb6").default)})),__definePage("components/content/changefriendinfo/ChangeLabel",(function(){return Vue.extend(n("ad2e").default)})),__definePage("components/content/collection/collectionCpns/CollectSearch",(function(){return Vue.extend(n("09ee").default)})),__definePage("pages/profile/profile",(function(){return Vue.extend(n("853a").default)})),__definePage("components/content/remind/Reminded",(function(){return Vue.extend(n("16e9").default)})),__definePage("components/content/remind/Remind",(function(){return Vue.extend(n("8e50").default)})),__definePage("components/content/changefriendinfo/ChangeRemark",(function(){return Vue.extend(n("299a").default)})),__definePage("components/content/collection/collection",(function(){return Vue.extend(n("ff83").default)})),__definePage("components/content/collection/collectionCpns/CollectChain",(function(){return Vue.extend(n("0378").default)})),__definePage("components/content/startup/Startup",(function(){return Vue.extend(n("2159").default)})),__definePage("pages/contacts/contacts",(function(){return Vue.extend(n("7b3f").default)})),__definePage("components/content/myLocation/SearchLocation",(function(){return Vue.extend(n("3c5a").default)})),__definePage("components/content/publish/Publish",(function(){return Vue.extend(n("c021").default)})),__definePage("components/content/dynamic/Dynamic",(function(){return Vue.extend(n("eb2a").default)})),__definePage("components/content/dynamic/MyDynamic",(function(){return Vue.extend(n("91e8").default)})),__definePage("components/content/myLocation/LocationInfo",(function(){return Vue.extend(n("0c7f").default)})),__definePage("components/content/register/register2",(function(){return Vue.extend(n("0306").default)})),__definePage("components/content/register/register1",(function(){return Vue.extend(n("b2a4").default)})),__definePage("components/content/personalinfo/PersonalInfo",(function(){return Vue.extend(n("1f12").default)})),__definePage("components/content/chooseLocation/ChooseLocation",(function(){return Vue.extend(n("f5ea").default)})),__definePage("components/content/chooseLocation/ChooseProvince",(function(){return Vue.extend(n("e2a1").default)})),__definePage("components/content/chooseLocation/ChooseCity",(function(){return Vue.extend(n("a3cb").default)})),__definePage("components/content/personalinfo/changeinfo/ChangeAddress1",(function(){return Vue.extend(n("4b3c").default)})),__definePage("components/content/personalinfo/changeinfo/ChangeAddress2",(function(){return Vue.extend(n("b17d").default)})),__definePage("components/content/personalinfo/changeinfo/Card",(function(){return Vue.extend(n("54dd").default)})),__definePage("components/content/personalinfo/changeinfo/moreCpns/Signature",(function(){return Vue.extend(n("22e2").default)})),__definePage("components/content/personalinfo/changeinfo/moreCpns/GenderInfo",(function(){return Vue.extend(n("0a25").default)})),__definePage("components/content/personalinfo/changeinfo/ChangeMoreInfo",(function(){return Vue.extend(n("66dc").default)})),__definePage("components/content/personalinfo/changeinfo/ChangeName",(function(){return Vue.extend(n("3fc5").default)})),__definePage("components/content/changepwd/changepwd1",(function(){return Vue.extend(n("e321").default)})),__definePage("components/content/addfriend/AddFriend",(function(){return Vue.extend(n("1fb4").default)})),__definePage("components/content/consentfriend/ConsentFriend",(function(){return Vue.extend(n("7927").default)})),__definePage("components/content/addfriend/AddfriendInfo",(function(){return Vue.extend(n("a3be").default)})),__definePage("components/content/applyfriend/ApplyFriend",(function(){return Vue.extend(n("bc37").default)})),__definePage("components/content/friend/FriendInfo",(function(){return Vue.extend(n("f0b4").default)})),__definePage("pages/message/message",(function(){return Vue.extend(n("5f1d").default)})),__definePage("components/content/payment/PayMent",(function(){return Vue.extend(n("e90d").default)})),__definePage("components/content/setting/Setting",(function(){return Vue.extend(n("4756").default)})),__definePage("components/content/changepwd/changepwd2",(function(){return Vue.extend(n("225a").default)}))},"84c6":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","head-img-item"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","item"),attrs:{_i:1},on:{click:e.test}},[n("view",{staticClass:e._$s(2,"sc","start-img"),attrs:{_i:2}},[e._t("start-img",null,{_i:3})],2),n("view",{staticClass:e._$s(4,"sc","end-info"),class:e._$s(4,"c",{noBorder:e.noBorderBtm}),attrs:{_i:4}},[n("view",{staticClass:e._$s(5,"sc","left"),attrs:{_i:5}},[n("view",{staticClass:e._$s(6,"sc","title"),attrs:{_i:6}},[e._t("title",null,{_i:7})],2),n("view",{staticClass:e._$s(8,"sc","msg"),attrs:{_i:8}},[e._t("msg",null,{_i:9})],2)]),n("view",{staticClass:e._$s(10,"sc","right"),attrs:{_i:10}},[e._t("right",null,{_i:11})],2)])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},8534:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{}},props:{noBorderBtm:{type:Boolean,default:function(){return!1}}},methods:{test:function(){}}};t.default=s},"853a":function(e,t,n){"use strict";n.r(t);var s=n("3cf0"),i=n("d2dc");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"85e7":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("0261")),i=n("2f62"),r=n("b3e4");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{DefaultList:s.default},data:function(){return{addressInfo:{},newAddress:!1,editAddress:!1,chooseIndex:"",userAddressList:[]}},computed:c({},(0,i.mapState)(["userInfo"])),created:function(){var e=JSON.parse(this.userInfo.user.userAddress);e.length>0&&(this.userAddressList=e)},methods:{calcInfoList:function(){var e=this.addressInfo;return!!e.consignee||(!!e.phone||(!!e.region||(!!e.address||!!e.postal)))},hasChangeAddressInfo:function(){var t=this.userAddressList[chooseIndex];return e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:98"),t!==this.addressInfo}},onBackPress:function(t){if("navigateBack"===t.from)return!1;if("backbutton"===t.from){if(this.newAddress){if(!this.calcInfoList())return!1;uni.showModal({title:"提示",content:"确定放弃新增的信息？",success:function(e){if(e.confirm)uni.navigateBack();else if(e.cancel)return!0},fail:function(t){return e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:127"),!0}})}if(this.editAddress){if(!this.hasChangeAddressInfo())return!1;uni.showModal({title:"提示",content:"确定放弃修改的信息？",success:function(e){if(e.confirm)uni.navigateBack();else if(e.cancel)return!0},fail:function(t){return e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:151"),!0}})}}return!0},onLoad:function(t){if(t.index){this.editAddress=!0,this.chooseIndex=t.index,uni.setNavigationBarTitle({title:"修改地址"});var n=this.userAddressList;e("log",n," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:174"),this.addressInfo=n[t.index],e("log",this.addressInfo," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:177")}else this.newAddress=!0,this.addressInfo={consignee:"",phone:"",region:"",detailedAddress:"",postal:""}},onNavigationBarButtonTap:function(t){var n=this;if(0===t.index){if(this.newAddress){var s=this.addressInfo;if(s.consignee&&s.phone&&s.region&&s.detailedAddress&&s.postal){var i=[];this.userInfo.user.userAddress.length>0&&(i=this.userAddressList),i.unshift(s);var o=JSON.stringify(i),a={userAccount:this.userInfo.user.userAccount,modifyContent:o,modifyType:3};(0,r.modifyUserInfo)(a).then((function(t){200===t.status?(2e3===t.data.code?(n.$set(n.userInfo.user,"userAddress",o),uni.setStorageSync("userInfo",n.userInfo),uni.navigateBack()):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:224")):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).catch((function(t){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:236")}))}else uni.showToast({title:"请填写完整信息",icon:"none"})}if(this.editAddress)if(this.hasChangeAddressInfo()){var c=this.userAddressList;c[this.chooseIndex]=this.addressInfo,e("log",c," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:250");var u=JSON.stringify(c),l={userAccount:this.userInfo.user.userAccount,modifyContent:u,modifyType:3};(0,r.modifyUserInfo)(l).then((function(t){200===t.status?(2e3===t.data.code?(n.$set(n.userInfo.user,"userAddress",u),uni.setStorageSync("userInfo",n.userInfo),uni.navigateBack()):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:271")):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).catch((function(t){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeAddress2.vue:283")}))}else uni.showToast({title:"无修改信息",icon:"none"})}}};t.default=l}).call(this,n("0de9")["default"])},8898:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("a327"),i=n("587d"),r={mixins:[s.sendCodeMixin],data:function(){return{showPhoneInput:!1}},methods:{toChangepwd2:function(){e("log","toChangepwd2"," at components\\content\\changepwd\\changepwd1.vue:42")},registerClick:function(e){var t=e.detail.value;(0,i.isPoneAvailable)(t.userPhone)?this.getCode===parseInt(t.code)?uni.navigateTo({url:"/components/content/changepwd/changepwd2?userPhone="+t.userPhone}):uni.showToast({title:"验证码错误",icon:"none"}):uni.showToast({title:"手机号为11位",icon:"none"})},handlerUserPhone:function(e){e.detail.value.length>0?this.showPhoneInput=!0:this.showPhoneInput=!1},delInput:function(){var e=this;setTimeout((function(){e.userPhone="",e.showPhoneInput=!1}),80)}}};t.default=r}).call(this,n("0de9")["default"])},8929:function(e,t,n){"use strict";var s={"uni-icons":n("1bef").default,"uni-badge":n("b608").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-list-item"),class:e._$s(0,"c",e.disabled?"uni-list-item--disabled":""),attrs:{"hover-class":e._$s(0,"a-hover-class",e.disabled||e.showSwitch?"":"uni-list-item--hover"),_i:0},on:{click:e.onClick}},[n("view",{staticClass:e._$s(1,"sc","uni-list-item__container"),class:e._$s(1,"c",{"uni-list-item--first":e.isFirstChild}),attrs:{_i:1}},[e._$s(2,"i",e.thumb)?n("view",{staticClass:e._$s(2,"sc","uni-list-item__icon"),attrs:{_i:2}},[n("image",{staticClass:e._$s(3,"sc","uni-list-item__icon-img"),attrs:{src:e._$s(3,"a-src",e.thumb),_i:3}})]):e._$s(4,"e",e.showExtraIcon)?n("view",{staticClass:e._$s(4,"sc","uni-list-item__icon"),attrs:{_i:4}},[n("uni-icons",{staticClass:e._$s(5,"sc","uni-icon-wrapper"),attrs:{color:e.extraIcon.color,size:e.extraIcon.size,type:e.extraIcon.type,_i:5}})],1):e._e(),n("view",{staticClass:e._$s(6,"sc","uni-list-item__content"),attrs:{_i:6}},[e._t("default",null,{_i:7}),n("text",{staticClass:e._$s(8,"sc","uni-list-item__content-title"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.title)))]),e._$s(9,"i",e.note)?n("text",{staticClass:e._$s(9,"sc","uni-list-item__content-note"),attrs:{_i:9}},[e._v(e._$s(9,"t0-0",e._s(e.note)))]):e._e()],2),e._$s(10,"i",e.showBadge||e.showArrow||e.showSwitch)?n("view",{staticClass:e._$s(10,"sc","uni-list-item__extra"),attrs:{_i:10}},[e._$s(11,"i",e.showBadge)?n("uni-badge",{attrs:{type:e.badgeType,text:e.badgeText,_i:11}}):e._e(),e._$s(12,"i",e.showSwitch)?n("switch",{attrs:{disabled:e._$s(12,"a-disabled",e.disabled),checked:e._$s(12,"a-checked",e.switchChecked),_i:12},on:{change:e.onSwitchChange}}):e._e(),e._$s(13,"i",e.showArrow)?n("uni-icons",{staticClass:e._$s(13,"sc","uni-icon-wrapper"),attrs:{size:20,color:"#bbb",type:"arrowright",_i:13}}):e._e()],1):e._e()])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"89ae":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("5e5b")),i=a(n("ea56")),r=a(n("15e1")),o=(n("d427"),n("1291"),n("2f62"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{ContactsCon:s.default,ContactsIndex:i.default,DefMask:r.default},data:function(){return{}},computed:u({},(0,o.mapState)(["userInfo"])),methods:{touchStart:function(t){e("log",t," at pages\\contacts\\contacts.vue:35")},touchMove:function(t){e("log",t," at pages\\contacts\\contacts.vue:39")},touchEnd:function(){e("log","touchEnd"," at pages\\contacts\\contacts.vue:43")},touchCancel:function(){e("log","touchCancel"," at pages\\contacts\\contacts.vue:47")},testMe:function(){e("log",plus.push.getClientInfo()," at pages\\contacts\\contacts.vue:53")},getPushEvent:function(){e("log",plus.push.getClientInfo()," at pages\\contacts\\contacts.vue:59")},tapMask:function(){this.$refs.contactsMask.isShowMask=!this.$refs.contactsMask.isShowMask}},onShow:function(){},onLoad:function(){this.getPushEvent()},onNavigationBarButtonTap:function(e){0===e.index&&(this.$refs.contactsMask.isShowMask=!this.$refs.contactsMask.isShowMask)},onUnload:function(){this.$refs.contactsMask.isShowMask=!1},onHide:function(){this.$refs.contactsMask.isShowMask=!1}};t.default=d}).call(this,n("0de9")["default"])},"89d2":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","search-location"),attrs:{_i:0}})},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"8ada":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","choose-location"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","choose-location-head"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","choose-category-text"),attrs:{_i:2}}),n("default-list",{staticClass:e._$s(3,"sc","current-location-list"),attrs:{noBorderBtm:!0,_i:3},nativeOn:{click:function(t){return e.changeUserRegion(t)}}},[n("view",{slot:"def-list-left"},[e._$s(5,"i",e.currentAddress.country.length>0)?[n("text",{staticClass:e._$s(6,"sc","def-list-left-text-loading"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.currentAddress.country)))]),n("text",{staticClass:e._$s(7,"sc","def-list-left-text def-list-left-text-loading"),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.currentAddress.province)))]),n("text",{staticClass:e._$s(8,"sc","def-list-left-text def-list-left-text-loading"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.currentAddress.city)))])]:n("text",{staticClass:e._$s(9,"sc","def-list-left-text-loading"),attrs:{_i:9}})],2)])],1),n("view",{staticClass:e._$s(10,"sc","choose-location-content"),attrs:{_i:10}},[n("view",{staticClass:e._$s(11,"sc","choose-category-text"),attrs:{_i:11}}),n("default-list",{attrs:{_i:12},nativeOn:{click:function(t){return e.toChooseProvince(t)}}},[n("view",{slot:"def-list-left"},[e._$s(14,"i",e.userInfo.user.region)?n("text",{staticClass:e._$s(14,"sc","def-list-left-text"),attrs:{_i:14}},[e._v(e._$s(14,"t0-0",e._s(e.userInfo.user.region)))]):e._e()])])],1)])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"8bbf":function(e,t){e.exports=Vue},"8ce3":function(module,exports,__webpack_require__){(function(__f__,wx){module.exports=function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=328)}([function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(91),a=n(90);n(187);var c,u,l=n(19),d=l.getGlobal(),f=/\s+/;l.deduplicate=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t},l.capFirstLetter=function(e){return e?(e=""+e).slice(0,1).toUpperCase()+e.slice(1):""},l.guid=(c=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},function(){return c()+c()+c()+c()+c()+c()+c()+c()}),l.extend=function(e,t,n){for(var s in t)void 0!==e[s]&&!0!==n||(e[s]=t[s])},l.filterObj=function(e,t){var n={};return l.isString(t)&&(t=t.split(f)),t.forEach((function(t){e.hasOwnProperty(t)&&(n[t]=e[t])})),n},l.copy=function(e,t){return t=t||{},e?(Object.keys(e).forEach((function(n){l.exist(e[n])&&(t[n]=e[n])})),t):t},l.copyWithNull=function(e,t){return t=t||{},e?(Object.keys(e).forEach((function(n){(l.exist(e[n])||l.isnull(e[n]))&&(t[n]=e[n])})),t):t},l.findObjIndexInArray=function(e,t){e=e||[];var n=t.keyPath||"id",s=-1;return e.some((function(e,i){if(a(e,n)===t.value)return s=i,!0})),s},l.findObjInArray=function(e,t){var n=l.findObjIndexInArray(e,t);return-1===n?null:e[n]},l.mergeObjArray=function(){var e=[],t=[].slice.call(arguments,0,-1),n=arguments[arguments.length-1];l.isArray(n)&&(t.push(n),n={});var s,i=n.keyPath=n.keyPath||"id";for(n.sortPath=n.sortPath||i;!e.length&&t.length;)e=(e=t.shift()||[]).slice(0);return t.forEach((function(t){t&&t.forEach((function(t){-1!==(s=l.findObjIndexInArray(e,{keyPath:i,value:a(t,i)}))?e[s]=l.merge({},e[s],t):e.push(t)}))})),n.notSort||(e=l.sortObjArray(e,n)),e},l.cutObjArray=function(e){var t=e.slice(0),n=arguments.length,s=[].slice.call(arguments,1,n-1),i=arguments[n-1];l.isObject(i)||(s.push(i),i={});var r,o=i.keyPath=i.keyPath||"id";return s.forEach((function(e){l.isArray(e)||(e=[e]),e.forEach((function(e){e&&(i.value=a(e,o),-1!==(r=l.findObjIndexInArray(t,i))&&t.splice(r,1))}))})),t},l.sortObjArray=function(e,t){var n=(t=t||{}).sortPath||"id";o.insensitive=!!t.insensitive;var s,i,r,c=!!t.desc;return r=l.isFunction(t.compare)?t.compare:function(e,t){return s=a(e,n),i=a(t,n),c?o(i,s):o(s,i)},e.sort(r)},l.emptyFunc=function(){},l.isEmptyFunc=function(e){return e===l.emptyFunc},l.notEmptyFunc=function(e){return e!==l.emptyFunc},l.splice=function(e,t,n){return[].splice.call(e,t,n)},l.reshape2d=function(e,t){if(Array.isArray(e)){l.verifyParamType("type",t,"number","util::reshape2d");var n=e.length;if(n<=t)return[e];for(var s=Math.ceil(n/t),i=[],r=0;r<s;r++)i.push(e.slice(r*t,(r+1)*t));return i}return e},l.flatten2d=function(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){t=t.concat(e)})),t}return e},l.dropArrayDuplicates=function(e){if(Array.isArray(e)){for(var t={},n=[];e.length>0;)t[e.shift()]=!0;for(var s in t)!0===t[s]&&n.push(s);return n}return e},l.onError=function(e){throw new function(e){"object"===(void 0===e?"undefined":(0,r.default)(e))?(this.callFunc=e.callFunc||null,this.message=e.message||"UNKNOW ERROR"):this.message=e,this.time=new Date,this.timetag=+this.time}(e)},l.verifyParamPresent=function(e,t,n,s){n=n||"";var i=!1;switch(l.typeOf(t)){case"undefined":case"null":i=!0;break;case"string":""===t&&(i=!0);break;case"StrStrMap":case"object":Object.keys(t).length||(i=!0);break;case"array":t.length?t.some((function(e){if(l.notexist(e))return i=!0,!0})):i=!0}i&&l.onParamAbsent(n+e,s)},l.onParamAbsent=function(e,t){l.onParamError("缺少参数 "+e+", 请确保参数不是 空字符串、空对象、空数组、null或undefined, 或数组的内容不是 null/undefined",t)},l.verifyParamAbsent=function(e,t,n,s){n=n||"",void 0!==t&&l.onParamPresent(n+e,s)},l.onParamPresent=function(e,t){l.onParamError("多余的参数 "+e,t)},l.verifyParamType=function(e,t,n,s){var i=l.typeOf(t).toLowerCase();l.isArray(n)||(n=[n]);var r=!0;switch(-1===(n=n.map((function(e){return e.toLowerCase()}))).indexOf(i)&&(r=!1),i){case"number":isNaN(t)&&(r=!1);break;case"string":"numeric or numeric string"===n.join("")&&(r=!!/^[0-9]+$/.test(t))}r||l.onParamInvalidType(e,n,"",s)},l.onParamInvalidType=function(e,t,n,s){n=n||"",t=l.isArray(t)?(t=t.map((function(e){return'"'+e+'"'}))).join(", "):'"'+t+'"',l.onParamError('参数"'+n+e+'"类型错误, 合法的类型包括: ['+t+"]",s)},l.verifyParamValid=function(e,t,n,s){l.isArray(n)||(n=[n]),-1===n.indexOf(t)&&l.onParamInvalidValue(e,n,s)},l.onParamInvalidValue=function(e,t,n){l.isArray(t)||(t=[t]),t=t.map((function(e){return'"'+e+'"'})),l.isArray(t)&&(t=t.join(", ")),l.onParamError("参数 "+e+"值错误, 合法的值包括: ["+JSON.stringify(t)+"]",n)},l.verifyParamMin=function(e,t,n,s){t<n&&l.onParamError("参数"+e+"的值不能小于"+n,s)},l.verifyParamMax=function(e,t,n,s){t>n&&l.onParamError("参数"+e+"的值不能大于"+n,s)},l.verifyArrayMax=function(e,t,n,s){t.length>n&&l.onParamError("参数"+e+"的长度不能大于"+n,s)},l.verifyEmail=(u=/^\S+@\S+$/,function(e,t,n){u.test(t)||l.onParamError("参数"+e+"邮箱格式错误, 合法格式必须包含@符号, @符号前后至少要各有一个字符",n)}),l.verifyTel=function(){var e=/^[+\-()\d]+$/;return function(t,n,s){e.test(n)||l.onParamError("参数"+t+"电话号码格式错误, 合法字符包括+、-、英文括号和数字",s)}}(),l.verifyBirth=function(){var e=/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/;return function(t,n,s){e.test(n)||l.onParamError("参数"+t+'生日格式错误, 合法为"yyyy-MM-dd"',s)}}(),l.onParamError=function(e,t){l.onError({message:e,callFunc:t})},l.verifyOptions=function(e,t,n,s,i){if(e=e||{},t&&(l.isString(t)&&(t=t.split(f)),l.isArray(t))){"boolean"!=typeof n&&(i=n||null,n=!0,s="");var r=n?l.verifyParamPresent:l.verifyParamAbsent;t.forEach((function(t){r.call(l,t,e[t],s,i)}))}return e},l.verifyParamAtLeastPresentOne=function(e,t,n){t&&(l.isString(t)&&(t=t.split(f)),l.isArray(t)&&(t.some((function(t){return l.exist(e[t])}))||l.onParamError("以下参数["+t.join(", ")+"]至少需要传入一个",n)))},l.verifyParamPresentJustOne=function(e,t,n){t&&(l.isString(t)&&(t=t.split(f)),l.isArray(t)&&1!==t.reduce((function(t,n){return l.exist(e[n])&&t++,t}),0)&&l.onParamError("以下参数["+t.join(", ")+"]必须且只能传入一个",n))},l.verifyBooleanWithDefault=function(e,t,n,s,i){l.undef(n)&&(n=!0),f.test(t)&&(t=t.split(f)),l.isArray(t)?t.forEach((function(t){l.verifyBooleanWithDefault(e,t,n,s,i)})):void 0===e[t]?e[t]=n:l.isBoolean(e[t])||l.onParamInvalidType(t,"boolean",s,i)},l.verifyFileInput=function(e,t){return l.verifyParamPresent("fileInput",e,"",t),l.isString(e)&&((e="undefined"==typeof document?void 0:document.getElementById(e))||l.onParamError("找不到要上传的文件对应的input, 请检查fileInput id "+e,t)),e.tagName&&"input"===e.tagName.toLowerCase()&&"file"===e.type.toLowerCase()||l.onParamError("请提供正确的 fileInput, 必须为 file 类型的 input 节点 tagname:"+e.tagName+", filetype:"+e.type,t),e},l.verifyFileType=function(e,t){l.verifyParamValid("type",e,l.validFileTypes,t)},l.verifyCallback=function(e,t,n){f.test(t)&&(t=t.split(f)),l.isArray(t)?t.forEach((function(t){l.verifyCallback(e,t,n)})):e[t]?l.isFunction(e[t])||l.onParamInvalidType(t,"function","",n):e[t]=l.emptyFunc},l.verifyFileUploadCallback=function(e,t){l.verifyCallback(e,"uploadprogress uploaddone uploaderror uploadcancel",t)},l.validFileTypes=["image","audio","video","file"],l.validFileExts={image:["bmp","gif","jpg","jpeg","jng","png","webp"],audio:["mp3","wav","aac","wma","wmv","amr","mp2","flac","vorbis","ac3"],video:["mp4","rm","rmvb","wmv","avi","mpg","mpeg","mov"]},l.filterFiles=function(e,t){var n,s,i="file"===(t=t.toLowerCase()),r=[];return[].forEach.call(e,(function(e){i?r.push(e):(n=e.name.slice(e.name.lastIndexOf(".")+1),(s=e.type.split("/"))[0]&&s[1]&&(s[0].toLowerCase()===t||-1!==l.validFileExts[t].indexOf(n))&&r.push(e))})),r};var m,p,h=l.supportFormData=l.notundef(d.FormData);l.getFileName=function(e){return e=l.verifyFileInput(e),h?e.files[0].name:e.value.slice(e.value.lastIndexOf("\\")+1)},l.getFileInfo=(m={ppt:1,pptx:2,pdf:3},function(e){var t={};if(!(e=l.verifyFileInput(e)).files)return t;var n=e.files[0];return h&&(t.name=n.name,t.size=n.size,t.type=n.name.match(/\.(\w+)$/),t.type=t.type&&t.type[1].toLowerCase(),t.transcodeType=m[t.type]||0),t}),l.sizeText=(p=["B","KB","MB","GB","TB","PB","EB","ZB","BB"],function(e){var t,n=0;do{t=(e=Math.floor(100*e)/100)+p[n],e/=1024,n++}while(e>1);return t}),l.promises2cmds=function(e){return e.map((function(e){return e.cmd}))},l.objs2accounts=function(e){return e.map((function(e){return e.account}))},l.teams2ids=function(e){return e.map((function(e){return e.teamId}))},l.objs2ids=function(e){return e.map((function(e){return e.id}))},l.getMaxUpdateTime=function(e){var t=e.map((function(e){return+e.updateTime}));return Math.max.apply(Math,t)},l.genCheckUniqueFunc=function(e,t){return e=e||"id",t=t||1e3,function(t){this.uniqueSet=this.uniqueSet||{},this.uniqueSet[e]=this.uniqueSet[e]||{};var n=this.uniqueSet[e],s=t[e];return!n[s]&&(n[s]=!0,!0)}},l.fillPropertyWithDefault=function(e,t,n){return!!l.undef(e[t])&&(e[t]=n,!0)},e.exports=l},function(e,t,n){"use strict";var s={info:{hash:"'d773690896c3c51abfb12edc911ef9f6a214353b",shortHash:"d77369089'",version:"7.3.0",sdkVersion:"78",nrtcVersion:"4.11.0",nrtcSdkVersion:"1",protocolVersion:1},agentVersion:"3.0.1",lbsUrl:"https://lbs.netease.im/lbs/webconf.jsp",roomserver:"roomserver.netease.im",connectTimeout:8e3,xhrTimeout:8e3,socketTimeout:8e3,reconnectionDelay:1600,reconnectionDelayMax:8e3,reconnectionJitter:.01,reconnectiontimer:null,heartbeatInterval:6e4,cmdTimeout:8e3,defaultReportUrl:"https://dr.netease.im/1.gif",isWeixinApp:!1,isNodejs:!1,isRN:!1,ipVersion:0,PUSHTOKEN:"",PUSHCONFIG:{},CLIENTTYPE:16,PushPermissionAsked:!1,iosPushConfig:null,androidPushConfig:null,netDetectAddr:"https://roomserver-dev.netease.im/v1/sdk/detect/local",optionDefaultLinkUrl:"",defaultLinkUrl:"weblink.netease.im",ipv6DefaultLinkUrl:"weblink.netease.im",optionIpv6DefaultLinkUrl:"",wxDefaultLinkUrl:"wlnimsc0.netease.im",getDefaultLinkUrl:function(e){var t,n;1===s.ipVersion?(t=s.optionIpv6DefaultLinkUrl,n=s.ipv6DefaultLinkUrl):(t=s.optionDefaultLinkUrl,n=s.defaultLinkUrl);var i=t||(s.isWeixinApp?s.wxDefaultLinkUrl:n);if(!i)return!1;var r=e?"https":"http",o=e?"443":"80",a=i;return-1===i.indexOf("http")&&(a=r+"://"+a),-1===i.indexOf(":")&&(a=a+":"+o),a}};s.weixinNetcall=s.nrtcNetcall={checkSumUrl:"https://nrtc.netease.im/demo/getChecksum.action",getChannelInfoUrl:"https://nrtc.netease.im/nrtc/getChannelInfos.action"},s.ipProbeAddr={ipv4:"https://detect4.netease.im/test/",ipv6:"https://detect6.netease.im/test/"},s.nrtcWebRTC2={checkSumUrl:"",getChannelInfoUrl:""},s.formatSocketUrl=function(e){var t=e.url,n=e.secure?"https":"http";return-1===t.indexOf("http")?n+"://"+t:t},s.uploadUrl="https://nos.netease.com",s.chunkUploadUrl=null,s.commonMaxSize=104857600,s.chunkSize=4194304,s.chunkMaxSize=4194304e4,s.replaceUrl="https://{bucket}-nosdn.netease.im/{object}",s.downloadHost="nos.netease.com",s.downloadUrl="https://{bucket}-nosdn.netease.im/{object}",s.httpsEnabled=!1,s.threshold=0,s.genUploadUrl=function(e){return s.uploadUrl+"/"+e},s.genChunkUploadUrl=function(e){return s.chunkUploadUrl?s.chunkUploadUrl+"/"+e.bucket+"/"+e.objectName:""},s.genDownloadUrl=function(e,t){var n=e.bucket,i=(e.tag,e.expireSec),r=+new Date,o=i?"&survivalTime="+i:"",a=s.replaceUrl+"?createTime="+r+o;return(a=s.genNosProtocolUrl(a)).replace("{bucket}",n).replace("{object}",t)},s.genFileUrl=function(e){var t=e.bucket,n=e.objectName;return s.genNosProtocolUrl(s.replaceUrl).replace("{bucket}",t).replace("{object}",n)},s.genNosProtocolUrl=function(e){return/^http/.test(e)?s.httpsEnabled&&0!==e.indexOf("https://")&&(e=e.replace("http","https")):e=s.httpsEnabled?"https://"+e:"http://"+e,e},e.exports=s},function(e,t,n){"use strict";t.__esModule=!0;var s=o(n(129)),i=o(n(118)),r="function"==typeof i.default&&"symbol"==typeof s.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===r(s.default)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":r(e)}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var s=n(42)("wks"),i=n(28),r=n(3).Symbol,o="function"==typeof r;(e.exports=function(e){return s[e]||(s[e]=o&&r[e]||(o?r:i)("Symbol."+e))}).store=s},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var s=n(20),i=n(25),r=(n(7),n(1)),o=n(0),a=o.undef,c=n(105),u=n(48),l=n(60);function d(e){var t=this;o.verifyOptions(e,"appKey account token","protocol::IMProtocol"),o.verifyCallback(e,["onconnect","onerror","onwillreconnect","ondisconnect","onloginportschange","onmyinfo","onblacklist","onmutelist","onfriends","onusers","onrobots","onteams","onSuperTeams","onsessions","onroamingmsgs","onofflinemsgs","onofflinefiltermsgs","onroamingsysmsgs","onofflinesysmsgs","onofflinefiltersysmsgs","onofflinecustomsysmsgs","onofflinefiltercustomsysmsgs","onbroadcastmsg","onbroadcastmsgs","onsysmsgunread","onsyncdone","onteammembers","onsyncteammembersdone","onmsg","onsysmsg","oncustomsysmsg","onupdatemyinfo","onupdateuser","onSyncUpdateServerSession","onUpdateSuperTeamMember","onCreateSuperTeam","onUpdateSuperTeam","onAddSuperTeamMembers","onRemoveSuperTeamMembers","onUpdateSuperTeamManagers","onDismissSuperTeam","onTransferSuperTeam","onUpdateSuperTeamMembersMute","onupdateteammember","onCreateTeam","onUpdateTeam","onAddTeamMembers","onRemoveTeamMembers","onUpdateTeamManagers","onDismissTeam","onTransferTeam","onUpdateTeamMembersMute","onTeamMsgReceipt","onupdatesession","onupdatesysmsgunread","onupdatesysmsg","onsynccreateteam","onsyncsupercreateteam","onsyncmarkinblacklist","onsyncmarkinmutelist","onsyncfriendaction","shouldIgnoreNotification","shouldIgnoreMsg","shouldCountNotifyUnread","onPushNotificationMultiportConfig","onPushNotificationMultiportConfigUpdate","onpushevents"],"protocol::IMProtocol"),t.db=e.api.db=new s({logger:e.logger,notifyError:function(e){t.notifyError&&t.notifyError("DB error",e)}}),i.call(t,e)}var f=i.fn,m=d.fn=d.prototype=Object.create(f);m.init=function(){f.init.call(this),u.IM.setProtocol(this),this.parser=u.IM,this.sendCmd.bind(this),this.socketUrls=[],this.syncing=!0,this.hasSynced=!1,this.hasSyncedTeamMembers=!1,this.syncPromiseArray=[],this.syncResult={},this.syncTeamMembersPromiseArray=[],this.syncSuperTeamMembersPromiseArray=[],this.syncTeamMembersResult={},this.timetags={},this.superTeamMembersData={},this.sysMsgUnread=l.completeUnread({}),this.resetUnsettledMsgs(),this.resetUnsettledSysMsgs(),this.msgPromise=Promise.resolve(),this.sysMsgPromise=Promise.resolve(),this.sessionSet={},this.msgReceiptTasks={},this.userSet={},this.pushNotificationMultiportConfig=c.getDefaultConfig()},m.reset=function(){f.reset.call(this);var e=this.options;this.db.reset(e.db),a(e.lbsUrl)&&(e.lbsUrl=r.lbsUrl),a(e.thumbnailToStatic)&&(e.thumbnailToStatic=!0),this.resetAutoMarkRead()},m.resetAutoMarkRead=function(){var e=this.options;o.verifyBooleanWithDefault(e,"autoMarkRead",!0,"","protocol::resetAutoMarkRead")},m.resetUnsettledMsgs=function(){this.unhandledMsgs=[],this.unupdatedMsgs=[]},m.resetUnsettledSysMsgs=function(){this.unhandledSysMsgs=[],this.unupdatedSysMsgs=[]},m.packetFromSync=function(e){return!e.obj||!!e.obj.sync},e.exports=d,n(285),n(284),n(283),n(277),n(275),n(274),n(273),n(272),n(271),n(270),n(269),n(268),n(267),n(266),n(259),n(258),n(257),n(256)},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s};function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.message=e||n.message||"","object"===(void 0===t?"undefined":(0,r.default)(t))?(this.event=t,this.code="Other_Error"):void 0!==t&&(this.code=t),this.timetag=+new Date,void 0!==n&&(this.event=n),this.event&&(this.callFunc=this.event.callFunc||null,delete this.event.callFunc)}o.prototype=Object.create(Error.prototype),o.prototype.name="NIMError";var a={201:"客户端版本不对, 需升级sdk",302:"用户名或密码错误, 请检查appKey和token是否有效, account和token是否匹配",403:"非法操作或没有权限",404:"对象(用户/群/聊天室)不存在",405:"参数长度过长",408:"客户端请求超时",414:"参数错误",415:"服务不可用/没有聊天室服务器可分配",416:"频率控制",417:"重复操作",422:"帐号被禁用",500:"服务器内部错误",501:"数据库操作失败",503:"服务器繁忙",508:"删除有效期过了",509:"已失效",7101:"被拉黑",801:"群人数达到上限",802:"没有权限",803:"群不存在或未发生变化",804:"用户不在群里面",805:"群类型不匹配",806:"创建群数量达到限制",807:"群成员状态不对",809:"已经在群里",811:"强推列表中帐号数量超限",812:"群被禁言",813:"因群数量限制，部分拉人成功",814:"禁止使用群组消息已读服务",815:"群管理员人数上限",997:"协议已失效",998:"解包错误",999:"打包错误",9102:"通道失效",9103:"已经在其他端接听/拒绝过这通电话",11001:"对方离线, 通话不可送达",13002:"聊天室状态异常",13003:"在黑名单中",13004:"在禁言名单中",13006:"聊天室处于整体禁言状态,只有管理员能发言",Connect_Failed:"无法建立连接, 请确保能 ping/telnet 到云信服务器; 如果是IE8/9, 请确保项目部署在 HTTPS 环境下",Error_Internet_Disconnected:"网断了",Error_Connection_is_not_Established:"连接未建立",Error_Connection_Socket_State_not_Match:"socket状态不对",Error_Timeout:"超时",Param_Error:"参数错误",No_File_Selected:"请选择文件",Wrong_File_Type:"文件类型错误",File_Too_Large:"文件过大",Cross_Origin_Iframe:"不能获取跨域Iframe的内容",Not_Support:"不支持",NO_DB:"无数据库",DB:"数据库错误",Still_In_Team:"还在群里",Session_Exist:"会话已存在",Session_Not_Exist:"会话不存在",Error_Unknown:"未知错误",Operation_Canceled:"操作取消"};[200,406,808,810].forEach((function(e){a[e]=null})),o.genError=function(e){var t=a[e];return void 0===t&&(t="操作失败"),null===t?null:new o(t,e)},o.multiInstance=function(e){return new o("不允许初始化多个实例","Not_Allow_Multi_Instance",e)},o.newNetworkError=function(e){var t="Error_Internet_Disconnected";return new o(a[t],t,e)},o.newConnectError=function(e){var t="Connect_Failed";return new o(a[t]||null,t,e)},o.newConnectionError=function(e){var t="Error_Connection_is_not_Established";return new o(a[t],t,e)},o.newSocketStateError=function(e){var t="Error_Connection_Socket_State_not_Match";return new o(a[t],t,e)},o.newTimeoutError=function(e){var t="Error_Timeout";return new o(a[t],t,e)},o.newFrequencyControlError=function(e){var t=new o(a[416],416,e);return t.from="local",t},o.newParamError=function(e,t){return new o(e||a.Param_Error,"Param_Error",t)},o.newNoFileError=function(e,t){var n="No_File_Selected";return new o(e||a[n],n,t)},o.newWrongFileTypeError=function(e,t){var n="Wrong_File_Type";return new o(e||a[n],n,t)},o.newFileTooLargeError=function(e,t){var n="File_Too_Large";return new o(e||a[n],n,t)},o.newCORSIframeError=function(e){var t="Cross_Origin_Iframe";return new o(a[t],t,e)},o.newSupportError=function(e,t,n){return new o("不支持"+e,"Not_Support_"+t,n)},o.newSupportDBError=function(e){return o.newSupportError("数据库","DB",e)},o.noDBError=function(e){return new o(a.NO_DB,"NO_DB",e)},o.newDBError=function(e){return new o(a.DB,"DB",e)},o.newUnknownError=function(e){var t="Error_Unknown";return new o(a[t],t,e)},o.stillInTeamError=function(e){var t="Still_In_Team";return new o(a[t],t,e)},o.sessionExist=function(e){var t="Session_Exist";return new o(a[t],t,e)},o.sessionNotExist=function(e){var t="Session_Not_Exist";return new o(a[t],t,e)},o.cancel=function(e){var t="Operation_Canceled";return new o(a[t],t,e)},o.customError=function(e,t){e=e||"Other_Error";var n="";return(t=t||{}).message||(n=a[e]||e),"object"!==(void 0===e?"undefined":(0,r.default)(e))?new o(n,e,t):new o(n,"Other_Error",void 0===t?e:t)},e.exports=o},function(e,t,n){"use strict";var s=n(17),i=n(6),r=n(1),o=n(255),a=n(48).IM;function c(e){return this.subType="im",this.nosScene=e.nosScene||"im",this.nosSurvivalTime=e.nosSurvivalTime,e.Protocol=i,e.Message=o,e.constructor=c,this.init(e)}c.Protocol=i,c.parser=a,c.use=s.use,c.getInstance=s.getInstance,c.rmAllInstances=s.rmAllInstances,c.genInstanceName=function(e){return"NIM-account-"+e.account};var u=c.fn=c.prototype=Object.create(s.prototype);c.info=u.info=r.info,e.exports=c,n(245),n(229),n(228),n(227),n(226),n(225),n(224),n(223),n(222),n(221),n(220),n(219),n(218),n(217),n(216),n(215),n(214),n(213)},function(e,t,n){var s=n(12),i=n(70),r=n(44),o=Object.defineProperty;t.f=n(10)?Object.defineProperty:function(e,t,n){if(s(e),t=r(t,!0),s(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(24)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var s=n(15);e.exports=function(e){if(!s(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var s=n(9),i=n(27);e.exports=n(10)?function(e,t,n){return s.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var s=n(0),i={init:function(){i.deviceId=s.guid()}};i.init(),i.clientTypeMap={1:"Android",2:"iOS",4:"PC",8:"WindowsPhone",16:"Web",32:"Server",64:"Mac"},i.db={open:function(){}},i.rnfs=null,e.exports=i},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var s=n(3),i=n(5),r=n(38),o=n(13),a=n(11),c=function e(t,n,c){var u,l,d,f=t&e.F,m=t&e.G,p=t&e.S,h=t&e.P,g=t&e.B,v=t&e.W,y=m?i:i[n]||(i[n]={}),b=y.prototype,_=m?s:p?s[n]:(s[n]||{}).prototype;for(u in m&&(c=n),c)(l=!f&&_&&void 0!==_[u])&&a(y,u)||(d=l?_[u]:c[u],y[u]=m&&"function"!=typeof _[u]?c[u]:g&&l?r(d,s):v&&_[u]==d?function(e){var t=function(t,n,s){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,s)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?r(Function.call,d):d,h&&((y.virtual||(y.virtual={}))[u]=d,t&e.R&&b&&!b[u]&&o(b,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(188),a=n(0),c=a.notundef,u=n(186),l=n(1);function d(){}var f={};d.getInstance=function(e){e=p(e),a.verifyOptions(e,"account","api::Base.getInstance");var t=this.genInstanceName(e),n=f[t];return n?d.updateInstance(n,e):n=f[t]=new this(e),n},d.updateInstance=function(e,t){e.setOptions(t),e.connect()};var m=d.fn=d.prototype=Object.create(new o),p=function(e){return e.nosSurvivalTime?(a.verifyParamType("nosSurvivalTime",e.nosSurvivalTime,"number","api::Base.getInstance"),a.verifyParamMin("nosSurvivalTime",e.nosSurvivalTime,86400,"api::Base.getInstance")):e.nosSurvivalTime=1/0,e};m.updatePrivateConf=function(e){if(e&&"object"===(0,r.default)(e.privateConf)){var t=e.privateConf;"string"==typeof t.lbs_web&&(e.lbsUrl=t.lbs_web),"boolean"==typeof t.link_ssl_web&&(e.secure=t.link_ssl_web),"boolean"==typeof t.https_enabled&&(e.httpsEnabled=t.https_enabled),e.uploadUrl=t.nos_uploader_web?t.nos_uploader_web:null,e.chunkUploadUrl=t.nos_uploader_web?t.nos_uploader_web:null,e.replaceUrl=t.nos_downloader?t.nos_downloader:null,e.downloadUrl=t.nos_accelerate?t.nos_accelerate:null,e.downloadHost=t.nos_accelerate_host?t.nos_accelerate_host:null,e.ntServerAddress=t.nt_server||null,e.kibanaServer=t.kibana_server,e.statisticServer=t.statistic_server,e.reportGlobalServer=t.report_global_server,e.ipVersion=t.ip_protocol_version,e.defaultLink=t.link,e.ipv6DefaultLink=t.link_ipv6}return null===e.ntServerAddress||""===e.ntServerAddress?l.ntServerAddress=null:l.ntServerAddress=e.ntServerAddress||l.defaultReportUrl,l.uploadUrl=e.uploadUrl||l.uploadUrl,l.chunkUploadUrl=e.chunkUploadUrl||l.chunkUploadUrl,l.downloadUrl=e.downloadUrl||l.downloadUrl,l.downloadHost=e.downloadHost||l.downloadHost,l.replaceUrl=e.replaceUrl||l.replaceUrl,l.httpsEnabled=e.httpsEnabled||l.httpsEnabled,e.probe_ipv4_url&&(l.ipProbeAddr.ipv4=e.probe_ipv4_url),e.probe_ipv6_url&&(l.ipProbeAddr.ipv6=e.probe_ipv6_url),e},m.init=function(e){a.verifyOptions(e,"account","api::Base.init"),e=this.updatePrivateConf(e);var t=this.account=e.account=e.account+"",n=e.constructor.genInstanceName(e),s=f[n];if(e._disableSingleton&&(s=null),s)return d.updateInstance(s,e),s;this.name=n,f[n]=this,this.logger=e.logger=new u({debug:e.debug,logFunc:e.logFunc,prefix:this.subType}),e.api=this;var i=this.protocol=new e.Protocol(e);return i.name="Protocol-"+n,i.account=t,i.api=this,i.message=this.message=new e.Message({account:t}),this.options=a.copy(e),this.reset(),this},m.destroy=function(e){var t,n=this;e=e||{};var s=this.name;s&&(this.protocol&&(t=this.protocol.reconnectTimer),this.protocol&&this.protocol.resetPush&&this.protocol.resetPush(),this.disconnect({done:function(i){n.logger.warn("ApiBase::destroy: instance destroyed ..."),Object.getOwnPropertyNames(n).forEach((function(e){delete n[e]})),f&&(delete f[s],f[s]=null,clearTimeout(t)),e.done instanceof Function&&e.done(i)}}))},m.reset=function(){var e=this.updatePrivateConf(this.options);a.verifyBooleanWithDefault(e,"exifOrientation",!0,"","api::Base.reset")},m.setOptions=function(e){this.reset(),this.protocol.setOptions(e)},m.processCallback=function(e,t){h(e,t)},m.processCallbackPromise=function(e,t){return new Promise((function(n,s){h(e,t,!0,n,s)}))};var h=function(e,t,n,s,i){var r="api::processCallback";n&&(r="api::processCallbackPromise"),a.verifyCallback(e,"done",r),e.callback=function(o,u,l){var d=e.callback.options;if(u=u||d,t&&(u=d),a.isFunction(e.cbaop)){var f=e.cbaop(o,u);c(f)&&(u=f)}var m=e.done;a.isObject(u)&&(delete u.done,delete u.cb,delete u.callback),n?o?i({message:"生成接口回调错误",callFunc:r,event:o}):s(u):m(o,u,l)},e.callback.options=a.copy(e)};m.processPs=function(e){a.notexist(e.ps)&&(e.ps=""),a.verifyArrayMax("ps",e.ps,5e3)},m.processCustom=function(e){a.notexist(e.custom)&&(e.custom="")},m.sendCmd=function(){this.protocol.sendCmd.apply(this.protocol,arguments)},m.sendCmdWithResp=function(e,t,n){this.sendCmd(e,t,(function(e,t,s){a.isFunction(n)&&(e?n(e,t):n(null,s))}))},m.cbAndSendCmd=function(e,t){var n=this.processCallbackPromise(t);return this.sendCmd(e,t),n},m.sendCmdUsePromise=function(e,t){var n=this;return new Promise((function(s,i){n.sendCmd(e,t,(function(e,t,n){if(e)i(e);else{var r=a.merge({},t,n);s(r)}}))}))},d.use=function(e,t){e&&e.install&&a.isFunction(e.install)&&e.install(this,t)},d.rmAllInstances=function(){for(var e in f)f[e].destroy();f={}},m.logout=function(e){e=e||{},this.protocol.shouldReconnect=!1,this.protocol.doLogout=!0,this.processCallback(e),this.sendCmd("logout",e,e.callback)},e.exports=d,n(185),n(184),n(174),n(173),n(172),n(171),n(170)},function(e,t,n){var s=n(73),i=n(45);e.exports=function(e){return s(i(e))}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.url2origin=t.uniqueID=t.off=t.removeEventListener=t.on=t.addEventListener=t.format=t.regWhiteSpace=t.regBlank=t.emptyFunc=t.f=t.emptyObj=t.o=void 0;var s,i,r,o=n(2),a=(s=o)&&s.__esModule?s:{default:s};function c(){return"undefined"!=typeof window?window:void 0!==e?e:{}}function u(e,t){t=t||2;for(var n=""+e;n.length<t;)n="0"+n;return n}function l(e){return""+e.getFullYear()}function d(e){return u(e.getMonth()+1)}function f(e){return u(e.getDate())}function m(e){return u(e.getHours())}function p(e){return u(e.getMinutes())}function h(e){return u(e.getSeconds())}function g(e){return u(e.getMilliseconds(),3)}function v(e){return Object.prototype.toString.call(e).slice(8,-1)}function y(e){return v(e).toLowerCase()}function b(e){return"string"===y(e)}function _(e){return"array"===y(e)}function T(e){return"function"===y(e)}function S(e){return"date"===y(e)}function C(e){return null===e}function M(e){return null!==e}function w(e){return void 0===e}function k(e){return void 0!==e}function I(e){return k(e)&&M(e)}function O(e){return w(e)||C(e)}function P(e){return I(e)&&"object"===y(e)}t.getGlobal=c,t.detectCSSFeature=function(e){var t=!1,n="Webkit Moz ms O".split(" ");if("undefined"!=typeof document){var s=document.createElement("div"),i=null;if(e=e.toLowerCase(),void 0!==s.style[e]&&(t=!0),!1===t){i=e.charAt(0).toUpperCase()+e.substr(1);for(var r=0;r<n.length;r++)if(void 0!==s.style[n[r]+i]){t=!0;break}}return t}__f__("log","error:fn:detectCSSFeature document is undefined"," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1")},t.fix=u,t.getYearStr=l,t.getMonthStr=d,t.getDayStr=f,t.getHourStr=m,t.getMinuteStr=p,t.getSecondStr=h,t.getMillisecondStr=g,t.dateFromDateTimeLocal=function(e){return e=""+e,new Date(e.replace(/-/g,"/").replace("T"," "))},t.getClass=v,t.typeOf=y,t.isString=b,t.isNumber=function(e){return"number"===y(e)},t.isBoolean=function(e){return"boolean"===y(e)},t.isArray=_,t.isFunction=T,t.isDate=S,t.isRegExp=function(e){return"regexp"===y(e)},t.isError=function(e){return"error"===y(e)},t.isnull=C,t.notnull=M,t.undef=w,t.notundef=k,t.exist=I,t.notexist=O,t.isObject=P,t.isEmpty=function(e){return O(e)||(b(e)||_(e))&&0===e.length},t.containsNode=function(e,t){if(e===t)return!0;for(;t.parentNode;){if(t.parentNode===e)return!0;t=t.parentNode}return!1},t.calcHeight=function(e){var t=e.parentNode||("undefined"==typeof document?null:document.body);if(!t)return 0;(e=e.cloneNode(!0)).style.display="block",e.style.opacity=0,e.style.height="auto",t.appendChild(e);var n=e.offsetHeight;return t.removeChild(e),n},t.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.dataset=function(e,t,n){if(!I(n))return e.getAttribute("data-"+t);e.setAttribute("data-"+t,n)},t.target=function(e){return e.target||e.srcElement},t.createIframe=function(e){if("undefined"!=typeof document){var t;if((e=e||{}).name)try{(t=document.createElement('<iframe name="'+e.name+'"></iframe>')).frameBorder=0}catch(n){(t=document.createElement("iframe")).name=e.name}else t=document.createElement("iframe");e.visible||(t.style.display="none"),T(e.onload)&&j(t,"load",(function n(s){t.src&&(e.multi||R(t,"load",n),e.onload(s))})),(e.parent||document.body).appendChild(t);var n=e.src||"about:blank";return setTimeout((function(){t.src=n}),0),t}},t.html2node=function(e){if("undefined"!=typeof document){var t=document.createElement("div");t.innerHTML=e;var n=[],s=void 0,i=void 0;if(t.children)for(s=0,i=t.children.length;s<i;s++)n.push(t.children[s]);else for(s=0,i=t.childNodes.length;s<i;s++){var r=t.childNodes[s];1===r.nodeType&&n.push(r)}return n.length>1?t:n[0]}},t.scrollTop=function(e){return"undefined"!=typeof document&&I(e)&&(document.documentElement.scrollTop=document.body.scrollTop=e),window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.forOwn=E,t.mixin=L,t.isJSON=D,t.parseJSON=function e(t){try{D(t)&&(t=JSON.parse(t)),P(t)&&E(t,(function(n,s){switch(y(s)){case"string":case"object":t[n]=e(s)}}))}catch(e){__f__("log","error:",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1")}return t},t.simpleClone=function(e){var t=[],n=JSON.stringify(e,(function(e,n){if("object"===(void 0===n?"undefined":(0,a.default)(n))&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n}));return JSON.parse(n)},t.merge=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.forEach((function(t){L(e,t)})),e},t.fillUndef=function(e,t){return E(t,(function(t,n){w(e[t])&&(e[t]=n)})),e},t.checkWithDefault=function(e,t,n){var s=e[t]||e[t.toLowerCase()];return O(s)&&(s=n,e[t]=s),s},t.fetch=function(e,t){return E(e,(function(n,s){I(t[n])&&(e[n]=t[n])})),e},t.string2object=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n={};return e.split(t).forEach((function(e){var t=e.split("="),s=t.shift();s&&(n[decodeURIComponent(s)]=decodeURIComponent(t.join("=")))})),n},t.object2string=N,t.genUrlSep=function(e){return e.indexOf("?")<0?"?":"&"},t.object2query=function(e){return N(e,"&",!0)},t.isFileInput=U,t.getKeys=function(e,t){var n=Object.keys(e);return t&&n.sort((function(t,n){var s=U(e[t]),i=U(e[n]);return s===i?0:s?1:-1})),n},t.o={},t.emptyObj={},t.f=function(){},t.emptyFunc=function(){},t.regBlank=/\s+/gi,t.regWhiteSpace=/\s+/gi,t.format=(i=/yyyy|MM|dd|hh|mm|ss|SSS/g,r={yyyy:l,MM:d,dd:f,hh:m,mm:p,ss:h,SSS:g},function(e,t){return e=new Date(e),isNaN(+e)?"invalid date":(t=t||"yyyy-MM-dd").replace(i,(function(t){return r[t](e)}))});var x,A=t.addEventListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},j=t.on=A,$=t.removeEventListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},R=t.off=$;function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments[2];for(var s in e)e.hasOwnProperty(s)&&t.call(n,s,e[s])}function L(e,t){E(t,(function(t,n){e[t]=n}))}function D(e){return b(e)&&0===e.indexOf("{")&&e.lastIndexOf("}")===e.length-1}function N(e,t,n){if(!e)return"";var s=[];return E(e,(function(e,t){T(t)||(S(t)?t=t.getTime():_(t)?t=t.join(","):P(t)&&(t=JSON.stringify(t)),n&&(t=encodeURIComponent(t)),s.push(encodeURIComponent(e)+"="+t))})),s.join(t||",")}function U(e){var t=c();return e.tagName&&"INPUT"===e.tagName.toUpperCase()||t.Blob&&e instanceof t.Blob}t.uniqueID=(x=0,function(){return""+x++}),t.url2origin=function(){var e=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(t){return e.test(t||"")?RegExp.$1.toLowerCase():""}}()}).call(this,n(51))},function(e,t,n){"use strict";var s=n(297);s.fn=s.prototype,e.exports=s,n(296),n(295),n(294),n(293),n(292),n(291),n(290),n(289),n(288),n(287),n(286)},function(e,t,n){"use strict";var s=n(49),i=n(177),r=n(176),o=n(175);s.json=i,s.upload=r,s.chunkUpload=o,e.exports=s},function(e,t,n){"use strict";t.__esModule=!0;var s,i=n(72),r=(s=i)&&s.__esModule?s:{default:s};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,r.default)(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var s=n(0),i=n(1),r=n(84),o=n(7);function a(e){s.undef(e.secure)&&(e.secure=!0),this.options=s.copy(e),this.keepNosSafeUrl=this.options.keepNosSafeUrl||!1;var t=e.defaultLink||e.defaultLinkUrl;s.notundef(t)&&s.isString(t)&&(i.optionDefaultLinkUrl=t.trim()),s.notundef(e.ipv6DefaultLink)&&s.isString(e.ipv6DefaultLink)&&(i.optionIpv6DefaultLinkUrl=e.ipv6DefaultLink),this.init(),this.connect()}var c=a.fn=a.prototype;c.init=function(){this.logger=this.options.logger,this.getNosOriginUrlReqNum=0,this.checkNosReqNum=0,this.cmdTaskArray=[],this.timerMap={},this.cmdCallbackMap={},this.cmdContentMap={},this.initConnect(),this.reset()},c.reset=function(){this.resetConnect()},c.setOptions=function(e){var t=this.options,n=Object.keys(t),i=n.indexOf("account");-1!==i&&n.splice(i,1),e=s.filterObj(e,n),this.options=s.merge(t,e),this.reset()},c.sendCmd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];this.heartbeat(),"heartbeat"!==e&&this.logger.warn("protocol::sendCmd: "+e,t);var s,i=e,r=(e=this.parser.createCmd(e,t)).SER;t=t||{},this.cmdContentMap[r]=t,t.single&&(delete t.single,1===(s=Object.keys(t)).length&&(this.cmdContentMap[r]=t[s[0]])),t.NOTSTORE&&((s=t.NOTSTORE.split(" ")).forEach((function(e){delete t[e]})),delete t.NOTSTORE),(n=n||t.callback)&&(this.cmdCallbackMap[r]=n),this.cmdTaskArray.push({cmdName:i,cmd:JSON.stringify(e)}),this.startCmdTaskTimer()},c.startCmdTaskTimer=function(){var e=this;e.cmdTaskTimer||(e.cmdTaskTimer=setTimeout((function(){var t=e.cmdTaskArray.shift();e.cmdTaskTimer=null,t&&e.executeCmdTask(t),e.cmdTaskArray.length&&e.startCmdTaskTimer()}),0))},c.executeCmdTask=function(e){var t=e.cmdName,n=e.cmd,s=(n=JSON.parse(n)).SER;this.isFrequencyControlled(t)?(this.logger.warn("protocol::executeCmdTask: "+t+" hit freq control"),this.markCallbackInvalid(s,o.newFrequencyControlError({callFunc:"protocol::executeCmdTask",message:t+" hit freq control"}))):this.isConnected()?("heartbeat"!==t&&this.logger.log("protocol::sendCmd: "+t+" "+JSON.stringify(n)),this.doSendCmd(n)):(this.logger.warn("protocol::executeCmdTask: "+t+" not connected"),this.markCallbackInvalid(s,o.newSocketStateError({callFunc:"protocol::executeCmdTask",message:t+" not connected"})))},c.isFrequencyControlled=function(e){var t=this.frequencyControlMap&&this.frequencyControlMap[e];if(t){if(Date.now()<t.from+t.duration)return!0;delete this.frequencyControlMap[e]}},c.doSendCmd=function(e){var t=this,n=e.SER;function s(){t.markCallbackInvalid(n,o.newSocketStateError({callFunc:"protocol::doSendCmd",message:"ser "+n+" socketSendJson Error"})),t.onDisconnect(!0,"protocol::doSendCmd:socketSendJson")}t.timerMap[n]=setTimeout((function(){t.markCallbackInvalid(n,o.newTimeoutError({callFunc:"protocol::doSendCmd",message:"ser "+n+" Timeout Error"}))}),i.cmdTimeout);try{t.socket&&t.socket.send?t.socket.send(JSON.stringify(e)):s()}catch(e){s()}},c.getObjWithSer=function(e){var t=this.cmdContentMap[e];return t&&!t.isImSyncDataObj&&delete this.cmdContentMap[e],t&&s.copy(t)},c.getCallbackWithSer=function(e){var t=this.cmdCallbackMap[e];return t&&!t.isImSyncDataCb&&delete this.cmdCallbackMap[e],t},c.getTimerWithSer=function(e){var t=this.timerMap[e];return delete this.timerMap[e],t},c.clearTimerWithSer=function(e){var t=this.getTimerWithSer(e);t&&clearTimeout(t)},c.markCallbackInvalid=function(e,t){this.getObjWithSer(e),this.clearTimerWithSer(e);var n=this.getCallbackWithSer(e);if(n){var s=n.options;setTimeout((function(){n(t||o.newUnknownError({ser:e}),s)}),0)}},c.markAllCallbackInvalid=function(e){var t=this;Object.keys(this.cmdCallbackMap).forEach((function(n){t.markCallbackInvalid(n,e)}))},c.getPacketObj=function(e){var t=null;if(e&&e.raw){var n=e.raw.ser;s.notundef(n)&&(t=this.getObjWithSer(n))}return t},c.callPacketAckCallback=function(e){var t=this;if(e&&e.raw){var n=e.raw.ser;if(s.notundef(n)){t.clearTimerWithSer(n);var i=t.getCallbackWithSer(n);i&&(i.originUrl&&e.obj&&e.obj.file&&(e.obj.file._url_safe=e.obj.file.url,e.obj.file.url=i.originUrl,"audio"===e.obj.type&&(e.obj.file.mp3Url=i.originUrl+(~i.originUrl.indexOf("?")?"&":"?")+"audioTrans&type=mp3")),e.promise?e.promise.then((function(){i(e.error,e.obj)}),(function(s){s.callFunc="protocol::callPacketAckCallback",s.message="Resp Promoise Error: cmd: "+e.cmd+", ser: "+n;var r=o.customError("CALLBACK_ACK_ERR",s);t.logger.error("protocol::callPacketAckCallback: promise error "+JSON.stringify(s)),i(r,e.obj,e.content)})):i(e.error,e.obj,e.content))}}},c.onMessage=function(e){var t=this;t.heartbeat(),t.parser.parseResponse(e).then((function(e){if(e.notFound&&t.logger.warn("protocol::onMessage: packet not found "+JSON.stringify(e)),e.error){e.error.message=e.cmd+" error: "+e.error.message,t.logger.error("protocol::onMessage: packet error "+JSON.stringify(e.error));var n=e.raw||{};408!==n.code&&415!==n.code&&500!==n.code||r.saveErrEvent({code:n.code,module:e.cmd,accid:t.account})}else e.content||"heartbeat"===e.cmd||t.logger.warn("protocol::onMessage: packet.content undefined "+JSON.stringify(e));e.frequencyControlDuration&&(t.logger.error("protocol::onMessage: server freq control "+JSON.stringify(e.cmd)),t.frequencyControlMap=t.frequencyControlMap||{},t.frequencyControlMap[e.cmd]={from:+new Date,duration:e.frequencyControlDuration}),e.obj=t.getPacketObj(e),"heartbeat"!==e.cmd&&"getClientAntispam"!==e.cmd&&t.logger.log("protocol::recvCmd: "+e.cmd+" "+e.rawStr);var i="process"+s.capFirstLetter(e.service);if(t[i])if("heartbeat"!==e.cmd&&t.logger.warn("protocol::recvCmd: "+e.cmd+" "+i,e.content),"syncDone"===e.cmd){if(t.cmdCallbackMap[e.raw.ser]&&t.cmdCallbackMap[e.raw.ser].isImSyncDataCb){t.cmdCallbackMap[e.raw.ser].isImSyncDataCb=!1;var o=function(e,t){this.checkNosReqNum++,this.getNosOriginUrlReqNum<=0||this.checkNosReqNum>=20?this[e](t):setTimeout(o,300)}.bind(t,i,e);setTimeout((function(){o.call(t,i,e)}),10)}}else t[i](e);else t.logger.warn("protocol::onMessage: "+i+" not found");t.callPacketAckCallback(e)}))},c.onMiscError=function(e,t,n){t&&this.notifyError(e,t,n)},c.onCustomError=function(e,t){var n=o.customError(e,t),s=t.message||"未知错误";this.onMiscError(s,n)},c.notifyError=function(e,t,n){this.isConnected()&&(this.logger.error((e||"")+" "+this.name,t,n),this.options.onerror(t,n))},c.emitAPI=function(e){var t=e.type,n=e.obj;this.api.emit(t,n)},e.exports=a,n(169),n(166),n(161),n(160),n(159)},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,s=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+s).toString(36))}},function(e,t,n){"use strict";var s=n(1),i={genUrlSep:function(e){return-1===(e=""+e).indexOf("?")?"?imageView&":"&"},urlQuery2Object:function(e){if("[object String]"!==Object.prototype.toString.call(e)||""===e)return{};var t=e.indexOf("?");if(-1!==t){var n=e.slice(t+1).split("&"),s={};return n.forEach((function(e){if(~e.indexOf("=")){var t=e.split("=");s[t[0]]=decodeURIComponent(t[1])}else s[e]=""})),s}},url2object:function(e){"[object String]"!==Object.prototype.toString.call(e)&&(e="");var t=(e=e||"").indexOf("https")>=0?"https://":"http://",n=e.replace(t,"");n.indexOf("?")>=0&&(n=n.substring(0,n.indexOf("?")));var s=n.split("/");n=s[0];var i="";if(s.length>0&&(i=s.slice(1).join("/")),-1===e.indexOf("?"))return{protocol:t,hostname:n,path:i,query:{}};var r=e.substr(e.indexOf("?")+1).split("&"),o={};return r.forEach((function(e){if(e.indexOf("=")>0){var t=e.split("=");o[t[0]]=decodeURIComponent(t[1])}else o[e]=""})),{protocol:t,hostname:n,path:i,query:o}},object2url:function(e){var t=e.protocol,n=e.hostname,s=e.path,i=e.query;t=t||"http://",n=n||"",s&&(n=n+"/"+s),i=i||{};var r=[];for(var o in i)"imageView"!==o&&r.push(o+"="+encodeURIComponent(i[o]));return r.length>0?""+t+n+"?imageView&"+r.join("&"):""+t+n},genPrivateUrl:function(e){var t=i.url2object(e),n=t.hostname,r=t.path,o=s.downloadHost,a=s.downloadUrl;if(n===o){var c=r.indexOf("/");if(-1!==c){var u=r.substring(0,c),l=r.substring(c+1);return a.replace("{bucket}",u).replace("{object}",l)}}else if(n&&"[object String]"==Object.prototype.toString.call(n)&&~n.indexOf(o)){var d=t.path,f=d.indexOf(".");if(-1!==f){var m=d.substring(0,f),p=d;return a.replace("{bucket}",m).replace("{object}",p)}}return e}};e.exports=i},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var s=n(68),i=n(41);e.exports=Object.keys||function(e){return s(e,i)}},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(29),a=n(0),c=a.notundef,u=a.exist,l=n(61),d=n(82),f=d.typeMap;function m(e){e.resend?(a.verifyOptions(e,"idClient","msg::Message"),this.idClient=e.idClient):this.idClient=a.guid(),this.type=f[e.type],this.resend=e.resend?1:0,c(e.custom)&&("object"===(0,r.default)(e.custom)?this.custom=JSON.stringify(e.custom):this.custom=""+e.custom),c(e.text)&&(this.body=""+e.text),c(e.body)&&(this.body=""+e.body),c(e.yidunEnable)&&(this.yidunEnable=e.yidunEnable?1:0),c(e.antiSpamUsingYidun)&&(this.antiSpamUsingYidun=e.antiSpamUsingYidun?1:0),c(e.antiSpamContent)&&("object"===(0,r.default)(e.antiSpamContent)?this.antiSpamContent=JSON.stringify(e.antiSpamContent):this.antiSpamContent=""+e.antiSpamContent),c(e.antiSpamBusinessId)&&("object"===(0,r.default)(e.antiSpamBusinessId)?this.antiSpamBusinessId=JSON.stringify(e.antiSpamBusinessId):this.antiSpamBusinessId=""+e.antiSpamBusinessId),c(e.skipHistory)&&(this.skipHistory=e.skipHistory?1:0),c(e.highPriority)&&(this.highPriority=e.highPriority?1:0),c(e.clientAntiSpam)&&(this.clientAntiSpam=e.clientAntiSpam?1:0)}m.validTypes=d.validTypes,a.merge(m.prototype,d.prototype),m.getType=d.getType,m.reverse=function(e){var t=a.filterObj(e,"chatroomId idClient from fromNick fromAvatar _fromAvatar_safe fromCustom userUpdateTime custom status");return c(t.fromAvatar)&&(t.fromAvatar=(0,o.genPrivateUrl)(t.fromAvatar)),t=a.merge(t,{fromClientType:l.reverseType(e.fromClientType),time:+e.time,type:m.getType(e),text:u(e.body)?e.body:e.text||"",resend:1==+e.resend}),c(t.userUpdateTime)&&(t.userUpdateTime=+t.userUpdateTime),t.status=t.status||"success",t},m.setExtra=function(e,t){d.setFlow(e,t)},e.exports=m},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(0),a=o.undef,c=o.notundef,u=o.exist,l=n(61),d=n(82),f="#%@all@%#",m={p2p:0,team:1,superTeam:5},p={0:"p2p",1:"team",5:"superTeam"},h=Object.keys(m),g=d.typeMap,v=d.validTypes;function y(e){o.verifyOptions(e,"scene to type","msg::Message"),o.verifyParamValid("scene",e.scene,h,"msg::Message"),this.scene=m[e.scene],this.to=""+e.to,this.type=g[e.type],this.resend=e.resend?1:0,e.resend?(o.verifyOptions(e,"idClient","msg::Message"),this.idClient=e.idClient):this.idClient=o.guid(),c(e.text)&&(this.body=""+e.text),c(e.custom)&&("object"===(0,r.default)(e.custom)?this.custom=JSON.stringify(e.custom):this.custom=""+e.custom),c(e.body)&&(this.body=""+e.body),c(e.pushContent)&&(this.pushContent=""+e.pushContent),c(e.pushPayload)&&(this.pushPayload=""+e.pushPayload);var t=e.apns;if(c(t)&&"team"===e.scene){var n=t.accounts;c(n)&&o.verifyParamType("apns.accounts",n,"array","msg::Message"),this.apnsAccounts=n?JSON.stringify(n):f,this.apnsContent=t.content||e.pushContent||"",o.verifyBooleanWithDefault(t,"forcePush",!0,"options.apns","msg::Message"),this.apnsForcePush=t.forcePush?1:0}c(e.isHistoryable)&&(this.isHistoryable=e.isHistoryable?1:0),c(e.isRoamingable)&&(this.isRoamingable=e.isRoamingable?1:0),c(e.isSyncable)&&(this.isSyncable=e.isSyncable?1:0),c(e.cc)&&(this.cc=e.cc?1:0),c(e.isPushable)&&(this.isPushable=e.isPushable?1:0),c(e.isOfflinable)&&(this.isOfflinable=e.isOfflinable?1:0),c(e.isUnreadable)&&(this.isUnreadable=e.isUnreadable?1:0),c(e.needPushNick)&&(this.needPushNick=e.needPushNick?1:0),c(e.needMsgReceipt)&&(this.needMsgReceipt=e.needMsgReceipt?1:0),c(e.yidunEnable)&&(this.yidunEnable=e.yidunEnable?1:0),c(e.needUpdateSession)&&(this.needUpdateSession=!1===e.needUpdateSession?0:1),c(e.antiSpamUsingYidun)&&(this.antiSpamUsingYidun=e.antiSpamUsingYidun?1:0),c(e.clientAntiSpam)&&(this.clientAntiSpam=e.clientAntiSpam?1:0),c(e.antiSpamContent)&&("object"===(0,r.default)(e.antiSpamContent)?this.antiSpamContent=JSON.stringify(e.antiSpamContent):this.antiSpamContent=""+e.antiSpamContent),c(e.antiSpamBusinessId)&&("object"===(0,r.default)(e.antiSpamBusinessId)?this.antiSpamBusinessId=JSON.stringify(e.antiSpamBusinessId):this.antiSpamBusinessId=""+e.antiSpamBusinessId)}o.merge(y.prototype,d.prototype),y.prototype.getScene=function(){return p[this.scene]},y.getType=d.getType,y.reverse=function(e){var t={scene:p[e.scene]||e.scene,from:e.from,fromNick:e.fromNick,fromClientType:l.reverseType(e.fromClientType),fromDeviceId:e.fromDeviceId,to:""+e.to,time:+e.time,type:y.getType(e),text:u(e.body)?e.body:e.text||"",isHistoryable:a(e.isHistoryable)||1==+e.isHistoryable,isRoamingable:a(e.isRoamingable)||1==+e.isRoamingable,isSyncable:a(e.isSyncable)||1==+e.isSyncable,cc:a(e.cc)||1==+e.cc,isPushable:a(e.isPushable)||1==+e.isPushable,isOfflinable:a(e.isOfflinable)||1==+e.isOfflinable,isUnreadable:a(e.isUnreadable)||1==+e.isUnreadable,isReplyMsg:a(e.isReplyMsg)||1==+e.isReplyMsg,needPushNick:a(e.needPushNick)||1==+e.needPushNick,needMsgReceipt:1==+e.needMsgReceipt,isLocal:!1};if(e.isInBlackList&&(t.isInBlackList=1==+e.isInBlackList),c(e.isMuted)&&(t.isMuted=1==+e.isMuted),c(e.resend)&&(t.resend=1==+e.resend),c(e.idClient)&&(t.idClient=e.idClient),c(e.idServer)&&(t.idServer=""+e.idServer),c(e.userUpdateTime)&&(t.userUpdateTime=+e.userUpdateTime),c(e.custom)&&(t.custom=e.custom),c(e.pushContent)&&(t.pushContent=e.pushContent),c(e.pushPayload)&&(t.pushPayload=e.pushPayload),c(e.tempTeamMemberCount)&&(t.tempTeamMemberCount=+e.tempTeamMemberCount),c(e.apnsAccounts)){if(t.apns={},e.apnsAccounts!==f){var n=e.apnsAccounts;try{t.apns.accounts=JSON.parse(n)}catch(e){t.apns.accounts=[]}}t.apns.content=e.apnsContent||"",t.apns.forcePush=1==+e.apnsForcePush}return t.status=e.status||"success",c(e.filter)&&(t.filter=e.filter),t},y.setExtra=function(e,t){e.target=y.getMsgTarget(e,t),e.sessionId=e.scene+"-"+e.target,d.setFlow(e,t)},y.getMsgTarget=function(e,t){return"p2p"===e.scene?e.to===t?e.from:e.to:"team"===e.scene||"superTeam"===e.scene?e.to:void 0},y.deduplication=function(e){var t,n={},s=[];return e.forEach((function(e){t=e.idClient,n[t]||(n[t]=!0,s.push(e))})),s},y.sortMsgs=function(e){return e=e.slice(0),o.sortObjArray(e,{sortPath:"time"}),e},y.getLastMsg=function(e){return(e=y.sortMsgs(e))[e.length-1]},y.getLastNotIgnoredMsg=function(e){for(var t=null,n=(e=y.sortMsgs(e)).length-1;n>=0;n--)if(!(t=e[n]).ignore)return t;return null},y.getMaxTimetag=function(e){return y.getLastMsg(e).time},y.validScenes=h,y.validTypes=v,e.exports=y},function(e,t,n){"use strict";e.exports={description:"weixin micro app",layout:null,manufacturer:null,name:"weixin",prerelease:null,product:null,ua:"Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko) Weixin/1.9.1",version:"1.9.1",os:{architecture:64,family:"Windows",version:"1.9.1"}}},function(e,t,n){var s=n(9).f,i=n(11),r=n(4)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&s(e,r,{configurable:!0,value:t})}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){var s=n(55);e.exports=function(e,t,n){if(s(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,i){return e.call(t,n,s,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var s=n(3),i=n(5),r=n(37),o=n(40),a=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=r?{}:s.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},function(e,t,n){t.f=n(4)},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var s=n(3),i=s["__core-js_shared__"]||(s["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var s=n(42)("keys"),i=n(28);e.exports=function(e){return s[e]||(s[e]=i(e))}},function(e,t,n){var s=n(15);e.exports=function(e,t){if(!s(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!s(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!s(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!s(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?s:n)(e)}},function(e,t,n){"use strict";var s=n(127)(!0);n(71)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=s(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var s,i=n(29),r=n(0),o=n(7),a=n(104),c=n(158),u=n(157),l=n(156),d=n(155),f=n(154);function m(e){this.mixin(e)}m.prototype=Object.create(function(){}.prototype,{protocol:{value:null,writable:!0,enumerable:!0,configurable:!0}}),m.prototype.setProtocol=function(e){this.protocol=e},m.prototype.mixin=function(e){var t=this;this.configMap=this.configMap||{},["idMap","cmdConfig","packetConfig"].forEach((function(n){t.configMap[n]=r.merge({},t.configMap[n],e.configMap&&e.configMap[n])})),["serializeMap","unserializeMap"].forEach((function(n){t[n]=r.merge({},t[n],e[n])}))},m.prototype.createCmd=(s=1,function(e,t){var n=this,i=this.configMap.cmdConfig[e],o="heartbeat"===e?0:s++;return o>32767&&(o=1,s=2),e={SID:i.sid,CID:i.cid,SER:o},i.params&&(e.Q=[],i.params.forEach((function(s){var i=s.type,o=s.name,a=s.entity,c=t[o];if(!r.undef(c)){switch(i){case"PropertyArray":i="ArrayMable",c=c.map((function(e){return{t:"Property",v:n.serialize(e,a)}}));break;case"Property":c=n.serialize(c,o);break;case"bool":c=c?"true":"false"}e.Q.push({t:i,v:c})}}))),e}),m.prototype.parseResponse=function(e){var t=this;return new Promise((function(n,s){var i=JSON.parse(e),a={raw:i,rawStr:e,error:o.genError(i.code)},c=t.configMap.packetConfig[i.sid+"_"+i.cid];if(!c)return a.notFound={sid:i.sid,cid:i.cid},void n(a);var u=i.r,l="notify"===c.service&&!c.cmd;if(a.isNotify=l,l){var d=i.r[1].headerPacket;if(c=t.configMap.packetConfig[d.sid+"_"+d.cid],u=i.r[1].body,!c)return a.notFound={sid:d.sid,cid:d.cid},void n(a)}if(a.service=c.service,a.cmd=c.cmd,a.error){var f=i.sid+"_"+i.cid;if(l&&(f=d.sid+"_"+d.cid),a.error.cmd=a.cmd,a.error.callFunc="protocol::parseResponse: "+f,416===a.error.code){var m=u[0];m&&(a.frequencyControlDuration=1e3*m)}}var p=!1;a.error&&c.trivialErrorCodes&&(p=-1!==c.trivialErrorCodes.indexOf(a.error.code));var h=[];if((!a.error||p)&&c.response){a.content={};var g=function(e,t,n,s){if(e&&"msg"===s||"sysMsg"===s){var i=n.content[s];r.isObject(i)&&!i.idServer&&(i.idServer=""+t.r[0])}};c.response.forEach((function(e,n){var s=u[n];if(!r.undef(s)){var o=e.type,c=e.name,d=e.entity||c;switch(o){case"Property":h.push(t.unserialize(s,d).then(function(e,t,n,s,i){n.content[s]=i,g(e,t,n,s)}.bind(this,l,i,a,c)));break;case"PropertyArray":a.content[c]=[],s.forEach((function(e,n){h.push(t.unserialize(e,d).then(function(e,t,s){e.content[t][n]=s}.bind(this,a,c)))}));break;case"KVArray":a.content[c]=s,g(l,i,a,c);break;case"long":case"Long":case"byte":case"Byte":case"Number":a.content[c]=+s;break;default:a.content[c]=s,g(l,i,a,c)}}}))}Promise.all(h).then((function(){n(a)}))}))},m.prototype.serialize=function(e,t){var n=this.serializeMap[t],s={};for(var i in n)e.hasOwnProperty(i)&&(s[n[i]]=e[i]);return s},m.prototype.matchNosSafeUrl=function(e){if(!r.isString(e)||!~e.indexOf("_im_url=1"))return!1;var t=(0,i.urlQuery2Object)(e);return!(!t||!t._im_url||1!=t._im_url)},m.prototype.getOneNosOriginUrl=function(e,t,n){var s=this;return new Promise((function(i,r){s.protocol.getNosOriginUrlReqNum++,s.protocol.sendCmd("getNosOriginUrl",{nosFileUrlTag:{safeUrl:e}},(function(e,r,o){s.protocol.getNosOriginUrlReqNum--,e?__f__("warn","error: get nos originUrl failed",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"):(t["_"+n+"_safe"]=t[n],t[n]=o.nosFileUrlTag&&o.nosFileUrlTag.originUrl),i()}))}))},m.prototype.checkObjSafeUrl=function(e,t,n){var s=this;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(r.isString(o)){if(this.matchNosSafeUrl(o)){var a=this.getOneNosOriginUrl(o,e,i);t.push(a),n.push(a)}}else r.isObject(o)?this.checkObjSafeUrl(o,t,n):r.isArray(o)&&o.forEach((function(e){r.isObject(e)&&s.checkObjSafeUrl(e,t,n)}))}};var p=["url","avatar","fromAvatar","chatroomAvatar"];m.prototype.unserialize=function(e,t){var n=this;return new Promise((function(s,i){var r=n.unserializeMap[t],o={},a=[];if(e)for(var c in r){var u=[];if(e.hasOwnProperty(c)&&(o[r[c]]=e[c],!n.protocol.keepNosSafeUrl))if("attach"===r[c]&&e[c]&&e[c].indexOf&&~e[c].indexOf("_im_url=1"))try{var l=JSON.parse(e[c]);n.checkObjSafeUrl(l,u,a),Promise.all(u).then(function(e,t){e.attach=JSON.stringify(t)}.bind(n,o,l))}catch(e){__f__("warn",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1")}else~p.indexOf(r[c])&&e[c]&&n.matchNosSafeUrl(e[c])&&a.push(n.getOneNosOriginUrl(e[c],o,r[c]))}Promise.all(a).then((function(e){s(o)}))}))},m.prototype.syncUnserialize=function(e,t){var n=this.unserializeMap[t],s={};if(e)for(var i in n)e.hasOwnProperty(i)&&(s[n[i]]=e[i]);return s};var h=new m({configMap:a,serializeMap:c,unserializeMap:u}),g=new m({configMap:l,serializeMap:d,unserializeMap:f});e.exports={IM:h,Chatroom:g}},function(e,t,n){"use strict";var s=n(19),i=n(181),r=n(179),o=n(178),a={},c=s.f;function u(e){var t=e.upload="multipart/form-data"===(e.headers||s.o)["Content-Type"],n=!1;try{n=(location.protocol+"//"+location.host).toLowerCase()!==s.url2origin(e.url)}catch(e){}return e.cors=n,t||n||e.mode?function(e){var t=e.mode,n=i,a=s.getGlobal();return!a.FormData&&a.document&&(t="iframe"),"iframe"===t&&(n=e.upload?r:o),new n(e)}(e):new i(e)}function l(e,t,n){var s=a[e];if(s){"onload"===t&&s.result&&(n=function(e,t){t={data:t};var n=e.result.headers;return n&&(t.headers=e.req.header(n)),t}(s,n)),function(e){var t=a[e];t&&(t.req.destroy(),delete a[e])}(e);var i={type:t,result:n};c(i),i.stopped||s[t](i.result)}}function d(e,t){var n=s.genUrlSep(e);return t=t||"",s.isObject(t)&&(t=s.object2query(t)),t&&(e+=n+t),e}function f(e,t){t=t||{};var n=s.uniqueID(),i={result:t.result,onload:t.onload||s.f,onerror:t.onerror||s.f};a[n]=i,t.onload=function(e,t){l(e,"onload",t)}.bind(null,n),t.onerror=function(e,t){l(e,"onerror",t)}.bind(null,n),t.query&&(e=d(e,t.query));var r=t.method||"";return r&&!/get/i.test(r)||!t.data||(e=d(e,t.data),t.data=null),t.url=e,i.req=u(t),n}f.filter=function(e){s.isFunction(e)&&(c=e)},f.abort=function(e){var t=a[e];t&&t.req&&t.req.abort()},e.exports=f},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var s=n(0),i=s.notundef,r=s.fillPropertyWithDefault,o={0:"normal",1:"owner",2:"manager"};function a(e){s.verifyOptions(e,"teamId","team::TeamMember"),s.verifyParamAtLeastPresentOne(e,"nickInTeam muteTeam muteNotiType custom","team::TeamMember"),this.teamId=e.teamId,i(e.account)&&(this.account=e.account),i(e.nickInTeam)&&(this.nickInTeam=e.nickInTeam),i(e.muteNotiType)?this.bits=e.muteNotiType:i(e.muteTeam)&&(this.bits=0,e.muteTeam&&(this.bits+=1)),i(e.mute)&&(this.mute=e.mute?1:0),i(e.custom)&&(this.custom=""+e.custom)}a.reverse=function(e){var t=s.copy(e);if(i(t.teamId)&&(t.teamId=""+t.teamId),i(t.type)&&(t.type=o[t.type]),i(t.active)&&(t.active=1==+t.active),i(t.valid)&&(t.valid=1==+t.valid),i(t.mute)&&(t.mute=1==+t.mute),i(t.joinTime)&&(t.joinTime=+t.joinTime),i(t.updateTime)&&(t.updateTime=+t.updateTime),i(t.bits)){var n=t.bits;delete t.bits,t.muteTeam=!!(1&n),t.muteNotiType=n}return i(t.teamId)&&i(t.account)&&(t.id=a.genId(t.teamId,t.account)),t},a.reverseMembers=function(e){return e.map((function(e){return a.reverse(e)}))},a.fillProperties=function(e){var t=r(e,"mute",!1),n=r(e,"custom","");return t||n},a.genId=function(e,t){return e+"-"+t},a.accounts2ids=function(e,t){return t.map((function(t){return a.genId(e,t)}))},a.assembleMembers=function(e,t){return s.isArray(t)||(t=[t]),t.map((function(t){return a.assembleMember(e,t)}))},a.assembleMember=function(e,t){return{id:a.genId(e.teamId,t),account:t,teamId:e.teamId,type:"normal",nickInTeam:"",muteTeam:!1,mute:!1,joinTime:e.memberUpdateTime,updateTime:e.memberUpdateTime,active:!0,valid:!0,invitorAccid:""}},a.assembleOwner=function(e){var t=a.assembleMember(e,e.owner);return t.type="owner",t},e.exports=a},function(e,t,n){n(121);for(var s=n(3),i=n(13),r=n(26),o=n(4)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],l=s[u],d=l&&l.prototype;d&&!d[o]&&i(d,o,u),r[u]=r.Array}},function(e,t,n){var s=n(15),i=n(3).document,r=s(i)&&s(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var s=n(45);e.exports=function(e){return Object(s(e))}},function(e,t,n){var s=n(12),i=n(125),r=n(41),o=n(43)("IE_PROTO"),a=function(){},c=function(){var e,t=n(54)("iframe"),s=r.length;for(t.style.display="none",n(80).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;s--;)delete c.prototype[r[s]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=s(e),n=new a,a.prototype=null,n[o]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";var s=n(25),i=n(0),r=i.undef,o=i.notundef,a=n(1),c=n(48),u=n(135),l=n(99);function d(e){i.verifyOptions(e,"appKey account chatroomId chatroomAddresses","protocol::ChatroomProtocol"),e.isAnonymous||i.verifyOptions(e,"token","protocol::ChatroomProtocol"),i.verifyParamType("chatroomAddresses",e.chatroomAddresses,"array","protocol::ChatroomProtocol"),i.verifyCallback(e,"onconnect onerror onwillreconnect ondisconnect onmsg onmsgs onrobots","protocol::ChatroomProtocol"),s.call(this,e)}var f=s.fn,m=d.fn=d.prototype=Object.create(f);m.init=function(){f.init.call(this),c.Chatroom.setProtocol(this),this.parser=c.Chatroom,this.sendCmd.bind(this),this.syncResult={},this.timetags={},this.msgBuffer=[]},m.reset=function(){var e=this;f.reset.call(e);var t=e.options;r(t.msgBufferInterval)&&(t.msgBufferInterval=300),i.verifyParamType("msgBufferInterval",t.msgBufferInterval,"number","protocol::ChatroomProtocol.reset"),r(t.msgBufferSize)&&(t.msgBufferSize=500),i.verifyParamType("msgBufferSize",t.msgBufferSize,"number","protocol::ChatroomProtocol.reset"),o(t.chatroomAddresses)&&(e.socketUrls=t.chatroomAddresses.map((function(t){return a.formatSocketUrl({url:t,secure:e.options.secure})})),e.socketUrlsBackup=e.socketUrls.slice(0))},m.processChatroom=function(e){switch(e.cmd){case"login":e.error||(e.obj={chatroom:u.reverse(e.content.chatroom),member:l.reverse(e.content.chatroomMember)});break;case"kicked":this.onKicked(e);break;case"logout":break;case"sendMsg":this.onSendMsg(e);break;case"msg":this.onMsg(e);break;case"getChatroomMembers":this.onChatroomMembers(e);break;case"getHistoryMsgs":this.onHistoryMsgs(e);break;case"markChatroomMember":this.onMarkChatroomMember(e);break;case"closeChatroom":break;case"getChatroom":this.onChatroom(e);break;case"updateChatroom":break;case"updateMyChatroomMemberInfo":delete e.obj.chatroomMember;break;case"getChatroomMembersInfo":this.onChatroomMembersInfo(e);break;case"kickChatroomMember":case"updateChatroomMemberTempMute":break;case"queueList":e.error||(e.obj=e.content);break;case"syncRobot":this.onSyncRobot(e)}},m.onChatroom=function(e){e.error||(e.obj.chatroom=u.reverse(e.content.chatroom))},e.exports=d,n(209),n(208),n(207),n(206)},function(e,t,n){"use strict";var s=n(0);function i(){}i.parse=function(e){var t=e.split("|");return{scene:t[0],to:t[1]}},i.genSessionByMsg=function(e){return{id:e.sessionId,scene:e.scene,to:e.target,updateTime:e.time,lastMsg:e}},i.appendLastMsg=function(e){var t=e.lastMsg;e["last"+s.capFirstLetter(t.type)+"Msg"]=t,e["last"+s.capFirstLetter(t.flow)+"Msg"]=t},i.genSessionByMsgs=function(e,t){var n=e.getLastNotIgnoredMsg(t);return n?i.genSessionByMsg(n):null},i.trim=function(e){delete e.msgReceiptSendTime,delete e.msgReceiptServerTime,delete e.ack,delete e.unreadMsgs},i.isComplete=function(e){return e.id&&e.scene&&e.to},e.exports=i},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(0),a=o.undef,c=o.notundef,u=n(48).IM,l=n(62),d=n(52),f={customP2p:100,customTeam:101,customSuperTeam:103,deleteMsgP2p:7,deleteMsgTeam:8,deleteMsgSuperTeam:12,deleteOnewayMsgP2p:13,deleteOnewayMsgTeam:14},m={0:"applyTeam",1:"rejectTeamApply",2:"teamInvite",3:"rejectTeamInvite",5:"friendRequest",6:"deleteFriend",7:"deleteMsgP2p",8:"deleteMsgTeam",12:"deleteMsgSuperTeam",13:"deleteMsgP2pOneWay",14:"deleteMsgTeamOneWay",15:"applySuperTeam",16:"rejectSuperTeamApply",17:"superTeamInvite",18:"rejectSuperTeamInvite",100:"customP2p",101:"customTeam",103:"customSuperTeam",102:"customP2p"},p={1:"addFriend",2:"applyFriend",3:"passFriendApply",4:"rejectFriendApply"},h=["team","superTeam","friend","msg"],g={applyTeam:"team",rejectTeamApply:"team",teamInvite:"team",rejectTeamInvite:"team",applySuperTeam:"superTeam",rejectSuperTeamApply:"superTeam",superTeamInvite:"superTeam",rejectSuperTeamInvite:"superTeam",addFriend:"friend",applyFriend:"friend",passFriendApply:"friend",rejectFriendApply:"friend",deleteFriend:"friend",deleteMsg:"msg"};function v(e){o.verifyOptions(e,"type to","sysmsg::SystemMessage"),o.verifyParamValid("type",e.type,v.validTypes,"sysmsg::SystemMessage"),-1!==e.type.indexOf("custom")&&(o.verifyOptions(e,"content","sysmsg::SystemMessage"),this.attach=e.content,c(e.apnsText)&&(this.apnsText=""+e.apnsText),c(e.pushPayload)&&("object"===(0,r.default)(e.pushPayload)?this.pushPayload=JSON.stringify(e.pushPayload):this.pushPayload=""+e.pushPayload),c(e.sendToOnlineUsersOnly)&&(this.sendToOnlineUsersOnly=e.sendToOnlineUsersOnly?0:1),c(e.cc)&&(this.cc=e.cc?1:0),c(e.isPushable)&&(this.isPushable=e.isPushable?1:0),c(e.isUnreadable)&&(this.isUnreadable=e.isUnreadable?1:0),c(e.needPushNick)&&(this.needPushNick=e.needPushNick?1:0)),this.time=e.time||+new Date,this.type=f[e.type],this.to=e.to,c(e.from)&&(this.from=e.from),c(e.ps)&&(this.ps=e.ps),c(e.deletedIdClient)&&(this.deletedIdClient=e.deletedIdClient),c(e.deletedIdServer)&&(this.deletedIdServer=e.deletedIdServer),c(e.opeAccount)&&(this.opeAccount=e.opeAccount),c(e.yidunEnable)&&(this.yidunEnable=e.yidunEnable?1:0),c(e.antiSpamContent)&&("object"===(0,r.default)(e.antiSpamContent)?this.antiSpamContent=JSON.stringify(e.antiSpamContent):this.antiSpamContent=""+e.antiSpamContent),c(e.antiSpamBusinessId)&&("object"===(0,r.default)(e.antiSpamBusinessId)?this.antiSpamBusinessId=JSON.stringify(e.antiSpamBusinessId):this.antiSpamBusinessId=""+e.antiSpamBusinessId),this.idClient=e.idClient||o.guid()}v.validTypes=Object.keys(f).concat(Object.keys(g)),v.validCategories=["team","friend"],v.isCustom=function(e){return"custom"===e.type},v.reverse=function(e){var t={time:+e.time,to:e.to,type:m[e.type]};if(c(e.from)&&(t.from=e.from),c(e.idServer)&&(t.idServer=""+e.idServer),c(e.deletedIdClient)&&(t.deletedIdClient=e.deletedIdClient),c(e.deletedIdServer)&&(t.deletedIdServer=""+e.deletedIdServer),c(e.deletedMsgTime)&&(t.deletedMsgTime=+e.deletedMsgTime),c(e.deletedMsgFromNick)&&(t.deletedMsgFromNick=""+e.deletedMsgFromNick),c(e.opeAccount)&&(t.opeAccount=e.opeAccount),c(e.ps)&&(t.ps=e.ps),e.attach=e.attach?""+e.attach:"","customP2p"===t.type||"customTeam"===t.type||"customSuperTeam"===t.type)t.content=e.attach,c(e.apnsText)&&(t.apnsText=e.apnsText),c(e.pushPayload)&&(t.pushPayload=e.pushPayload),o.merge(t,{sendToOnlineUsersOnly:a(e.sendToOnlineUsersOnly)||0==+e.sendToOnlineUsersOnly,cc:a(e.cc)||1==+e.cc,isPushable:a(e.isPushable)||1==+e.isPushable,isUnreadable:a(e.isUnreadable)||1==+e.isUnreadable,needPushNick:c(e.needPushNick)&&1==+e.needPushNick}),t.scene=t.type.slice(6).toLowerCase(),t.type="custom";else if(0===t.type.indexOf("deleteMsg")){var n=t.type.toLowerCase();n.indexOf("p2p")>-1?t.scene="p2p":n.indexOf("superteam")>-1?t.scene="superTeam":n.indexOf("team")>-1&&(t.scene="team"),t.type="deleteMsg"}else{if(e.attach){t.attach={};var s=JSON.parse(e.attach);c(s.vt)?(t.type=p[s.vt],delete t.attach):(c(s.tinfo)&&(t.attach.team=l.reverse(u.syncUnserialize(s.tinfo,"team"))),c(s.tlist)&&(t.attach.member=d.reverse(u.syncUnserialize(s.tlist,"teamMember"))),c(s.attach)&&(t.attach.custom=s.attach))}t.category=g[t.type],t.read=!1,t.state="init"}return c(e.cc)&&(t.cc=1==+e.cc),t.status=e.status||"success",c(e.filter)&&(t.filter=e.filter),t},v.reverseSysMsgs=function(e,t){var n=(t=t||{}).mapper,s=o.isFunction(n);return e.map((function(e){return e=v.reverse(e),s&&(e=n(e)),e}))},v.completeUnread=function(e){var t;return e=e||{},h.forEach((function(t){delete e[t]})),Object.keys(g).forEach((function(n){e[n]=e[n]||0,e[n]<0&&(e[n]=0),e[t=g[n]]=e[t]||0,e[t]=e[t]+e[n]})),e.total=0,h.forEach((function(t){e.total+=e[t]})),e},e.exports=v},function(e,t,n){"use strict";var s,i=n(14),r=((s=i)&&s.__esModule?s:{default:s}).default.clientTypeMap;function o(){}o.reverse=function(e){var t=e;return t.type=r[t.type],t},o.reverseType=function(e){return r[e]||e},e.exports=o},function(e,t,n){"use strict";var s=n(0),i=s.notundef,r=s.fillPropertyWithDefault,o=Object.keys,a={},c={},u=[],l={},d={normal:0,advanced:1},f={0:"normal",1:"advanced"},m=o(d),p=a.joinMode={noVerify:0,needVerify:1,rejectAll:2};c.joinMode={0:"noVerify",1:"needVerify",2:"rejectAll"},u.push("join"),l.joinMode=o(p);var h=a.beInviteMode={needVerify:0,noVerify:1};c.beInviteMode={0:"needVerify",1:"noVerify"},u.push("beInvite"),l.beInviteMode=o(h);var g=a.inviteMode={manager:0,all:1};c.inviteMode={0:"manager",1:"all"},u.push("invite"),l.inviteMode=o(g);var v=a.updateTeamMode={manager:0,all:1};c.updateTeamMode={0:"manager",1:"all"},u.push("updateTeam"),l.updateTeamMode=o(v);var y=a.updateCustomMode={manager:0,all:1};function b(e){switch(s.verifyOptions(e,"action","team::Team"),e.action){case"create":s.verifyOptions(e,"teamId",!1,"team::Team"),s.verifyOptions(e,"type name","team::Team"),s.verifyParamValid("type",e.type,m,"team::Team"),i(e.level)&&(s.verifyParamType("level",e.level,"number","team::Team"),this.level=e.level);break;case"update":s.verifyOptions(e,"teamId","team::Team"),s.verifyOptions(e,"type",!1,"team::Team")}i(e.teamId)&&(this.teamId=e.teamId),i(e.type)&&(this.type=d[e.type]),i(e.avatar)&&(this.avatar=""+e.avatar),i(e.name)&&(this.name=""+e.name),i(e.intro)&&(this.intro=""+e.intro),i(e.announcement)&&(this.announcement=""+e.announcement),u.forEach(this.setMode.bind(this,e)),i(e.custom)&&(this.custom=""+e.custom)}c.updateCustomMode={0:"manager",1:"all"},u.push("updateCustom"),l.updateCustomMode=o(y),b.prototype.setMode=function(e,t){i(e[t+="Mode"])&&(s.verifyParamValid(t,e[t],l[t],"team::Team"),this[t]=a[t][e[t]])},b.reverse=function(e,t){var n=s.copy(e);if(i(n.teamId)&&(n.teamId=""+n.teamId),i(n.type)&&(n.type=f[n.type]),i(n.level)&&(n.level=+n.level),i(n.valid)&&(n.valid=1==+n.valid),i(n.memberNum)&&(n.memberNum=+n.memberNum),i(n.memberUpdateTime)&&(n.memberUpdateTime=+n.memberUpdateTime),i(n.createTime)&&(n.createTime=+n.createTime),i(n.updateTime)&&(n.updateTime=+n.updateTime),i(n.validToCurrentUser)&&(n.validToCurrentUser="1"===n.validToCurrentUser),i(n.mute)&&(n.mute="1"===n.mute),i(n.muteType))switch(n.muteType){case"0":n.mute=!1,n.muteType="none";break;case"1":n.mute=!0,n.muteType="normal";break;case"3":n.mute=!0,n.muteType="all"}else i(n.mute)&&(1===n.mute?(n.mute=!0,n.muteType="normal"):(n.mute=!1,n.muteType="none"));return u.forEach(function(e,t){i(e[t+="Mode"])&&(e[t]=c[t][e[t]])}.bind(null,n)),delete n.bits,t||b.fillProperties(n),n},b.fillProperties=function(e){var t=r(e,"beInviteMode","needVerify"),n=r(e,"inviteMode","manager"),s=r(e,"updateTeamMode","manager"),i=r(e,"updateCustomMode","manager"),o=r(e,"avatar","");return t||n||s||i||o},e.exports=b},function(e,t,n){"use strict";var s={link:{id:1,heartbeat:2,negotiateTransport:5,initTransport:6},sync:{id:5,sync:1,syncTeamMembers:2},misc:{id:6,getSimpleNosToken:1,getNosToken:2,notifyUploadLog:3,uploadSdkLogUrl:4,audioToText:5,processImage:6,getNosTokenTrans:7,notifyTransLog:8,fetchFile:9,fetchFileList:10,removeFile:11,getClientAntispam:17,fileQuickTransfer:18,getNosOriginUrl:22,getServerTime:23},avSignal:{id:15,signalingCreate:1,signalingDelay:2,signalingClose:3,signalingJoin:4,signalingLeave:5,signalingInvite:6,signalingCancel:7,signalingReject:8,signalingAccept:9,signalingControl:10,signalingNotify:11,signalingMutilClientSyncNotify:12,signalingUnreadMessageSyncNotify:13,signalingChannelsSyncNotify:14,signalingGetChannelInfo:15}},i={heartbeat:{sid:s.link.id,cid:s.link.heartbeat},negotiateTransport:{sid:s.link.id,cid:s.link.negotiateTransport,params:[{type:"int",name:"sdkVersion"},{type:"Property",name:"negotiateTransportTag"}]},initTransport:{sid:s.link.id,cid:s.link.initTransport,params:[{type:"Property",name:"initTransportTag"}]},getSimpleNosToken:{sid:s.misc.id,cid:s.misc.getSimpleNosToken,params:[{type:"int",name:"num"}]},getNosToken:{sid:s.misc.id,cid:s.misc.getNosToken,params:[{type:"String",name:"responseBody"},{type:"Property",name:"nosToken",entity:"nosToken"}]},uploadSdkLogUrl:{sid:s.misc.id,cid:s.misc.uploadSdkLogUrl,params:[{type:"string",name:"url"}]},audioToText:{sid:s.misc.id,cid:s.misc.audioToText,params:[{type:"Property",name:"audioToText"}]},processImage:{sid:s.misc.id,cid:s.misc.processImage,params:[{type:"String",name:"url"},{type:"PropertyArray",name:"imageOps",entity:"imageOp"}]},getClientAntispam:{sid:s.misc.id,cid:s.misc.getClientAntispam,params:[{type:"Property",name:"clientAntispam"}]},fileQuickTransfer:{sid:s.misc.id,cid:s.misc.fileQuickTransfer,params:[{type:"Property",name:"fileQuickTransfer"}]},getNosOriginUrl:{sid:s.misc.id,cid:s.misc.getNosOriginUrl,params:[{type:"Property",name:"nosFileUrlTag"}]},getServerTime:{sid:s.misc.id,cid:s.misc.getServerTime,params:[]},getNosTokenTrans:{sid:s.misc.id,cid:s.misc.getNosTokenTrans,params:[{type:"Property",name:"transToken"}]},fetchFile:{sid:s.misc.id,cid:s.misc.fetchFile,params:[{type:"String",name:"docId"}]},fetchFileList:{sid:s.misc.id,cid:s.misc.fetchFileList,params:[{type:"Property",name:"fileListParam"}]},removeFile:{sid:s.misc.id,cid:s.misc.removeFile,params:[{type:"String",name:"docId"}]},signalingCreate:{sid:s.avSignal.id,cid:s.avSignal.signalingCreate,params:[{type:"Property",name:"avSignalTag"}]},signalingDelay:{sid:s.avSignal.id,cid:s.avSignal.signalingDelay,params:[{type:"Property",name:"avSignalTag"}]},signalingClose:{sid:s.avSignal.id,cid:s.avSignal.signalingClose,params:[{type:"Property",name:"avSignalTag"}]},signalingJoin:{sid:s.avSignal.id,cid:s.avSignal.signalingJoin,params:[{type:"Property",name:"avSignalTag"}]},signalingLeave:{sid:s.avSignal.id,cid:s.avSignal.signalingLeave,params:[{type:"Property",name:"avSignalTag"}]},signalingInvite:{sid:s.avSignal.id,cid:s.avSignal.signalingInvite,params:[{type:"Property",name:"avSignalTag"}]},signalingCancel:{sid:s.avSignal.id,cid:s.avSignal.signalingCancel,params:[{type:"Property",name:"avSignalTag"}]},signalingReject:{sid:s.avSignal.id,cid:s.avSignal.signalingReject,params:[{type:"Property",name:"avSignalTag"}]},signalingAccept:{sid:s.avSignal.id,cid:s.avSignal.signalingAccept,params:[{type:"Property",name:"avSignalTag"}]},signalingControl:{sid:s.avSignal.id,cid:s.avSignal.signalingControl,params:[{type:"Property",name:"avSignalTag"}]},signalingGetChannelInfo:{sid:s.avSignal.id,cid:s.avSignal.signalingGetChannelInfo,params:[{type:"Property",name:"avSignalTag"}]}};e.exports={idMap:s,cmdConfig:i,packetConfig:{"1_2":{service:"link",cmd:"heartbeat"},"1_5":{service:"link",cmd:"negotiateTransport",response:[{type:"Property",name:"negotiateTransportTag"}]},"1_6":{service:"link",cmd:"initTransport",response:[{type:"Property",name:"initTransportTag"}]},"6_1":{service:"misc",cmd:"getSimpleNosToken",response:[{type:"PropertyArray",name:"nosTokens",entity:"nosToken"}]},"6_2":{service:"misc",cmd:"getNosToken",response:[{type:"Property",name:"nosToken"}]},"6_3":{service:"misc",cmd:"notifyUploadLog"},"6_4":{service:"misc",cmd:"uploadSdkLogUrl"},"6_5":{service:"misc",cmd:"audioToText",response:[{type:"String",name:"text"}]},"6_6":{service:"misc",cmd:"processImage",response:[{type:"String",name:"url"}]},"6_7":{service:"misc",cmd:"getNosTokenTrans",response:[{type:"Property",name:"nosToken"},{type:"String",name:"docId"}]},"6_8":{service:"misc",cmd:"notifyTransLog",response:[{type:"Property",name:"transInfo"}]},"6_9":{service:"misc",cmd:"fetchFile",response:[{type:"Property",name:"info",entity:"transInfo"}]},"6_10":{service:"misc",cmd:"fetchFileList",response:[{type:"PropertyArray",name:"list",entity:"transInfo"},{type:"Number",name:"totalCount"}]},"6_11":{service:"misc",cmd:"removeFile",response:[{type:"String",name:"res"}]},"6_17":{service:"misc",cmd:"getClientAntispam",response:[{type:"Property",name:"clientAntispam"}]},"6_18":{service:"misc",cmd:"fileQuickTransfer",response:[{type:"Property",name:"fileQuickTransfer"}]},"6_22":{service:"misc",cmd:"getNosOriginUrl",response:[{type:"Property",name:"nosFileUrlTag"}]},"6_23":{service:"misc",cmd:"getServerTime",response:[{type:"Number",name:"time"}]},"15_1":{service:"avSignal",cmd:"signalingCreate",response:[{type:"Property",name:"avSignalTag"}]},"15_2":{service:"avSignal",cmd:"signalingDelay",response:[{type:"Property",name:"avSignalTag"}]},"15_3":{service:"avSignal",cmd:"signalingClose",response:[{type:"Property",name:"avSignalTag"}]},"15_4":{service:"avSignal",cmd:"signalingJoin",response:[{type:"Property",name:"avSignalTag"}]},"15_5":{service:"avSignal",cmd:"signalingLeave",response:[]},"15_6":{service:"avSignal",cmd:"signalingInvite",response:[]},"15_7":{service:"avSignal",cmd:"signalingCancel",response:[]},"15_8":{service:"avSignal",cmd:"signalingReject",response:[]},"15_9":{service:"avSignal",cmd:"signalingAccept",response:[]},"15_10":{service:"avSignal",cmd:"signalingControl",response:[]},"15_11":{service:"avSignal",cmd:"signalingNotify",response:[{type:"Property",name:"avSignalTag"}]},"15_12":{service:"avSignal",cmd:"signalingMutilClientSyncNotify",response:[{type:"Property",name:"avSignalTag"}]},"15_13":{service:"avSignal",cmd:"signalingUnreadMessageSyncNotify",response:[{type:"PropertyArray",name:"avSignalTag"}]},"15_14":{service:"avSignal",cmd:"signalingChannelsSyncNotify",response:[{type:"PropertyArray",name:"avSignalTag"}]},"15_15":{service:"avSignal",cmd:"signalingGetChannelInfo",response:[{type:"Property",name:"avSignalTag"}]}}}},function(e,t,n){"use strict";var s=n(19),i=s.f,r=n(180);function o(e){e.onload&&this.once("load",e.onload),e.onerror&&this.once("error",e.onerror),e.onbeforesend&&this.once("beforesend",e.onbeforesend),e.onaftersend&&this.once("aftersend",e.onaftersend);var t=(e=this.options=s.fetch({method:"GET",url:"",sync:!1,data:null,headers:{},cookie:!1,timeout:6e4,type:"text",form:null,input:null,putFileAtEnd:!1,proxyUrl:""},e)).headers;s.notexist(t["Content-Type"])&&(t["Content-Type"]="application/x-www-form-urlencoded"),this.send()}var a=o.prototype=Object.create(r.prototype);a.send=function(){var e=this,t=e.options;setTimeout((function(){try{try{e.emit("beforesend",t)}catch(e){__f__("log","error:","ignore error ajax beforesend,",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1")}e.doSend()}catch(t){__f__("log","error:","ignore error server error,",t," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"),e.onError("serverError","请求失败:"+t.message)}}),0)},a.doSend=i,a.afterSend=function(){var e=this;setTimeout((function(){e.emit("aftersend",e.options)}),0)},a.onLoad=function(e){var t=this.options,n=e.status,s=e.result;if(0===(""+n).indexOf("2")){if("json"===t.type)try{s=JSON.parse(s)}catch(e){return __f__("log","error:","ignore error parse json,",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"),void this.onError("parseError",s)}this.emit("load",s)}else this.onError("serverError","服务器返回异常状态",{status:n,result:s})},a.onError=function(e,t,n){var i=s.isObject(n)?n:{};i.code=e||"error",i.message=t||"发生错误",this.emit("error",i)},a.onTimeout=function(){this.onError("timeout","请求超时")},a.abort=function(){this.onError("abort","客户端中止")},a.header=function(e){var t=this;if(!s.isArray(e))return t.getResponseHeader(e||"");var n={};return e.forEach((function(e){n[e]=t.header(e)})),n},a.getResponseHeader=i,a.destroy=i,e.exports=o},function(e,t,n){"use strict";var s=o(n(2)),i=o(n(23)),r=o(n(22));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,i.default)(this,e),this._entries=[]}return(0,r.default)(e,[{key:"append",value:function(e,t){if("string"!=typeof e)throw new TypeError("FormData name must be a string");if("string"!=typeof t&&("object"!==(void 0===t?"undefined":(0,s.default)(t))||"string"!=typeof t.uri))throw new TypeError("FormData value must be a string or { uri: tempFilePath }");this._entries.push([e,t])}},{key:"set",value:function(e,t){var n=this.get(e);n?n[1]=t:this.append(e,t)}},{key:"delete",value:function(e){this._entries=this._entries.filter((function(t){return t[0]!==e}))}},{key:"entries",value:function(){return this._entries}},{key:"get",value:function(e){return this._entries.find((function(t){return t[0]===e}))}},{key:"getAll",value:function(e){return this._entries.filter((function(t){return t[0]===e}))}},{key:"has",value:function(e){return this._entries.some((function(t){return t[0]===e}))}},{key:"keys",value:function(){return this._entries.map((function(e){return e[0]}))}},{key:"values",value:function(){return this._entries.map((function(e){return e[1]}))}}]),e}();e.exports=a},function(e,t,n){var s=n(68),i=n(41).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,i)}},function(e,t,n){var s=n(46),i=Math.min;e.exports=function(e){return e>0?i(s(e),9007199254740991):0}},function(e,t,n){var s=n(11),i=n(18),r=n(124)(!1),o=n(43)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=o&&s(a,n)&&u.push(n);for(;t.length>c;)s(a,n=t[c++])&&(~r(u,n)||u.push(n));return u}},function(e,t,n){e.exports=n(13)},function(e,t,n){e.exports=!n(10)&&!n(24)((function(){return 7!=Object.defineProperty(n(54)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var s=n(37),i=n(16),r=n(69),o=n(13),a=n(26),c=n(126),u=n(35),l=n(122),d=n(4)("iterator"),f=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,p,h,g,v){c(n,t,p);var y,b,_,T=function(e){if(!f&&e in w)return w[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",C="values"==h,M=!1,w=e.prototype,k=w[d]||w["@@iterator"]||h&&w[h],I=k||T(h),O=h?C?T("entries"):I:void 0,P="Array"==t&&w.entries||k;if(P&&(_=l(P.call(new e)))!==Object.prototype&&_.next&&(u(_,S,!0),s||"function"==typeof _[d]||o(_,d,m)),C&&k&&"values"!==k.name&&(M=!0,I=function(){return k.call(this)}),s&&!v||!f&&!M&&w[d]||o(w,d,I),a[t]=I,a[S]=m,h)if(y={values:C?I:T("values"),keys:g?I:T("keys"),entries:O},v)for(b in y)b in w||r(w,b,y[b]);else i(i.P+i.F*(f||M),t,y);return y}},function(e,t,n){e.exports={default:n(109),__esModule:!0}},function(e,t,n){var s=n(36);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==s(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var s=n(29),i=n(32),r=n(0),o=n(1);function a(e){switch(r.notundef(e.type)?r.verifyFileType(e.type,"msg::FileMessage"):e.type="file",r.verifyOptions(e,"file","msg::FileMessage"),r.verifyOptions(e.file,"url ext size",!0,"file.","msg::FileMessage"),e.type){case"image":c.verifyFile(e.file,"msg::FileMessage");break;case"audio":u.verifyFile(e.file,"msg::FileMessage");break;case"video":l.verifyFile(e.file,"msg::FileMessage")}i.call(this,e),this.attach=JSON.stringify(e.file)}a.prototype=Object.create(i.prototype),a.reverse=function(e){var t=i.reverse(e);return e.attach=e.attach?""+e.attach:"",t.file=e.attach?JSON.parse(e.attach):{},t.file.url=(0,s.genPrivateUrl)(t.file.url),"audio"!==t.type||t.file.mp3Url||(t.file.mp3Url=t.file.url+(~t.file.url.indexOf("?")?"&":"?")+"audioTrans&type=mp3"),o.httpsEnabled&&0!==t.file.url.indexOf("https://")&&(t.file.url=t.file.url.replace("http","https")),t},e.exports=a;var c=n(203),u=n(202),l=n(201)},function(e,t,n){"use strict";var s=n(17),i=n(58),r=n(1),o=n(135),a=n(205),c=n(0),u=c.verifyOptions,l=c.verifyParamType,d=n(48).Chatroom;function f(e){return this.subType="chatroom",this.nosScene=e.nosScene||"chatroom",this.nosSurvivalTime=e.nosSurvivalTime,e.Protocol=i,e.Message=a,e.constructor=f,e.isAnonymous&&(e.account=e.account||"nimanon_"+c.guid(),e.isAnonymous=1,c.verifyOptions(e,"chatroomNick","api::Chatroom"),e.chatroomAvatar=e.chatroomAvatar||" "),this.init(e)}f.Protocol=i,f.parser=d,f.use=s.use,f.getInstance=function(e){return e.isAnonymous&&(e.account=e.account||"nimanon_"+c.guid(),e.isAnonymous=1,c.verifyOptions(e,"chatroomNick","api::Chatroom.getInstance"),e.chatroomAvatar=e.chatroomAvatar||" "),s.getInstance.call(this,e)},f.genInstanceName=function(e){return c.verifyOptions(e,"chatroomId","api::Chatroom.genInstanceName"),"Chatroom-account-"+e.account+"-chatroomId-"+e.chatroomId};var m=f.fn=f.prototype=Object.create(s.prototype);f.info=m.info=r.info,m.getChatroom=function(e){this.processCallback(e),this.sendCmd("getChatroom",e)},m.updateChatroom=function(e){u(e,"chatroom needNotify","api::updateChatroom"),l("needNotify",e.needNotify,"boolean"),this.processCustom(e),this.processCallback(e),e.chatroom=new o(e.chatroom),this.sendCmd("updateChatroom",e)},m.closeChatroom=function(e){this.processCustom(e),this.processCallback(e),this.sendCmd("closeChatroom",e)},e.exports=f,n(195),n(194),n(193)},function(e,t,n){"use strict";var s=n(29),i=n(33),r=n(0),o=n(1);function a(e){switch(r.notundef(e.type)?r.verifyFileType(e.type,"msg::FileMessage"):e.type="file",r.verifyOptions(e,"file","msg::FileMessage"),r.verifyOptions(e.file,"url ext size",!0,"file.","msg::FileMessage"),e.type){case"image":c.verifyFile(e.file,"msg::FileMessage");break;case"audio":u.verifyFile(e.file,"msg::FileMessage");break;case"video":l.verifyFile(e.file,"msg::FileMessage")}i.call(this,e),this.attach=JSON.stringify(e.file)}a.prototype=Object.create(i.prototype),a.reverse=function(e){var t=i.reverse(e);return e.attach=e.attach?""+e.attach:"",t.file=e.attach?JSON.parse(e.attach):{},t.file.url=(0,s.genPrivateUrl)(t.file.url),"audio"!==t.type||t.file.mp3Url||(t.file.mp3Url=t.file.url+(~t.file.url.indexOf("?")?"&":"?")+"audioTrans&type=mp3"),o.httpsEnabled&&0!==t.file.url.indexOf("https://")&&(t.file.url=t.file.url.replace("http","https")),t},e.exports=a;var c=n(253),u=n(252),l=n(251)},function(e,t,n){"use strict";var s=n(29),i=n(0),r={unknown:0,male:1,female:2},o={0:"unknown",1:"male",2:"female"};function a(e){i.merge(this,e),i.notundef(this.gender)&&(i.verifyParamValid("gender",this.gender,a.validGenders,"user::User"),this.gender=r[this.gender]),i.notundef(this.email)&&""!==this.email&&i.verifyEmail("email",this.email,"user::User"),i.notundef(this.birth)&&""!==this.birth&&i.verifyBirth("birth",this.birth,"user::User"),i.notundef(this.tel)&&""!==this.tel&&i.verifyTel("tel",this.tel,"user::User")}a.reverse=function(e){var t=i.filterObj(e,"account nick avatar _avatar_safe sign gender email birth tel custom createTime updateTime");return i.notundef(t.avatar)&&(t.avatar=(0,s.genPrivateUrl)(t.avatar)),i.notundef(t.gender)&&(t.gender=o[t.gender]),i.notundef(t.createTime)&&(t.createTime=+t.createTime),i.notundef(t.updateTime)&&(t.updateTime=+t.updateTime),t},a.reverseUsers=function(e){return e.map((function(e){return a.reverse(e)}))},a.validGenders=Object.keys(r),e.exports=a},function(e,t,n){"use strict";var s=n(0),i=s.notundef,r=s.fillPropertyWithDefault,o={0:"normal",1:"owner",2:"manager"};function a(e){s.verifyOptions(e,"teamId","superTeam::TeamMember"),s.verifyParamAtLeastPresentOne(e,"nickInTeam muteTeam custom","superTeam::SuperTeamMember"),this.teamId=e.teamId,i(e.account)&&(this.account=e.account),i(e.nickInTeam)&&(this.nickInTeam=e.nickInTeam),i(e.muteTeam)&&(this.bits=0,e.muteTeam&&(this.bits+=1)),i(e.mute)&&(this.mute=e.mute?1:0),i(e.custom)&&(this.custom=""+e.custom)}a.reverse=function(e){var t=s.copy(e);if(i(t.teamId)&&(t.teamId=""+t.teamId),i(t.type)&&(t.type=o[t.type]),i(t.active)&&(t.active=1==+t.active),i(t.valid)&&(t.valid=1==+t.valid),i(t.mute)&&(t.mute=1==+t.mute),i(t.joinTime)&&(t.joinTime=+t.joinTime),i(t.updateTime)&&(t.updateTime=+t.updateTime),i(t.bits)){var n=t.bits;delete t.bits,t.muteTeam=!!(1&n)}return i(t.teamId)&&i(t.account)&&(t.id=a.genId(t.teamId,t.account)),t},a.reverseMembers=function(e){return e.map((function(e){return a.reverse(e)}))},a.fillProperties=function(e){var t=r(e,"mute",!1),n=r(e,"custom","");return t||n},a.genId=function(e,t){return e+"-"+t},a.accounts2ids=function(e,t){return t.map((function(t){return a.genId(e,t)}))},a.assembleMembers=function(e,t){return s.isArray(t)||(t=[t]),t.map((function(t){return a.assembleMember(e,t)}))},a.assembleMember=function(e,t){return{id:a.genId(e.teamId,t),account:t,teamId:e.teamId,type:"normal",nickInTeam:"",muteTeam:!1,mute:!1,joinTime:e.memberUpdateTime,updateTime:e.memberUpdateTime,active:!0,valid:!0}},a.assembleOwner=function(e){var t=a.assembleMember(e,e.owner);return t.type="owner",t},e.exports=a},function(e,t){},function(e,t,n){var s=n(3).document;e.exports=s&&s.documentElement},function(e,t){e.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t,n){"use strict";var s=n(14);function i(){}i.typeMap={text:0,image:1,audio:2,video:3,geo:4,notification:5,file:6,tip:10,robot:11,custom:100};var r=i.typeReverseMap={0:"text",1:"image",2:"audio",3:"video",4:"geo",5:"notification",6:"file",10:"tip",11:"robot",100:"custom"};i.validTypes=Object.keys(i.typeMap),i.setFlow=function(e,t){var n=t===e.from;n&&t===e.to&&(n=s.deviceId===e.fromDeviceId),e.flow=n?"out":"in","robot"===e.type&&e.content&&e.content.msgOut&&(e.flow="in")},i.getType=function(e){var t=e.type;return r[t]||t},e.exports=i},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*! Socket.IO.js build:0.9.11, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */function getGlobal(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==global?global:{}}var root=getGlobal(),io=module.exports;void 0===root.location&&(root.location=null),root.io?module&&(module.exports=io=root.io):root.io=io,function(){!function(e,t){var n=e;n.version="0.9.11",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(e,s){var i,r,o=n.util.parseUri(e);t&&t.location&&(o.protocol=o.protocol||t.location.protocol.slice(0,-1),o.host=o.host||(t.document?t.document.domain:t.location.hostname),o.port=o.port||t.location.port),i=n.util.uniqueUri(o);var a={host:o.ipv6uri?"["+o.host+"]":o.host,secure:"https"===o.protocol,port:o.port||("https"===o.protocol?443:80),query:o.query||""};return n.util.merge(a,s),!a["force new connection"]&&n.sockets[i]||(r=new n.Socket(a)),!a["force new connection"]&&r&&(n.sockets[i]=r),(r=r||n.sockets[i]).of(o.path.length>1?o.path:"")}}(module.exports,root),function(e,t){var n=e.util={},s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o=s.exec(e||""),a={},c=14;c--;)a[i[c]]=o[c]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a},n.uniqueUri=function(e){var n=e.protocol,s=e.host,i=e.port;return"document"in t&&t.document?(s=s||document.domain,i=i||("https"==n&&"https:"!==document.location.protocol?443:document.location.port)):(s=s||"localhost",i||"https"!=n||(i=443)),(n||"http")+"://"+s+":"+(i||80)},n.query=function(e,t){var s=n.chunkQuery(e||""),i=[];for(var r in n.merge(s,n.chunkQuery(t||"")),s)s.hasOwnProperty(r)&&i.push(r+"="+s[r]);return i.length?"?"+i.join("&"):""},n.chunkQuery=function(e){for(var t,n={},s=e.split("&"),i=0,r=s.length;i<r;++i)(t=s[i].split("="))[0]&&(n[t[0]]=t[1]);return n};var r=!1;n.load=function(e){if("undefined"!=typeof document&&document&&"complete"===document.readyState||r)return e();n.on(t,"load",e,!1)},n.on=function(e,t,n,s){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,s)},n.request=function(e){if(e&&"undefined"!=typeof XDomainRequest&&!n.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!e||n.ua.hasCORS))return new XMLHttpRequest;if(!e)try{return new(root[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}return null},void 0!==root&&n.load((function(){r=!0})),n.defer=function(e){if(!n.ua.webkit||"undefined"!=typeof importScripts)return e();n.load((function(){setTimeout(e,100)}))},n.merge=function(e,t,s,i){var r,o=i||[],a=void 0===s?2:s;for(r in t)t.hasOwnProperty(r)&&n.indexOf(o,r)<0&&("object"==typeof e[r]&&a?n.merge(e[r],t[r],a-1,o):(e[r]=t[r],o.push(t[r])));return e},n.mixin=function(e,t){n.merge(e.prototype,t.prototype)},n.inherit=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.intersect=function(e,t){for(var s=[],i=e.length>t.length?e:t,r=e.length>t.length?t:e,o=0,a=r.length;o<a;o++)~n.indexOf(i,r[o])&&s.push(r[o]);return s},n.indexOf=function(e,t,n){var s=e.length;for(n=n<0?n+s<0?0:n+s:n||0;n<s&&e[n]!==t;n++);return s<=n?-1:n},n.toArray=function(e){for(var t=[],n=0,s=e.length;n<s;n++)t.push(e[n]);return t},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var e=new XMLHttpRequest}catch(e){return!1}return null!=e.withCredentials}(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),n.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}(void 0!==io?io:module.exports,root),function(e,t){function n(){}e.EventEmitter=n,n.prototype.on=function(e,n){return this.$events||(this.$events={}),this.$events[e]?t.util.isArray(this.$events[e])?this.$events[e].push(n):this.$events[e]=[this.$events[e],n]:this.$events[e]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){var n=this;function s(){n.removeListener(e,s),t.apply(this,arguments)}return s.listener=t,this.on(e,s),this},n.prototype.removeListener=function(e,n){if(this.$events&&this.$events[e]){var s=this.$events[e];if(t.util.isArray(s)){for(var i=-1,r=0,o=s.length;r<o;r++)if(s[r]===n||s[r].listener&&s[r].listener===n){i=r;break}if(i<0)return this;s.splice(i,1),s.length||delete this.$events[e]}else(s===n||s.listener&&s.listener===n)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),t.util.isArray(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var n=this.$events[e];if(!n)return!1;var s=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,s);else{if(!t.util.isArray(n))return!1;for(var i=n.slice(),r=0,o=i.length;r<o;r++)i[r].apply(this,s)}return!0}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(exports,nativeJSON){"use strict";if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={};function f(e){return e<10?"0"+e:e}function date(e,t){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,s,i,r,o,a=gap,c=t[e];switch(c instanceof Date&&(c=date(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(c)){for(r=c.length,n=0;n<r;n+=1)o[n]=str(n,c)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;n<r;n+=1)"string"==typeof rep[n]&&(i=str(s=rep[n],c))&&o.push(quote(s)+(gap?": ":":")+i);else for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(i=str(s,c))&&o.push(quote(s)+(gap?": ":":")+i);return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}",gap=a,i}}JSON.stringify=function(e,t,n){var s;if(gap="",indent="","number"==typeof n)for(s=0;s<n;s+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("socket.io:: replacer cannot JSON.stringify");return str("",{"":e})},JSON.parse=function(text,reviver){var j;function walk(e,t){var n,s,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(s=walk(i,n))?i[n]=s:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("socket.io:: reviver cannot JSON.parse")}}(void 0!==io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(e,t){var n=e.parser={},s=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],i=n.reasons=["transport not supported","client not handshaken","unauthorized"],r=n.advice=["reconnect"],o=t.JSON,a=t.util.indexOf;n.encodePacket=function(e){var t=a(s,e.type),n=e.id||"",c=e.endpoint||"",u=e.ack,l=null;switch(e.type){case"error":var d=e.reason?a(i,e.reason):"",f=e.advice?a(r,e.advice):"";""===d&&""===f||(l=d+(""!==f?"+"+f:""));break;case"message":""!==e.data&&(l=e.data);break;case"event":var m={name:e.name};e.args&&e.args.length&&(m.args=e.args),l=o.stringify(m);break;case"json":l=o.stringify(e.data);break;case"connect":e.qs&&(l=e.qs);break;case"ack":l=e.ackId+(e.args&&e.args.length?"+"+o.stringify(e.args):"")}var p=[t,n+("data"==u?"+":""),c];return null!=l&&p.push(l),p.join(":")},n.encodePayload=function(e){var t="";if(1==e.length)return e[0];for(var n=0,s=e.length;n<s;n++)t+="�"+e[n].length+"�"+e[n];return t};var c=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(e){if(!(a=e.match(c)))return{};var t=a[2]||"",n=(e=a[5]||"",{type:s[a[1]],endpoint:a[4]||""});switch(t&&(n.id=t,a[3]?n.ack="data":n.ack=!0),n.type){case"error":var a=e.split("+");n.reason=i[a[0]]||"",n.advice=r[a[1]]||"";break;case"message":n.data=e||"";break;case"event":try{var u=o.parse(e);n.name=u.name,n.args=u.args}catch(e){}n.args=n.args||[];break;case"json":try{n.data=o.parse(e)}catch(e){}break;case"connect":n.qs=e||"";break;case"ack":if((a=e.match(/^([0-9]+)(\+)?(.*)/))&&(n.ackId=a[1],n.args=[],a[3]))try{n.args=a[3]?o.parse(a[3]):[]}catch(e){}}return n},n.decodePayload=function(e){var t=function(e,t){for(var n=0,s=e;s<t.length;s++){if("�"==t.charAt(s))return n;n++}return n};if("�"==e.charAt(0)){for(var s=[],i=1,r="";i<e.length;i++)if("�"==e.charAt(i)){var o=e.substr(i+1).substr(0,r);if("�"!=e.charAt(i+1+Number(r))&&i+1+Number(r)!=e.length){var a=Number(r);l=t(i+a+1,e),o=e.substr(i+1).substr(0,a+l),i+=l}s.push(n.decodePacket(o)),i+=Number(r)+1,r=""}else r+=e.charAt(i);return s}return[n.decodePacket(e)]}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(e,t){function n(e,t){this.socket=e,this.sessid=t}e.Transport=n,t.util.mixin(n,t.EventEmitter),n.prototype.heartbeats=function(){return!0},n.prototype.onData=function(e){if(this!==this.socket.transport)return this;if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==e){var n=t.parser.decodePayload(e);if(n&&n.length)for(var s=0,i=n.length;s<i;s++)this.onPacket(n[s])}return this},n.prototype.onPacket=function(e){return this.socket.setHeartbeatTimeout(),"heartbeat"==e.type?this.onHeartbeat():("connect"==e.type&&""==e.endpoint&&this.onConnect(),"error"==e.type&&"reconnect"==e.advice&&(this.isOpen=!1),this.socket.onPacket(e),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var e=this;this.closeTimeout=setTimeout((function(){e.onDisconnect()}),this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket?(this.socket.transport===this?this.socket.onDisconnect():this.socket.setBuffer(!1),this):this},n.prototype.onConnect=function(){return this.socket.onConnect(),this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(e){this.send(t.parser.encodePacket(e))},n.prototype.onHeartbeat=function(e){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.isOpen=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){this.isOpen=!1,this.socket.transport===this?this.socket.onClose():this.socket.setBuffer(!1),this.onDisconnect(),this.onDisconnectDone instanceof Function&&this.onDisconnectDone(null),this.onConnectionOver instanceof Function&&this.onConnectionOver(null)},n.prototype.onDisconnectDone=function(){},n.prototype.onConnectionOver=function(){},n.prototype.prepareUrl=function(){var e=this.socket.options;return this.scheme()+"://"+e.host+":"+e.port+"/"+e.resource+"/"+t.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(e,t){t.call(this)}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(e,t,n){function s(e){if(this.options={port:80,secure:!1,document:"document"in n&&document,resource:"socket.io",transports:e.transports||t.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},t.util.merge(this.options,e),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||t.util.ua.hasCORS)){var s=this;t.util.on(n,"beforeunload",(function(){s.disconnectSync()}),!1)}this.options["auto connect"]&&this.connect()}function i(){}e.Socket=s,t.util.mixin(s,t.EventEmitter),s.prototype.of=function(e){return this.namespaces[e]||(this.namespaces[e]=new t.SocketNamespace(this,e),""!==e&&this.namespaces[e].packet({type:"connect"})),this.namespaces[e]},s.prototype.publish=function(){var e;for(var t in this.emit.apply(this,arguments),this.namespaces)this.namespaces.hasOwnProperty(t)&&(e=this.of(t)).$emit.apply(e,arguments)},s.prototype.handshake=function(e){var n=this,s=this.options;function r(t){t instanceof Error?(n.connecting=!1,n.onError(t.message)):e.apply(null,t.split(":"))}var o=["http"+(s.secure?"s":"")+":/",s.host+":"+s.port,s.resource,t.protocol,t.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!t.util.ua.hasCORS&&"undefined"!=typeof document&&document&&document.getElementsByTagName){var a=document.getElementsByTagName("script")[0],c=document.createElement("script");c.src=o+"&jsonp="+t.j.length,c.onreadystatechange=function(){"loaded"==this.readyState&&c.parentNode&&(c.parentNode.removeChild(c),n.connecting=!1,!n.reconnecting&&n.onError("Server down or port not open"),n.publish("handshake_failed"))},a.parentNode.insertBefore(c,a),t.j.push((function(e){r(e),c.parentNode.removeChild(c)}))}else{var u=t.util.request();u.open("GET",o,!0),u.timeout=1e4,this.isXDomain()&&(u.withCredentials=!0),u.onreadystatechange=function(){4==u.readyState&&(u.onreadystatechange=i,200==u.status?r(u.responseText):403==u.status?(n.connecting=!1,n.onError(u.responseText),n.publish("handshake_failed")):(n.connecting=!1,!n.reconnecting&&n.onError(u.responseText),n.publish("handshake_failed")))},u.ontimeout=function(e){n.connecting=!1,!n.reconnecting&&n.onError(u.responseText),n.publish("handshake_failed")},u.send(null)}},s.prototype.connect=function(e){if(this.connecting)return this;var n=this;return n.connecting=!0,this.handshake((function(s,i,r,o){n.sessionid=s,n.closeTimeout=1e3*r,n.heartbeatTimeout=1e3*i,n.transports||(n.transports=n.origTransports=o?t.util.intersect(o.split(","),n.options.transports):n.options.transports),n.setHeartbeatTimeout(),n.once("connect",(function(){clearTimeout(n.connectTimeoutTimer),n.connectTimeoutTimer=null,e&&"function"==typeof e&&e()})),n.doConnect()})),this},s.prototype.doConnect=function(){var e=this;if(e.transport&&e.transport.clearTimeouts(),e.transport=e.getTransport(e.transports),!e.transport)return e.publish("connect_failed");e.transport.ready(e,(function(){e.connecting=!0,e.publish("connecting",e.transport.name),e.transport.open(),e.options["connect timeout"]&&(e.connectTimeoutTimer&&clearTimeout(e.connectTimeoutTimer),e.connectTimeoutTimer=setTimeout(e.tryNextTransport.bind(e),e.options["connect timeout"]))}))},s.prototype.getTransport=function(e){for(var n,s=e||this.transports,i=0;n=s[i];i++)if(t.Transport[n]&&t.Transport[n].check(this)&&(!this.isXDomain()||t.Transport[n].xdomainCheck(this)))return new t.Transport[n](this,this.sessionid);return null},s.prototype.tryNextTransport=function(){if(!this.connected&&(this.connecting=!1,this.options["try multiple transports"])){for(var e=this.transports;e.length>0&&e.splice(0,1)[0]!=this.transport.name;);e.length?this.doConnect():this.publish("connect_failed")}},s.prototype.setHeartbeatTimeout=function(){if(clearTimeout(this.heartbeatTimeoutTimer),!this.transport||this.transport.heartbeats()){var e=this;this.heartbeatTimeoutTimer=setTimeout((function(){e.transport&&e.transport.onClose()}),this.heartbeatTimeout)}},s.prototype.packet=function(e){return this.connected&&!this.doBuffer?this.transport.packet(e):this.buffer.push(e),this},s.prototype.setBuffer=function(e){this.doBuffer=e,!e&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())},s.prototype.flushBuffer=function(){this.transport.payload(this.buffer),this.buffer=[]},s.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},s.prototype.disconnectSync=function(){var e=t.util.request(),n=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,t.protocol,"",this.sessionid].join("/")+"/?disconnect=1";e.open("GET",n,!1),e.send(null),this.onDisconnect("booted")},s.prototype.isXDomain=function(){var e=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=e},s.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},s.prototype.onOpen=function(){this.open=!0},s.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},s.prototype.onPacket=function(e){this.of(e.endpoint).onPacket(e)},s.prototype.onError=function(e){e&&e.advice&&"reconnect"===e.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",e&&e.reason?e.reason:e)},s.prototype.onDisconnect=function(e){var t=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(t||n)&&(this.transport.close(),this.transport.clearTimeouts(),t&&(this.publish("disconnect",e),"booted"!=e&&this.options.reconnect&&!this.reconnecting&&this.reconnect()),n&&(this.connectTimeoutTimer&&clearTimeout(this.connectTimeoutTimer),this.tryNextTransport()))},s.prototype.reconnect=function(){this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var e=this,t=this.options["max reconnection attempts"],n=this.options["try multiple transports"],s=this.options["reconnection limit"];function i(){if(e.connected){for(var t in e.namespaces)e.namespaces.hasOwnProperty(t)&&""!==t&&e.namespaces[t].packet({type:"connect"});e.publish("reconnect",e.transport.name,e.reconnectionAttempts)}clearTimeout(e.reconnectionTimer),e.removeListener("connect_failed",r),e.removeListener("connect",r),e.reconnecting=!1,delete e.reconnectionAttempts,delete e.reconnectionDelay,delete e.reconnectionTimer,delete e.redoTransports,e.options["try multiple transports"]=n}function r(){if(e.reconnecting)return e.connected?i():e.connecting&&e.reconnecting?e.reconnectionTimer=setTimeout(r,1e3):void(e.reconnectionAttempts++>=t?e.redoTransports?(e.publish("reconnect_failed"),i()):(e.on("connect_failed",r),e.options["try multiple transports"]=!0,e.transports=e.origTransports,e.transport=e.getTransport(),e.redoTransports=!0,e.connect()):(e.reconnectionDelay<s&&(e.reconnectionDelay*=2),e.connect(),e.publish("reconnecting",e.reconnectionDelay,e.reconnectionAttempts),e.reconnectionTimer=setTimeout(r,e.reconnectionDelay)))}this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(r,this.reconnectionDelay),this.on("connect",r)}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports,root),function(e,t){function n(e,t){this.socket=e,this.name=t||"",this.flags={},this.json=new s(this,"json"),this.ackPackets=0,this.acks={}}function s(e,t){this.namespace=e,this.name=t}e.SocketNamespace=n,t.util.mixin(n,t.EventEmitter),n.prototype.$emit=t.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(e){return e.endpoint=this.name,this.socket.packet(e),this.flags={},this},n.prototype.send=function(e,t){var n={type:this.flags.json?"json":"message",data:e};return"function"==typeof t&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=t),this.packet(n)},n.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[t.length-1],s={type:"event",name:e};return"function"==typeof n&&(s.id=++this.ackPackets,s.ack="data",this.acks[s.id]=n,t=t.slice(0,t.length-1)),s.args=t,this.packet(s)},n.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(e){var n=this;function s(){n.packet({type:"ack",args:t.util.toArray(arguments),ackId:e.id})}switch(e.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(e.reason||"booted"):this.$emit("disconnect",e.reason);break;case"message":case"json":var i=["message",e.data];"data"==e.ack?i.push(s):e.ack&&this.packet({type:"ack",ackId:e.id}),this.$emit.apply(this,i);break;case"event":i=[e.name].concat(e.args),"data"==e.ack&&i.push(s),this.$emit.apply(this,i);break;case"ack":this.acks[e.ackId]&&(this.acks[e.ackId].apply(this,e.args),delete this.acks[e.ackId]);break;case"error":__f__("error","SocketIO on packet error: ",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"),e.advice?this.socket.onError(e):"unauthorized"===e.reason?this.$emit("connect_failed",e.reason):this.$emit("error",e.reason)}},s.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},s.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}(void 0!==io?io:module.exports,void 0!==io?io:module.parent.exports),function(e,t,n){function s(e){t.Transport.apply(this,arguments)}e.websocket=s,t.util.inherit(s,t.Transport),s.prototype.name="websocket",s.prototype.open=function(){var e,s=t.util.query(this.socket.options.query),i=this;return e||(e=n.MozWebSocket||n.WebSocket),this.websocket=new e(this.prepareUrl()+s),this.websocket.onopen=function(){i.onOpen(),i.socket.setBuffer(!1)},this.websocket.onmessage=function(e){i.onData(e.data)},this.websocket.onclose=function(){i.socket.setBuffer(!0),i.onClose()},this.websocket.onerror=function(e){i.onError(e)},this},t.util.ua.iDevice?s.prototype.send=function(e){var t=this;return setTimeout((function(){t.websocket.send(e)}),0),this}:s.prototype.send=function(e){return this.websocket.send(e),this},s.prototype.payload=function(e){for(var t=0,n=e.length;t<n;t++)this.packet(e[t]);return this},s.prototype.close=function(){return this.websocket.close(),this},s.prototype.onError=function(e){this.socket.onError(e)},s.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},s.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},s.xdomainCheck=function(){return!0},t.transports.push("websocket")}(void 0!==io?io.Transport:module.exports,void 0!==io?io:module.parent.exports,root),function(e,t,n){function s(e){e&&(t.Transport.apply(this,arguments),this.sendBuffer=[])}function i(){}e.XHR=s,t.util.inherit(s,t.Transport),s.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},s.prototype.payload=function(e){for(var n=[],s=0,i=e.length;s<i;s++)n.push(t.parser.encodePacket(e[s]));this.send(t.parser.encodePayload(n))},s.prototype.send=function(e){return this.post(e),this},s.prototype.post=function(e){var t=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=function(){this.onload=i,t.socket.setBuffer(!1)}:this.sendXHR.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=i,t.posting=!1,200==this.status?t.socket.setBuffer(!1):t.onClose())},this.sendXHR.send(e)},s.prototype.close=function(){return this.onClose(),this},s.prototype.request=function(e){var n=t.util.request(this.socket.isXDomain()),s=t.util.query(this.socket.options.query,"t="+ +new Date);if(n.open(e||"GET",this.prepareUrl()+s,!0),"POST"==e)try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(e){}return n},s.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},s.check=function(e,s){try{var i=t.util.request(s),r=n.XDomainRequest&&i instanceof XDomainRequest,o=e&&e.options&&e.options.secure?"https:":"http:",a=n.location&&o!=n.location.protocol;if(i&&(!r||!a))return!0}catch(e){}return!1},s.xdomainCheck=function(e){return s.check(e,!0)}}(void 0!==io?io.Transport:module.exports,void 0!==io?io:module.parent.exports,root),function(e,t,n){function s(){t.Transport.XHR.apply(this,arguments)}function i(){}e["xhr-polling"]=s,t.util.inherit(s,t.Transport.XHR),t.util.merge(s,t.Transport.XHR),s.prototype.name="xhr-polling",s.prototype.heartbeats=function(){return!1},s.prototype.open=function(){return t.Transport.XHR.prototype.open.call(this),!1},s.prototype.get=function(){if(this.isOpen){var e=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=function(){this.onload=i,this.onerror=i,e.retryCounter=1,e.onData(this.responseText),e.get()},this.xhr.onerror=function(){e.retryCounter++,!e.retryCounter||e.retryCounter>3?e.onClose():e.get()}):this.xhr.onreadystatechange=function(){4==this.readyState&&(this.onreadystatechange=i,200==this.status?(e.onData(this.responseText),e.get()):e.onClose())},this.xhr.send(null)}},s.prototype.onClose=function(){if(t.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i;try{this.xhr.abort()}catch(e){}this.xhr=null}},s.prototype.ready=function(e,n){var s=this;t.util.defer((function(){n.call(s)}))},t.transports.push("xhr-polling")}(void 0!==io?io.Transport:module.exports,void 0!==io?io:module.parent.exports,root),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return io}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}).call(this,__webpack_require__(51),__webpack_require__(167)(module))},function(e,t,n){"use strict";var s=n(21),i=n(34),r="https://statistic.live.126.net/statics/report/common/form",o="nimErrEvent",a={reportErrEventUrl:r,localKey:o,reportErrEvent:function(e){try{var t=localStorage.getItem(o);if(!t)return;t=JSON.parse(t);var n=[];Object.keys(t).forEach((function(e){n.push(t[e])}));var a={app_key:e.appKey,sdk_ver:e.sdk_ver,platform:"Web",os_ver:i.os.family+" "+i.os.version,manufacturer:i.manufacturer,model:i.name};s(r,{method:"POST",timeout:2e3,headers:{"Content-Type":"application/json"},data:JSON.stringify({common:{device_id:e.deviceId,sdk_type:"IM"},event:{logReport:n,deviceinfo:a}}),onload:function(){localStorage.removeItem(o)},onerror:function(e){}})}catch(e){}},saveErrEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.code&&e.module)try{var t=localStorage.getItem(o)||"{}";t=JSON.parse(t);var n=e.code+e.module+e.accid;t[n]?t[n].count++:t[n]={errorCode:e.code,module:e.module,accid:e.accid,timestamp:(new Date).getTime(),count:1},localStorage.setItem(o,JSON.stringify(t))}catch(e){}}};e.exports=a},function(e,t,n){"use strict";var s={1:"ROOM_CLOSE",2:"ROOM_JOIN",3:"INVITE",4:"CANCEL_INVITE",5:"REJECT",6:"ACCEPT",7:"LEAVE",8:"CONTROL"},i={1:"accid",2:"uid",3:"createTime",4:"expireTime",5:"web_uid"},r={10404:"ROOM_NOT_EXISTS",10405:"ROOM_HAS_EXISTS",10406:"ROOM_MEMBER_NOT_EXISTS",10407:"ROOM_MEMBER_HAS_EXISTS",10408:"INVITE_NOT_EXISTS",10409:"INVITE_HAS_REJECT",10410:"INVITE_HAS_ACCEPT",10201:"PEER_NIM_OFFLINE",10202:"PEER_PUSH_OFFLINE",10419:"ROOM_MEMBER_EXCEED",10420:"ROOM_MEMBER_HAS_EXISTS_OTHER_CLIENT",10417:"UID_CONFLICT"};e.exports={parseAvSignalType:function(e){return s[e]||e},parseAvSignalMember:function(e){var t={};return Object.keys(e).forEach((function(n){t[i[n]]=e[n]})),t},parseAvSignalError:function(e){return e.message=r[e.code]||e.message||e,e}}},function(e,t,n){"use strict";var s=n(0),i={stripmeta:0,blur:2,quality:3,crop:4,rotate:5,thumbnail:7,interlace:9},r={0:"stripmeta",1:"type",2:"blur",3:"quality",4:"crop",5:"rotate",6:"pixel",7:"thumbnail",8:"watermark",9:"interlace",10:"tmp"};function o(e){s.verifyOptions(e,"type","image::ImageOp"),s.verifyParamValid("type",e.type,o.validTypes,"image::ImageOp"),s.merge(this,e),this.type=i[e.type]}o.validTypes=Object.keys(i),o.reverse=function(e){var t=s.copy(e);return t.type=r[t.type],t},o.reverseImageOps=function(e){return e.map((function(e){return o.reverse(e)}))},e.exports=o},function(e,t,n){"use strict";var s=n(0),i={fromDataURL:function(e){var t=s.getGlobal(),n=void 0;n=e.split(",")[0].indexOf("base64")>=0?t.atob(e.split(",")[1]):t.decodeURIComponent(e.split(",")[1]);for(var i=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return new t.Blob([r],{type:i})}};e.exports=i},function(e,t,n){"use strict";var s=n(19),i=s.getGlobal(),r={},o=i.name||"_parent",a=[],c=[];r.addMsgListener=function(e){a.push(e)};var u,l,d,f,m=(u=/^([\w]+?:\/\/.*?(?=\/|$))/i,function(e){return e=e||"",u.test(e)?RegExp.$1:"*"}),p=function(){var e=unescape(i.name||"").trim();if(e&&0===e.indexOf("MSG|")){i.name="";var t=s.string2object(e.replace("MSG|",""),"|"),n=(t.origin||"").toLowerCase();n&&"*"!==n&&0!==location.href.toLowerCase().indexOf(n)||function(e){for(var t=0,n=a.length;t<n;t++)try{a[t].call(null,e)}catch(e){}}({data:JSON.parse(t.data||"null"),source:i.frames[t.self]||t.self,origin:m(t.ref||("undefined"==typeof document?"":document.referrer))})}},h=(d=function(e,t){for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return!0;return!1},function(){if(c.length){l=[];for(var e,t=c.length-1;t>=0;t--)e=c[t],d(l,e.w)||(l.push(e.w),c.splice(t,1),e.w.name=e.d);l=null}}),g=r.startTimer=(f=!1,function(){f||(f=!0,i.postMessage||(setInterval(h,100),setInterval(p,20)))});r.postMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s.fillUndef(t,{origin:"*",source:o}),i.postMessage){var n=t.data;i.FormData||(n=JSON.stringify(n)),e.postMessage(n,t.origin)}else{if(g(),s.isObject(t)){var r={};r.origin=t.origin||"",r.ref=location.href,r.self=t.source,r.data=JSON.stringify(t.data),t="MSG|"+s.object2string(r,"|",!0)}c.unshift({w:e,d:escape(t)})}},e.exports=r},function(e,t,n){"use strict";var s=n(0),i={file:{md5:"$(Etag)",size:"$(ObjectSize)"},image:{md5:"$(Etag)",size:"$(ObjectSize)",w:"$(ImageInfo.Width)",h:"$(ImageInfo.Height)",orientation:"$(ImageInfo.Orientation)"},audio:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Audio.Duration)"},video:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Video.Duration)",w:"$(AVinfo.Video.Width)",h:"$(AVinfo.Video.Height)"}},r={genResponseBody:function(e){return i[e=e||"file"]},parseResponse:function(e,t){s.notundef(e.size)&&(e.size=+e.size),s.notundef(e.w)&&(e.w=+e.w),s.notundef(e.h)&&(e.h=+e.h),s.notundef(e.dur)&&(e.dur=+e.dur);var n=e.orientation;if(s.notundef(n)&&(delete e.orientation,t&&("right, top"===n||"left, bottom"===n))){var i=e.w;e.w=e.h,e.h=i}return e}};e.exports=r},function(e,t){e.exports=function(e,t){for(var n=t.split(".");n.length;){var s=n.shift(),i=!1;if("?"==s[s.length-1]&&(s=s.slice(0,-1),i=!0),!(e=e[s])&&i)return e}return e}},function(e,t){e.exports=function e(t,n){"use strict";var s,i,r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,u=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},d=l(t).replace(o,"")||"",f=l(n).replace(o,"")||"",m=d.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=f.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(d.match(c),16)||1!==m.length&&d.match(a)&&Date.parse(d),g=parseInt(f.match(c),16)||h&&f.match(a)&&Date.parse(f)||null;if(g){if(h<g)return-1;if(h>g)return 1}for(var v=0,y=Math.max(m.length,p.length);v<y;v++){if(s=!(m[v]||"").match(u)&&parseFloat(m[v])||m[v]||0,i=!(p[v]||"").match(u)&&parseFloat(p[v])||p[v]||0,isNaN(s)!==isNaN(i))return isNaN(s)?1:-1;if(typeof s!=typeof i&&(s+="",i+=""),s<i)return-1;if(s>i)return 1}return 0}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var s=r(n(23)),i=r(n(22));function r(e){return e&&e.__esModule?e:{default:e}}var o=n(94),a=0,c=1,u=3,l=function(){function e(t,n){var i=this;if((0,s.default)(this,e),!t)throw new TypeError("Failed to construct 'WebSocket': url required");if(n&&(!wx.canIUse||!wx.canIUse("connectSocket.object.protocols")))throw new Error("subprotocal not supported in weapp");t=t.replace(/:\d+/,""),this._url=t,this._protocal=n||"",this._readyState=a,this._socketTask=wx.connectSocket({url:t,protocals:this._protocal,fail:function(e){__f__("info","wx::ws: sockets build failed ..."," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"),i.errorHandler(e)},success:function(e){__f__("log","wx::ws: sockets build succeed ..."," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1")}}),this._socketTask.onOpen((function(e){i._readyState=c,__f__("log","wx::ws: onopen ",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"),i.dispatchEvent({type:"open"})})),this._socketTask.onError((function(e){i.errorHandler(e)})),this._socketTask.onClose((function(e){i._readyState=u,__f__("log","wx::ws: onclose ",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1");var t=e.code,n=e.reason,s=e.wasClean;i.dispatchEvent({code:t,reason:n,wasClean:s,type:"close"}),i._socketTask=null})),this._socketTask.onMessage((function(e){var t=e.data,n=e.origin,s=e.ports,r=e.source;i.dispatchEvent({data:t,origin:n,ports:s,source:r,type:"message"})}))}return(0,i.default)(e,[{key:"dispatchEvent",value:function(e){var t="on"+e.type;"function"==typeof this[t]&&this[t](e)}},{key:"close",value:function(){try{__f__("log","wx::ws:close WebSocket force close: readystate "+this._readyState," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"),this._socketTask.close({code:1e3,reason:"wx::ws:user force close websocket",complete:function(){}})}catch(e){__f__("warn","wx::ws:close WebSocket force error",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1")}}},{key:"send",value:function(e){if(this._readyState!==c)throw new Error("wx:ws: sendMsg when readyState="+this._readyState);if(!("string"==typeof e||e instanceof ArrayBuffer))throw new TypeError("wx:ws: sendMsg only String/ArrayBuffer supported");this._socketTask.send({data:e})}},{key:"errorHandler",value:function(e){__f__("error","wx::ws: onerror ",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:1"),this._readyState=u,this.dispatchEvent({type:"error",message:e.errMsg}),e.errMsg&&"[object Array]"===Object.prototype.toString.call(e.errMsg)&&(e.errMsg.indexOf("断裂管道")>0||e.errMsg.indexOf("broken pipe")>0)&&this.dispatchEvent({code:1006,reason:e.errMsg,type:"close"}),this._socketTask=null}},{key:"url",get:function(){return this._url}},{key:"protocal",get:function(){return this._protocal}},{key:"readyState",get:function(){return this._readyState}}]),e}();o(l,{CONNECTING:a,OPEN:c,CLOSING:2,CLOSED:u}),e.exports=l},function(e,t,n){"use strict";
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */var s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(a[u]=n[u]);if(s){o=s(n);for(var l=0;l<o.length;l++)r.call(n,o[l])&&(a[o[l]]=n[o[l]])}}return a}},function(e,t,n){"use strict";var s=o(n(189)),i=o(n(23)),r=o(n(22));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(94),c=n(65),u=0,l=4;function d(e){this.status=e.statusCode,this.statusText=e.statusCode,e.header&&(this._responseHeaders=Object.keys(e.header).reduce((function(t,n){return t[n.toLowerCase()]=e.header[n],t}),{}));var t=e.data;"string"!=typeof t&&(t=JSON.stringify(t)),this.responseText=this.response=t,this.readyState=l,this.dispatchEvent({type:"readystatechange"})}var f=function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"dispatchEvent",value:function(e){var t="on"+e.type;"function"==typeof this[t]&&this[t](e)}}]),e}(),m=function(){function e(){(0,i.default)(this,e),this.readyState=u,this._headers={},this.upload=new f}return(0,r.default)(e,[{key:"dispatchEvent",value:function(e){var t="on"+e.type;"function"==typeof this[t]&&this[t](e)}},{key:"abort",value:function(){if(!this._request||this._request.abort)return this.status=0,this.readyState=l,this._request.abort();throw new Error("该版本基础库不支持 abort request")}},{key:"getAllResponseHeaders",value:function(){var e=this;return this._responseHeaders?Object.keys(this._responseHeaders).map((function(t){return t+": "+e._responseHeaders[t]})).join("\r\n"):""}},{key:"getResponseHeader",value:function(e){var t=e.toLowerCase();return this._responseHeaders&&this._responseHeaders[t]?this._responseHeaders[t]:null}},{key:"overrideMimeType",value:function(){throw new Error("not supported in weapp")}},{key:"open",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.readyState!==u)throw new Error("request is already opened");if(!n)throw new Error("sync request is not supported");this._method=e,t=t.replace(/:\d+/,""),this._url=t,this.readyState=1,this.dispatchEvent({type:"readystatechange"})}},{key:"setRequestHeader",value:function(e,t){if(1!==this.readyState)throw new Error("request is not opened");this._headers[e.toLowerCase()]=t}},{key:"send",value:function(e){var t=this;if(1!==this.readyState)throw new Error("request is not opened");if(e instanceof c){var n=e.entries(),i=n.filter((function(e){return"string"!=typeof e[1]}));if(0===i.length)throw new Error("Must specify a Blob field in FormData");i.length>1&&__f__("warn","Only the first Blob will be send in Weapp"," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:6");var r=n.filter((function(e){return"string"==typeof e[1]})).reduce((function(e,t){return a(e,(0,s.default)({},t[0],t[1]))}),{});this._request=wx.uploadFile({url:this._url,name:i[0][0],filePath:i[0][1].uri,formData:r,header:this._headers,success:d.bind(this),fail:function(e){t.status=0,t.readyState=l,t.dispatchEvent({type:"readystatechange"}),t.dispatchEvent({type:"error"})}}),this._request&&this._request.onProgressUpdate&&this._request.onProgressUpdate((function(e){var n=e.totalBytesSent,s=e.totalBytesExpectedToSend;t.upload.dispatchEvent({type:"progress",loaded:n,total:s})}))}else this._request=wx.request({url:this._url,data:e||"",method:this._method.toUpperCase(),header:this._headers,success:d.bind(this),fail:function(e){t.status=0,t.readyState=l,t.dispatchEvent({type:"readystatechange"}),t.dispatchEvent({type:"error"})}})}}]),e}();a(m,{UNSENT:u,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:l}),e.exports=m},function(e,t,n){"use strict";var s=r(n(23)),i=r(n(22));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,s.default)(this,e)}return(0,i.default)(e,[{key:"getItem",value:function(e){return wx.getStorageSync(e)}},{key:"setItem",value:function(e,t){return wx.setStorageSync(e,t)}},{key:"removeItem",value:function(e){return this.setItem(e,"")}},{key:"clear",value:function(){return wx.clearStorageSync()}}]),e}();e.exports=new o},function(e,t,n){var s=n(30),i=n(27),r=n(18),o=n(44),a=n(11),c=n(70),u=Object.getOwnPropertyDescriptor;t.f=n(10)?u:function(e,t){if(e=r(e),t=o(t,!0),c)try{return u(e,t)}catch(e){}if(a(e,t))return i(!s.f.call(e,t),e[t])}},,function(e,t,n){"use strict";var s=n(29),i=n(0),r=i.notundef,o={"-2":"unset","-1":"restricted",0:"common",1:"owner",2:"manager",3:"guest",4:"anonymous"};function a(e){r(e.nick)&&(this.nick=""+e.nick),r(e.avatar)&&(this.avatar=""+e.avatar),r(e.custom)&&(this.custom=""+e.custom)}a.reverse=function(e){var t=i.copy(e);return r(t.chatroomId)&&(t.chatroomId=""+t.chatroomId),r(t.avatar)&&(t.avatar=(0,s.genPrivateUrl)(t.avatar)),r(t.type)&&(t.type=o[t.type]),r(t.level)&&(t.level=+t.level),r(t.online)&&(t.online=1==+t.online),r(t.enterTime)&&(t.enterTime=+t.enterTime),r(t.guest)&&(t.guest=1==+t.guest),r(t.blacked)&&(t.blacked=1==+t.blacked),r(t.gaged)&&(t.gaged=1==+t.gaged),r(t.valid)&&(t.valid=1==+t.valid),r(t.updateTime)&&(t.updateTime=+t.updateTime),r(t.tempMuted)?t.tempMuted=1==+t.tempMuted:t.tempMuted=!1,r(t.tempMuteDuration)?t.tempMuteDuration=+t.tempMuteDuration:t.tempMuteDuration=0,t.online||delete t.enterTime,t.guest&&(t.type="guest",delete t.valid),"common"!==t.type&&delete t.level,delete t.guest,t},a.reverseMembers=function(e){return e.map((function(e){return a.reverse(e)}))},a.validTypes=Object.keys(o),a.typeReverseMap=o,e.exports=a},function(e,t,n){"use strict";var s=n(34),i=n(144),r=n(83),o=n(91),a=n(90),c=n(0),u=n(138),l=n(87),d=n(21),f=n(137),m=n(136);e.exports=function(e){c.merge(e,{platform:s,xhr:i,io:r,naturalSort:o,deepAccess:a,util:c,support:u,blob:l,ajax:d,LoggerPlugin:f,usePlugin:m})}},function(e,t,n){"use strict";var s=n(55);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e((function(e,s){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=s})),this.resolve=s(t),this.reject=s(n)}(e)}},function(e,t,n){var s=n(36),i=n(4)("toStringTag"),r="Arguments"==s(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:r?s(t):"Object"==(o=s(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var s=n(102),i=n(4)("iterator"),r=n(26);e.exports=n(5).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[s(e)]}},function(e,t,n){"use strict";var s=n(0),i=n(63),r=s.merge({},i.idMap,{auth:{id:2,login:3,kicked:5,logout:6,multiPortLogin:7,kick:8},user:{id:3,updatePushToken:1,appBackground:2,markInBlacklist:3,getBlacklist:4,markInMutelist:5,getMutelist:6,getRelations:8,getUsers:7,updateMyInfo:10,updateDonnop:15,syncMyInfo:109,syncUpdateMyInfo:110},notify:{id:4,markRead:3,syncOfflineMsgs:4,batchMarkRead:5,syncOfflineSysMsgs:6,syncOfflineNetcallMsgs:8,syncRoamingMsgs:9,syncMsgReceipts:12,syncRobots:15,syncBroadcastMsgs:16,syncSuperTeamRoamingMsgs:17,syncOfflineSuperTeamSysMsgs:18,syncDeleteSuperTeamMsgOfflineRoaming:19},sync:{id:5,sync:1,syncTeamMembers:2,syncSuperTeamMembers:3},msg:{id:7,sendMsg:1,msg:2,sysMsg:3,getHistoryMsgs:6,sendCustomSysMsg:7,searchHistoryMsgs:8,deleteSessions:9,getSessions:10,syncSendMsg:101,sendMsgReceipt:11,msgReceipt:12,deleteMsg:13,msgDeleted:14,markSessionAck:16,broadcastMsg:17,clearServerHistoryMsgs:18,getServerSessions:19,getServerSession:20,updateServerSession:21,deleteServerSessions:22,syncUpdateServerSession:121},team:{id:8,createTeam:1,sendTeamMsg:2,teamMsg:3,teamMsgs:4,addTeamMembers:5,removeTeamMembers:6,updateTeam:7,leaveTeam:8,getTeam:9,getTeams:10,getTeamMembers:11,dismissTeam:12,applyTeam:13,passTeamApply:14,rejectTeamApply:15,addTeamManagers:16,removeTeamManagers:17,transferTeam:18,updateInfoInTeam:19,updateNickInTeam:20,acceptTeamInvite:21,rejectTeamInvite:22,getTeamHistoryMsgs:23,searchTeamHistoryMsgs:24,updateMuteStateInTeam:25,getMyTeamMembers:26,getMutedTeamMembers:27,sendTeamMsgReceipt:28,getTeamMsgReads:29,getTeamMsgReadAccounts:30,notifyTeamMsgReads:31,muteTeamAll:32,getTeamMemberInvitorAccid:33,syncMyTeamMembers:126,syncTeams:109,syncTeamMembers:111,syncCreateTeam:101,syncSendTeamMsg:102,syncUpdateTeamMember:119},superTeam:{id:21,sendSuperTeamMsg:2,superTeamMsg:3,addSuperTeamMembers:5,removeSuperTeamMembers:6,leaveSuperTeam:7,updateSuperTeam:8,getSuperTeam:9,getSuperTeams:12,updateInfoInSuperTeam:10,getMySuperTeamMembers:11,getSuperTeamMembers:13,getSuperTeamHistoryMsgs:14,getSuperTeamMembersByJoinTime:15,sendSuperTeamCustomSysMsg:16,deleteSuperTeamMsg:17,superTeamMsgDelete:18,superTeamCustomSysMsg:19,applySuperTeam:20,passSuperTeamApply:21,rejectSuperTeamApply:22,acceptSuperTeamInvite:23,rejectSuperTeamInvite:24,markSuperTeamSessionAck:25,addSuperTeamManagers:26,removeSuperTeamManagers:27,updateSuperTeamMute:28,updateSuperTeamMembersMute:29,updateNickInSuperTeam:30,transferSuperTeam:31,syncMySuperTeamMembers:111,syncSuperTeams:109,syncSuperTeamMembers:113,syncCreateSuperTeam:101,syncSendSuperTeamMsg:102,syncUpdateSuperTeamMember:110},friend:{id:12,friendRequest:1,syncFriendRequest:101,deleteFriend:2,syncDeleteFriend:102,updateFriend:3,syncUpdateFriend:103,getFriends:4},chatroom:{id:13,getChatroomAddress:1},filter:{id:101,sendFilterMsg:1,filterMsg:2,filterSysMsg:3,sendFilterCustomSysMsg:7},eventService:{id:14,publishEvent:1,pushEvent:2,subscribeEvent:3,unSubscribeEventsByAccounts:4,unSubscribeEventsByType:5,querySubscribeEventsByAccounts:6,querySubscribeEventsByType:7,pushEvents:9}}),o=s.merge({},i.cmdConfig,{login:{sid:r.auth.id,cid:r.auth.login,params:[{type:"Property",name:"login"}]},logout:{sid:r.auth.id,cid:r.auth.logout},kick:{sid:r.auth.id,cid:r.auth.kick,params:[{type:"StrArray",name:"deviceIds"}]},updatePushToken:{sid:r.user.id,cid:r.user.updatePushToken,params:[{type:"String",name:"tokenName"},{type:"String",name:"token"},{type:"int",name:"pushkit"}]},appBackground:{sid:r.user.id,cid:r.user.appBackground,params:[{type:"bool",name:"isBackground"},{type:"Int",name:"badge"}]},markInBlacklist:{sid:r.user.id,cid:r.user.markInBlacklist,params:[{type:"String",name:"account"},{type:"bool",name:"isAdd"}]},getBlacklist:{sid:r.user.id,cid:r.user.getBlacklist,params:[{type:"long",name:"time"}]},markInMutelist:{sid:r.user.id,cid:r.user.markInMutelist,params:[{type:"String",name:"account"},{type:"bool",name:"isAdd"}]},getMutelist:{sid:r.user.id,cid:r.user.getMutelist,params:[{type:"long",name:"time"}]},getRelations:{sid:r.user.id,cid:r.user.getRelations,params:[{type:"long",name:"timetag"}]},getUsers:{sid:r.user.id,cid:r.user.getUsers,params:[{type:"StrArray",name:"accounts"}]},updateMyInfo:{sid:r.user.id,cid:r.user.updateMyInfo,params:[{type:"Property",name:"user"}]},updateDonnop:{sid:r.user.id,cid:r.user.updateDonnop,params:[{type:"Property",name:"donnop"}]},markRead:{sid:r.notify.id,cid:r.notify.markRead,params:[{type:"long",name:"id"},{type:"ph",name:"ph"}]},batchMarkRead:{sid:r.notify.id,cid:r.notify.batchMarkRead,params:[{type:"byte",name:"sid"},{type:"byte",name:"cid"},{type:"LongArray",name:"ids"}]},sync:{sid:r.sync.id,cid:r.sync.sync,params:[{type:"Property",name:"sync"}]},syncTeamMembers:{sid:r.sync.id,cid:r.sync.syncTeamMembers,params:[{type:"LongLongMap",name:"sync"}]},syncSuperTeamMembers:{sid:r.sync.id,cid:r.sync.syncSuperTeamMembers,params:[{type:"LongLongMap",name:"sync"}]},sendMsg:{sid:r.msg.id,cid:r.msg.sendMsg,params:[{type:"Property",name:"msg"}]},getHistoryMsgs:{sid:r.msg.id,cid:r.msg.getHistoryMsgs,params:[{type:"String",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"long",name:"lastMsgId"},{type:"int",name:"limit"},{type:"bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}]},sendCustomSysMsg:{sid:r.msg.id,cid:r.msg.sendCustomSysMsg,params:[{type:"Property",name:"sysMsg"}]},searchHistoryMsgs:{sid:r.msg.id,cid:r.msg.searchHistoryMsgs,params:[{type:"String",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"String",name:"keyword"},{type:"int",name:"limit"},{type:"bool",name:"reverse"}]},getSessions:{sid:r.msg.id,cid:r.msg.getSessions,params:[{type:"long",name:"time"}]},deleteSessions:{sid:r.msg.id,cid:r.msg.deleteSessions,params:[{type:"StrArray",name:"sessions"}]},sendMsgReceipt:{sid:r.msg.id,cid:r.msg.sendMsgReceipt,params:[{type:"Property",name:"msgReceipt"}]},deleteMsg:{sid:r.msg.id,cid:r.msg.deleteMsg,params:[{type:"Property",name:"sysMsg"}]},markSessionAck:{sid:r.msg.id,cid:r.msg.markSessionAck,params:[{type:"byte",name:"scene"},{type:"String",name:"to"},{type:"long",name:"timetag"}]},clearServerHistoryMsgs:{sid:r.msg.id,cid:r.msg.clearServerHistoryMsgs,params:[{type:"Property",name:"clearMsgsParams"}]},getServerSessions:{sid:r.msg.id,cid:r.msg.getServerSessions,params:[{type:"Property",name:"sessionReqTag"}]},getServerSession:{sid:r.msg.id,cid:r.msg.getServerSession,params:[{type:"Property",name:"session"}]},updateServerSession:{sid:r.msg.id,cid:r.msg.updateServerSession,params:[{type:"Property",name:"session"}]},deleteServerSessions:{sid:r.msg.id,cid:r.msg.deleteServerSessions,params:[{type:"PropertyArray",name:"sessions",entity:"session"}]},sendSuperTeamMsg:{sid:r.superTeam.id,cid:r.superTeam.sendSuperTeamMsg,params:[{type:"Property",name:"msg"}]},addSuperTeamMembers:{sid:r.superTeam.id,cid:r.superTeam.addSuperTeamMembers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"}]},removeSuperTeamMembers:{sid:r.superTeam.id,cid:r.superTeam.removeSuperTeamMembers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},leaveSuperTeam:{sid:r.superTeam.id,cid:r.superTeam.leaveSuperTeam,params:[{type:"long",name:"teamId"}]},updateSuperTeam:{sid:r.superTeam.id,cid:r.superTeam.updateSuperTeam,params:[{type:"Property",name:"team"}]},getSuperTeam:{sid:r.superTeam.id,cid:r.superTeam.getSuperTeam,params:[{type:"long",name:"teamId"}]},getSuperTeams:{sid:r.superTeam.id,cid:r.superTeam.getSuperTeams,params:[{type:"long",name:"timetag"}]},getSuperTeamMembers:{sid:r.superTeam.id,cid:r.superTeam.getSuperTeamMembers,params:[{type:"long",name:"teamId"},{type:"long",name:"timetag"}]},updateInfoInSuperTeam:{sid:r.superTeam.id,cid:r.superTeam.updateInfoInSuperTeam,params:[{type:"Property",name:"superTeamMember"}]},getSuperTeamHistoryMsgs:{sid:r.superTeam.id,cid:r.superTeam.getSuperTeamHistoryMsgs,params:[{type:"long",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"long",name:"lastMsgId"},{type:"int",name:"limit"},{type:"bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}]},applySuperTeam:{sid:r.superTeam.id,cid:r.superTeam.applySuperTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"ps"}]},passSuperTeamApply:{sid:r.superTeam.id,cid:r.superTeam.passSuperTeamApply,params:[{type:"long",name:"teamId"},{type:"String",name:"from"}]},rejectSuperTeamApply:{sid:r.superTeam.id,cid:r.superTeam.rejectSuperTeamApply,params:[{type:"long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},acceptSuperTeamInvite:{sid:r.superTeam.id,cid:r.superTeam.acceptSuperTeamInvite,params:[{type:"long",name:"teamId"},{type:"String",name:"from"}]},rejectSuperTeamInvite:{sid:r.superTeam.id,cid:r.superTeam.rejectSuperTeamInvite,params:[{type:"long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},markSuperTeamSessionAck:{sid:r.superTeam.id,cid:r.superTeam.markSuperTeamSessionAck,params:[{type:"long",name:"to"},{type:"long",name:"timetag"}]},addSuperTeamManagers:{sid:r.superTeam.id,cid:r.superTeam.addSuperTeamManagers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},removeSuperTeamManagers:{sid:r.superTeam.id,cid:r.superTeam.removeSuperTeamManagers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},updateSuperTeamMute:{sid:r.superTeam.id,cid:r.superTeam.updateSuperTeamMute,params:[{type:"long",name:"teamId"},{type:"int",name:"mute"}]},updateSuperTeamMembersMute:{sid:r.superTeam.id,cid:r.superTeam.updateSuperTeamMembersMute,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"int",name:"mute"}]},updateNickInSuperTeam:{sid:r.superTeam.id,cid:r.superTeam.updateNickInSuperTeam,params:[{type:"Property",name:"superTeamMember"}]},transferSuperTeam:{sid:r.superTeam.id,cid:r.superTeam.transferSuperTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"account"},{type:"bool",name:"leave"}]},getSuperTeamMembersByJoinTime:{sid:r.superTeam.id,cid:r.superTeam.getSuperTeamMembersByJoinTime,params:[{type:"long",name:"teamId"},{type:"long",name:"joinTime"},{type:"int",name:"limit"},{type:"bool",name:"reverse"}]},sendSuperTeamCustomSysMsg:{sid:r.superTeam.id,cid:r.superTeam.sendSuperTeamCustomSysMsg,params:[{type:"Property",name:"sysMsg"}]},deleteSuperTeamMsg:{sid:r.superTeam.id,cid:r.superTeam.deleteSuperTeamMsg,params:[{type:"Property",name:"sysMsg"}]},getMySuperTeamMembers:{sid:r.superTeam.id,cid:r.superTeam.getMySuperTeamMembers,params:[{type:"LongArray",name:"teamIds"}]},createTeam:{sid:r.team.id,cid:r.team.createTeam,params:[{type:"Property",name:"team"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"}]},sendTeamMsg:{sid:r.team.id,cid:r.team.sendTeamMsg,params:[{type:"Property",name:"msg"}]},addTeamMembers:{sid:r.team.id,cid:r.team.addTeamMembers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"},{type:"String",name:"attach"}]},removeTeamMembers:{sid:r.team.id,cid:r.team.removeTeamMembers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},updateTeam:{sid:r.team.id,cid:r.team.updateTeam,params:[{type:"Property",name:"team"}]},leaveTeam:{sid:r.team.id,cid:r.team.leaveTeam,params:[{type:"long",name:"teamId"}]},getTeam:{sid:r.team.id,cid:r.team.getTeam,params:[{type:"long",name:"teamId"}]},getTeams:{sid:r.team.id,cid:r.team.getTeams,params:[{type:"long",name:"timetag"}]},getTeamMembers:{sid:r.team.id,cid:r.team.getTeamMembers,params:[{type:"long",name:"teamId"},{type:"long",name:"timetag"}]},dismissTeam:{sid:r.team.id,cid:r.team.dismissTeam,params:[{type:"long",name:"teamId"}]},applyTeam:{sid:r.team.id,cid:r.team.applyTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"ps"}]},passTeamApply:{sid:r.team.id,cid:r.team.passTeamApply,params:[{type:"long",name:"teamId"},{type:"String",name:"from"}]},rejectTeamApply:{sid:r.team.id,cid:r.team.rejectTeamApply,params:[{type:"long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},addTeamManagers:{sid:r.team.id,cid:r.team.addTeamManagers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},removeTeamManagers:{sid:r.team.id,cid:r.team.removeTeamManagers,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},transferTeam:{sid:r.team.id,cid:r.team.transferTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"account"},{type:"bool",name:"leave"}]},updateInfoInTeam:{sid:r.team.id,cid:r.team.updateInfoInTeam,params:[{type:"Property",name:"teamMember"}]},updateNickInTeam:{sid:r.team.id,cid:r.team.updateNickInTeam,params:[{type:"Property",name:"teamMember"}]},acceptTeamInvite:{sid:r.team.id,cid:r.team.acceptTeamInvite,params:[{type:"long",name:"teamId"},{type:"String",name:"from"}]},rejectTeamInvite:{sid:r.team.id,cid:r.team.rejectTeamInvite,params:[{type:"long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},getTeamHistoryMsgs:{sid:r.team.id,cid:r.team.getTeamHistoryMsgs,params:[{type:"long",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"long",name:"lastMsgId"},{type:"int",name:"limit"},{type:"bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}]},searchTeamHistoryMsgs:{sid:r.team.id,cid:r.team.searchTeamHistoryMsgs,params:[{type:"long",name:"to"},{type:"long",name:"beginTime"},{type:"long",name:"endTime"},{type:"String",name:"keyword"},{type:"int",name:"limit"},{type:"bool",name:"reverse"}]},updateMuteStateInTeam:{sid:r.team.id,cid:r.team.updateMuteStateInTeam,params:[{type:"long",name:"teamId"},{type:"String",name:"account"},{type:"int",name:"mute"}]},getMyTeamMembers:{sid:r.team.id,cid:r.team.getMyTeamMembers,params:[{type:"LongArray",name:"teamIds"}]},getMutedTeamMembers:{sid:r.team.id,cid:r.team.getMutedTeamMembers,params:[{type:"long",name:"teamId"}]},sendTeamMsgReceipt:{sid:r.team.id,cid:r.team.sendTeamMsgReceipt,params:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},getTeamMsgReads:{sid:r.team.id,cid:r.team.getTeamMsgReads,params:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},getTeamMsgReadAccounts:{sid:r.team.id,cid:r.team.getTeamMsgReadAccounts,params:[{type:"Property",name:"teamMsgReceipt"}]},muteTeamAll:{sid:r.team.id,cid:r.team.muteTeamAll,params:[{type:"long",name:"teamId"},{type:"int",name:"mute"}]},getTeamMemberInvitorAccid:{sid:r.team.id,cid:r.team.getTeamMemberInvitorAccid,params:[{type:"long",name:"teamId"},{type:"StrArray",name:"accounts"}]},friendRequest:{sid:r.friend.id,cid:r.friend.friendRequest,params:[{type:"String",name:"account"},{type:"byte",name:"type"},{type:"String",name:"ps"}]},deleteFriend:{sid:r.friend.id,cid:r.friend.deleteFriend,params:[{type:"String",name:"account"},{type:"Property",name:"delFriendParams"}]},updateFriend:{sid:r.friend.id,cid:r.friend.updateFriend,params:[{type:"Property",name:"friend"}]},getFriends:{sid:r.friend.id,cid:r.friend.getFriends,params:[{type:"long",name:"timetag"}]},getChatroomAddress:{sid:r.chatroom.id,cid:r.chatroom.getChatroomAddress,params:[{type:"long",name:"chatroomId"},{type:"bool",name:"isWeixinApp"},{type:"number",name:"type"}]},sendFilterMsg:{sid:r.filter.id,cid:r.filter.sendFilterMsg,params:[{type:"Property",name:"msg"}]},sendFilterCustomSysMsg:{sid:r.filter.id,cid:r.filter.sendFilterCustomSysMsg,params:[{type:"Property",name:"sysMsg"}]},publishEvent:{sid:r.eventService.id,cid:r.eventService.publishEvent,params:[{type:"Property",name:"msgEvent"}]},pushEvent:{sid:r.eventService.id,cid:r.eventService.pushEvent},subscribeEvent:{sid:r.eventService.id,cid:r.eventService.subscribeEvent,params:[{type:"Property",name:"msgEventSubscribe"},{type:"StrArray",name:"accounts"}]},unSubscribeEventsByAccounts:{sid:r.eventService.id,cid:r.eventService.unSubscribeEventsByAccounts,params:[{type:"Property",name:"msgEventSubscribe"},{type:"StrArray",name:"accounts"}]},unSubscribeEventsByType:{sid:r.eventService.id,cid:r.eventService.unSubscribeEventsByType,params:[{type:"Property",name:"msgEventSubscribe"}]},querySubscribeEventsByAccounts:{sid:r.eventService.id,cid:r.eventService.querySubscribeEventsByAccounts,params:[{type:"Property",name:"msgEventSubscribe"},{type:"StrArray",name:"accounts"}]},querySubscribeEventsByType:{sid:r.eventService.id,cid:r.eventService.querySubscribeEventsByType,params:[{type:"Property",name:"msgEventSubscribe"}]},pushEvents:{sid:r.eventService.id,cid:r.eventService.pushEvents}}),a=s.merge({},i.packetConfig,{"2_3":{service:"auth",cmd:"login",response:[{type:"Property",name:"loginRes"},{type:"PropertyArray",name:"loginPorts",entity:"loginPort"},{type:"Property",name:"aosPushInfo"}]},"2_5":{service:"auth",cmd:"kicked",response:[{type:"Number",name:"from"},{type:"Number",name:"reason"}]},"2_6":{service:"auth",cmd:"logout"},"2_7":{service:"auth",cmd:"multiPortLogin",response:[{type:"Number",name:"state"},{type:"PropertyArray",name:"loginPorts",entity:"loginPort"}]},"2_8":{service:"auth",cmd:"kick",response:[{type:"StrArray",name:"deviceIds"}]},"3_1":{service:"user",cmd:"updatePushToken"},"3_2":{service:"user",cmd:"appBackground"},"3_3":{service:"user",cmd:"markInBlacklist"},"3_103":{service:"user",cmd:"syncMarkInBlacklist",response:[{type:"String",name:"account"},{type:"Boolean",name:"isAdd"}]},"3_4":{service:"user",cmd:"getBlacklist",response:[{type:"StrArray",name:"blacklist"}]},"3_5":{service:"user",cmd:"markInMutelist"},"3_105":{service:"user",cmd:"syncMarkInMutelist",response:[{type:"String",name:"account"},{type:"Boolean",name:"isAdd"}]},"3_6":{service:"user",cmd:"getMutelist",response:[{type:"StrArray",name:"mutelist"}]},"3_8":{service:"user",cmd:"getRelations",response:[{type:"PropertyArray",name:"specialRelations",entity:"specialRelation"},{type:"Number",name:"timetag"}]},"3_7":{service:"user",cmd:"getUsers",response:[{type:"PropertyArray",name:"users",entity:"user"}]},"3_10":{service:"user",cmd:"updateMyInfo",response:[{type:"Number",name:"timetag"}]},"3_15":{service:"user",cmd:"updateDonnop",response:[{type:"Number",name:"timetag"}]},"3_115":{service:"user",cmd:"syncUpdateDonnop",response:[{type:"Property",name:"donnop"},{type:"Number",name:"timetag"}]},"3_109":{service:"user",cmd:"syncMyInfo",response:[{type:"Property",name:"user"},{type:"Number",name:"timetag"}]},"3_110":{service:"user",cmd:"syncUpdateMyInfo",response:[{type:"Property",name:"user"}]},"4_1":{service:"notify"},"4_2":{service:"notify"},"4_3":{service:"notify",cmd:"markRead"},"4_4":{service:"notify",cmd:"syncOfflineMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_5":{service:"notify",cmd:"batchMarkRead"},"4_6":{service:"notify",cmd:"syncOfflineSysMsgs",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"}]},"4_8":{service:"notify",cmd:"syncOfflineNetcallMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_9":{service:"notify",cmd:"syncRoamingMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_12":{service:"notify",cmd:"syncMsgReceipts",response:[{type:"PropertyArray",name:"msgReceipts",entity:"msgReceipt"},{type:"Number",name:"timetag"}]},"4_13":{service:"notify",cmd:"syncDonnop",response:[{type:"Property",name:"donnop"},{type:"Number",name:"timetag"}]},"4_14":{service:"notify",cmd:"syncSessionAck",response:[{type:"StrLongMap",name:"p2p"},{type:"LongLongMap",name:"team"},{type:"Number",name:"timetag"}]},"4_15":{service:"notify",cmd:"syncRobots",response:[{type:"PropertyArray",name:"robots",entity:"robot"}]},"4_16":{service:"notify",cmd:"syncBroadcastMsgs",response:[{type:"PropertyArray",name:"broadcastMsgs",entity:"broadcastMsg"}]},"4_17":{service:"notify",cmd:"syncSuperTeamRoamingMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_18":{service:"notify",cmd:"syncOfflineSuperTeamSysMsgs",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"}]},"4_19":{service:"notify",cmd:"syncDeleteSuperTeamMsgOfflineRoaming",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"},{type:"Number",name:"timetag"},{type:"Number",name:"type"}]},"4_20":{service:"notify",cmd:"syncSuperTeamSessionAck",response:[{type:"LongLongMap",name:"superTeam"},{type:"Number",name:"timetag"}]},"4_100":{service:"notify",cmd:"syncOfflineFilterMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"4_101":{service:"notify",cmd:"syncOfflineFilterSysMsgs",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"}]},"5_1":{service:"sync",cmd:"syncDone",response:[{type:"Number",name:"timetag"}]},"5_2":{service:"sync",cmd:"syncTeamMembersDone",response:[{type:"Number",name:"timetag"}]},"5_3":{service:"sync",cmd:"syncSuperTeamMembersDone",response:[{type:"Number",name:"timetag"}]},"7_1":{service:"msg",cmd:"sendMsg",response:[{type:"Property",name:"msg"}],trivialErrorCodes:[7101]},"7_2":{service:"msg",cmd:"msg",response:[{type:"Property",name:"msg"}]},"7_3":{service:"msg",cmd:"sysMsg",response:[{type:"Property",name:"sysMsg"}]},"7_6":{service:"msg",cmd:"getHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"7_7":{service:"msg",cmd:"sendCustomSysMsg",trivialErrorCodes:[7101]},"7_8":{service:"msg",cmd:"searchHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"7_9":{service:"msg",cmd:"deleteSessions"},"7_10":{service:"msg",cmd:"getSessions",response:[{type:"StrArray",name:"sessions"}]},"7_101":{service:"msg",cmd:"syncSendMsg",response:[{type:"Property",name:"msg"}]},"7_11":{service:"msg",cmd:"sendMsgReceipt",response:[{type:"Property",name:"msgReceipt"}]},"7_12":{service:"msg",cmd:"msgReceipt",response:[{type:"Property",name:"msgReceipt"}]},"7_13":{service:"msg",cmd:"onDeleteMsg"},"7_14":{service:"msg",cmd:"onMsgDeleted",response:[{type:"Property",name:"sysMsg"}]},"7_15":{service:"msg",cmd:"onDeleteMsgOfflineRoaming",response:[{type:"PropertyArray",name:"sysMsgs",entity:"sysMsg"},{type:"Number",name:"timetag"},{type:"Number",name:"type"}]},"7_16":{service:"msg",cmd:"onMarkSessionAck"},"7_17":{service:"msg",cmd:"broadcastMsg",response:[{type:"Property",name:"broadcastMsg"}]},"7_18":{service:"msg",cmd:"clearServerHistoryMsgs"},"7_19":{service:"session",cmd:"getServerSessions",response:[{type:"Property",name:"sessionReqTag"},{type:"PropertyArray",name:"sessionList",entity:"session"}]},"7_20":{service:"session",cmd:"getServerSession",response:[{type:"Property",name:"session"}]},"7_21":{service:"session",cmd:"updateServerSession"},"7_22":{service:"session",cmd:"deleteServerSessions"},"7_116":{service:"msg",cmd:"syncMarkSessionAck",response:[{type:"Number",name:"scene"},{type:"String",name:"to"},{type:"Number",name:"timetag"}]},"7_121":{service:"msg",cmd:"syncUpdateServerSession",response:[{type:"Property",name:"session"}]},"21_2":{service:"superTeam",cmd:"sendSuperTeamMsg",response:[{type:"Property",name:"msg"}]},"21_3":{service:"superTeam",cmd:"superTeamMsg",response:[{type:"Property",name:"msg"}]},"21_5":{service:"superTeam",cmd:"addSuperTeamMembers",response:[{type:"StrArray",name:"abortedAccidList"},{type:"long",name:"timetag"}]},"21_6":{service:"superTeam",cmd:"removeSuperTeamMembers"},"21_7":{service:"superTeam",cmd:"leaveSuperTeam"},"21_8":{service:"superTeam",cmd:"updateSuperTeam",response:[{type:"long",name:"teamId"},{type:"long",name:"timetag"}]},"21_9":{service:"superTeam",cmd:"getSuperTeam",response:[{type:"Property",name:"team"}]},"21_12":{service:"superTeam",cmd:"getSuperTeams",response:[{type:"PropertyArray",name:"teams",entity:"superTeam"},{type:"bool",name:"isAll"},{type:"long",name:"timetag"}]},"21_10":{service:"superTeam",cmd:"updateInfoInSuperTeam"},"21_13":{service:"superTeam",cmd:"getSuperTeamMembers",response:[{type:"long",name:"timetag"}]},"21_11":{service:"superTeam",cmd:"getMySuperTeamMembers",response:[{type:"PropertyArray",name:"members",entity:"superTeamMember"}]},"21_14":{service:"superTeam",cmd:"getSuperTeamHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"21_15":{service:"superTeam",cmd:"getSuperTeamMembersByJoinTime",response:[{type:"PropertyArray",name:"members",entity:"superTeamMember"}]},"21_16":{service:"superTeam",cmd:"sendSuperTeamCustomSysMsg",trivialErrorCodes:[7101]},"21_17":{service:"superTeam",cmd:"onDeleteSuperTeamMsg"},"21_18":{service:"superTeam",cmd:"onSuperTeamMsgDelete",response:[{type:"Property",name:"sysMsg"}]},"21_19":{service:"superTeam",cmd:"superTeamCustomSysMsg",response:[{type:"Property",name:"sysMsg"}]},"21_20":{service:"superTeam",cmd:"applySuperTeam",response:[{type:"Property",name:"team"}]},"21_21":{service:"superTeam",cmd:"passSuperTeamApply"},"21_22":{service:"superTeam",cmd:"rejectSuperTeamApply"},"21_23":{service:"superTeam",cmd:"acceptSuperTeamInvite",response:[{type:"Property",name:"team"}]},"21_24":{service:"superTeam",cmd:"rejectSuperTeamInvite"},"21_25":{service:"superTeam",cmd:"onMarkSuperTeamSessionAck"},"21_26":{service:"superTeam",cmd:"addSuperTeamManagers"},"21_27":{service:"superTeam",cmd:"removeSuperTeamManagers"},"21_28":{service:"superTeam",cmd:"updateSuperTeamMute"},"21_29":{service:"superTeam",cmd:"updateSuperTeamMembersMute",response:[{type:"long",name:"timetag"}]},"21_30":{service:"superTeam",cmd:"updateNickInSuperTeam"},"21_31":{service:"superTeam",cmd:"transferSuperTeam"},"21_113":{service:"superTeam",cmd:"syncSuperTeamMembers",response:[{type:"Number",name:"teamId"},{type:"PropertyArray",name:"members",entity:"superTeamMember"},{type:"bool",name:"isAll"},{type:"long",name:"timetag"}]},"21_111":{service:"superTeam",cmd:"syncMySuperTeamMembers",response:[{type:"PropertyArray",name:"teamMembers",entity:"superTeamMember"},{type:"long",name:"timetag"}]},"21_109":{service:"superTeam",cmd:"syncSuperTeams",response:[{type:"PropertyArray",name:"teams",entity:"superTeam"},{type:"bool",name:"isAll"},{type:"long",name:"timetag"}]},"21_101":{service:"superTeam",cmd:"syncCreateSuperTeam",response:[{type:"Property",name:"team"}]},"21_102":{service:"superTeam",cmd:"syncSendSuperTeamMsg",response:[{type:"Property",name:"msg"}]},"21_110":{service:"superTeam",cmd:"syncUpdateSuperTeamMember",response:[{type:"Property",name:"teamMember",entity:"superTeamMember"}]},"21_125":{service:"superTeam",cmd:"syncMarkSuperTeamSessionAck",response:[{type:"Long",name:"to"},{type:"Long",name:"timetag"}]},"8_1":{service:"team",cmd:"createTeam",response:[{type:"Property",name:"team"},{type:"StrArray",name:"abortedAccidList"}]},"8_2":{service:"team",cmd:"sendTeamMsg",response:[{type:"Property",name:"msg"}]},"8_3":{service:"team",cmd:"teamMsg",response:[{type:"Property",name:"msg"}]},"8_4":{service:"team",cmd:"teamMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"8_5":{service:"team",cmd:"addTeamMembers",response:[{type:"long",name:"time"},{type:"StrArray",name:"abortedAccidList"}]},"8_6":{service:"team",cmd:"removeTeamMembers"},"8_7":{service:"team",cmd:"updateTeam",response:[{type:"Number",name:"id"},{type:"Number",name:"time"}]},"8_8":{service:"team",cmd:"leaveTeam"},"8_9":{service:"team",cmd:"getTeam",response:[{type:"Property",name:"team"}]},"8_10":{service:"team",cmd:"getTeams",response:[{type:"PropertyArray",name:"teams",entity:"team"},{type:"Number",name:"timetag"}]},"8_11":{service:"team",cmd:"getTeamMembers",response:[{type:"Number",name:"teamId"},{type:"PropertyArray",name:"members",entity:"teamMember"},{type:"Number",name:"timetag"}]},"8_12":{service:"team",cmd:"dismissTeam"},"8_13":{service:"team",cmd:"applyTeam",response:[{type:"Property",name:"team"}]},"8_14":{service:"team",cmd:"passTeamApply"},"8_15":{service:"team",cmd:"rejectTeamApply"},"8_16":{service:"team",cmd:"addTeamManagers"},"8_17":{service:"team",cmd:"removeTeamManagers"},"8_18":{service:"team",cmd:"transferTeam"},"8_19":{service:"team",cmd:"updateInfoInTeam"},"8_20":{service:"team",cmd:"updateNickInTeam"},"8_21":{service:"team",cmd:"acceptTeamInvite",response:[{type:"Property",name:"team"}]},"8_22":{service:"team",cmd:"rejectTeamInvite"},"8_23":{service:"team",cmd:"getTeamHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"8_24":{service:"team",cmd:"searchTeamHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"8_25":{service:"team",cmd:"updateMuteStateInTeam"},"8_26":{service:"team",cmd:"getMyTeamMembers",response:[{type:"PropertyArray",name:"teamMembers",entity:"teamMember"}]},"8_27":{service:"team",cmd:"getMutedTeamMembers",response:[{type:"Number",name:"teamId"},{type:"PropertyArray",name:"teamMembers",entity:"teamMember"}]},"8_28":{service:"team",cmd:"sendTeamMsgReceipt",response:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},"8_29":{service:"team",cmd:"getTeamMsgReads",response:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},"8_30":{service:"team",cmd:"getTeamMsgReadAccounts",response:[{type:"String",name:"idClient"},{type:"StrArray",name:"readAccounts"},{type:"StrArray",name:"unreadAccounts"}]},"8_31":{service:"team",cmd:"notifyTeamMsgReads",response:[{type:"PropertyArray",name:"teamMsgReceipts",entity:"teamMsgReceipt"}]},"8_32":{service:"team",cmd:"muteTeamAll",response:[]},"8_33":{service:"team",cmd:"getTeamMemberInvitorAccid",response:[{type:"object",name:"accountsMap"}]},"8_126":{service:"team",cmd:"syncMyTeamMembers",response:[{type:"PropertyArray",name:"teamMembers",entity:"teamMember"},{type:"Number",name:"timetag"}]},"8_109":{service:"team",cmd:"syncTeams",response:[{type:"Number",name:"timetag"},{type:"PropertyArray",name:"teams",entity:"team"}]},"8_111":{service:"team",cmd:"syncTeamMembers",response:[{type:"Number",name:"teamId"},{type:"PropertyArray",name:"members",entity:"teamMember"},{type:"Number",name:"timetag"}]},"8_101":{service:"team",cmd:"syncCreateTeam",response:[{type:"Property",name:"team"}]},"8_102":{service:"team",cmd:"syncSendTeamMsg",response:[{type:"Property",name:"msg"}]},"8_119":{service:"team",cmd:"syncUpdateTeamMember",response:[{type:"Property",name:"teamMember"}]},"12_1":{service:"friend",cmd:"friendRequest"},"12_101":{service:"friend",cmd:"syncFriendRequest",response:[{type:"String",name:"account"},{type:"Number",name:"type"},{type:"String",name:"ps"}]},"12_2":{service:"friend",cmd:"deleteFriend"},"12_102":{service:"friend",cmd:"syncDeleteFriend",response:[{type:"String",name:"account"}]},"12_3":{service:"friend",cmd:"updateFriend"},"12_103":{service:"friend",cmd:"syncUpdateFriend",response:[{type:"Property",name:"friend"}]},"12_4":{service:"friend",cmd:"getFriends",response:[{type:"PropertyArray",name:"friends",entity:"friend"},{type:"Number",name:"timetag"}]},"12_5":{service:"friend",cmd:"syncFriends",response:[{type:"PropertyArray",name:"friends",entity:"friend"},{type:"Number",name:"timetag"}]},"12_6":{service:"friend",cmd:"syncFriendUsers",response:[{type:"PropertyArray",name:"users",entity:"user"},{type:"Number",name:"timetag"}]},"13_1":{service:"chatroom",cmd:"getChatroomAddress",response:[{type:"StrArray",name:"address"}]},"14_1":{service:"eventService",cmd:"publishEvent",response:[{type:"Property",name:"msgEvent"}]},"14_2":{service:"eventService",cmd:"pushEvent",response:[{type:"Property",name:"msgEvent"}]},"14_3":{service:"eventService",cmd:"subscribeEvent",response:[{type:"StrArray",name:"accounts"}]},"14_4":{service:"eventService",cmd:"unSubscribeEventsByAccounts",response:[{type:"StrArray",name:"accounts"}]},"14_5":{service:"eventService",cmd:"unSubscribeEventsByType"},"14_6":{service:"eventService",cmd:"querySubscribeEventsByAccounts",response:[{type:"PropertyArray",name:"msgEventSubscribes",entity:"msgEventSubscribe"}]},"14_7":{service:"eventService",cmd:"querySubscribeEventsByType",response:[{type:"PropertyArray",name:"msgEventSubscribes",entity:"msgEventSubscribe"}]},"14_9":{service:"eventService",cmd:"pushEvents",response:[{type:"PropertyArray",name:"msgEvents",entity:"msgEvent"}]},"101_1":{service:"filter",cmd:"sendFilterMsg",response:[{type:"Property",name:"msg"}]},"101_2":{service:"filter",cmd:"filterMsg",response:[{type:"Property",name:"msg"}]},"101_3":{service:"filter",cmd:"filterSysMsg",response:[{type:"Property",name:"sysMsg"}]},"101_7":{service:"filter",cmd:"sendFilterCustomSysMsg"}});e.exports={idMap:r,cmdConfig:o,packetConfig:a}},function(e,t,n){"use strict";var s=n(0).notundef;function i(e){s(e.shouldPushNotificationWhenPCOnline)&&(this.open=e.shouldPushNotificationWhenPCOnline?2:1)}i.getDefaultConfig=function(){return{shouldPushNotificationWhenPCOnline:!0}},i.reverse=function(e){return{shouldPushNotificationWhenPCOnline:1!=+e.open}},e.exports=i},function(e,t,n){"use strict";t.__esModule=!0;var s,i=n(165),r=(s=i)&&s.__esModule?s:{default:s};t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}},function(e,t,n){"use strict";var s=n(0),i=s.notundef,r=s.fillPropertyWithDefault,o=Object.keys,a={},c={},u={},l=[],d={normal:0,advanced:1},f={0:"normal",1:"advanced"},m=a.joinMode={noVerify:0,needVerify:1,rejectAll:2};c.joinMode={0:"noVerify",1:"needVerify",2:"rejectAll"},u.joinMode=o(m),l.push("join");var p=a.beInviteMode={needVerify:0,noVerify:1};function h(e){s.verifyOptions(e,"action","superTeam::SuperTeam"),s.verifyOptions(e,"teamId","superTeam::SuperTeam"),i(e.teamId)&&(this.teamId=e.teamId),i(e.type)&&(this.type=d[e.type]),i(e.avatar)&&(this.avatar=""+e.avatar),i(e.name)&&(this.name=""+e.name),i(e.intro)&&(this.intro=""+e.intro),i(e.announcement)&&(this.announcement=""+e.announcement),i(e.custom)&&(this.custom=""+e.custom),l.forEach(this.setMode.bind(this,e))}c.beInviteMode={0:"needVerify",1:"noVerify"},l.push("beInvite"),u.beInviteMode=o(p),h.prototype.setMode=function(e,t){i(e[t+="Mode"])&&(s.verifyParamValid(t,e[t],u[t],"Superteam::Team"),this[t]=a[t][e[t]])},h.reverse=function(e,t){var n=s.copy(e);if(i(n.teamId)&&(n.teamId=""+n.teamId),i(n.type)&&(n.type=f[n.type]),i(n.level)&&(n.level=+n.level),i(n.valid)&&(n.valid=1==+n.valid),i(n.memberNum)&&(n.memberNum=+n.memberNum),i(n.memberUpdateTime)&&(n.memberUpdateTime=+n.memberUpdateTime),i(n.createTime)&&(n.createTime=+n.createTime),i(n.updateTime)&&(n.updateTime=+n.updateTime),i(n.validToCurrentUser)&&(n.validToCurrentUser="1"===n.validToCurrentUser),i(n.mute)&&(n.mute="1"===n.mute),i(n.muteType))switch(n.muteType){case"0":n.mute=!1,n.muteType="none";break;case"1":n.mute=!0,n.muteType="normal";break;case"3":n.mute=!0,n.muteType="all"}else i(n.mute)&&(1===n.mute?(n.mute=!0,n.muteType="normal"):(n.mute=!1,n.muteType="none"));return l.forEach(function(e,t){i(e[t+="Mode"])&&(e[t]=c[t][e[t]])}.bind(null,n)),delete n.bits,t||h.fillProperties(n),n},h.fillProperties=function(e){return r(e,"avatar","")},e.exports=h},function(e,t,n){var s=n(16);s(s.S+s.F*!n(10),"Object",{defineProperty:n(9).f})},function(e,t,n){n(108);var s=n(5).Object;e.exports=function(e,t,n){return s.defineProperty(e,t,n)}},function(e,t,n){n(39)("observable")},function(e,t,n){n(39)("asyncIterator")},function(e,t,n){var s=n(18),i=n(66).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(s(e))}},function(e,t,n){var s=n(36);e.exports=Array.isArray||function(e){return"Array"==s(e)}},function(e,t,n){var s=n(31),i=n(50),r=n(30);e.exports=function(e){var t=s(e),n=i.f;if(n)for(var o,a=n(e),c=r.f,u=0;a.length>u;)c.call(e,o=a[u++])&&t.push(o);return t}},function(e,t,n){var s=n(28)("meta"),i=n(15),r=n(11),o=n(9).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(24)((function(){return c(Object.preventExtensions({}))})),l=function(e){o(e,s,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:s,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,s)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[s].i},getWeak:function(e,t){if(!r(e,s)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[s].w},onFreeze:function(e){return u&&d.NEED&&c(e)&&!r(e,s)&&l(e),e}}},function(e,t,n){"use strict";var s=n(3),i=n(11),r=n(10),o=n(16),a=n(69),c=n(115).KEY,u=n(24),l=n(42),d=n(35),f=n(28),m=n(4),p=n(40),h=n(39),g=n(114),v=n(113),y=n(12),b=n(15),_=n(18),T=n(44),S=n(27),C=n(57),M=n(112),w=n(97),k=n(9),I=n(31),O=w.f,P=k.f,x=M.f,A=s.Symbol,j=s.JSON,$=j&&j.stringify,R=m("_hidden"),E=m("toPrimitive"),L={}.propertyIsEnumerable,D=l("symbol-registry"),N=l("symbols"),U=l("op-symbols"),F=Object.prototype,B="function"==typeof A,q=s.QObject,H=!q||!q.prototype||!q.prototype.findChild,G=r&&u((function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var s=O(F,t);s&&delete F[t],P(e,t,n),s&&e!==F&&P(F,t,s)}:P,V=function(e){var t=N[e]=C(A.prototype);return t._k=e,t},z=B&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},J=function e(t,n,s){return t===F&&e(U,n,s),y(t),n=T(n,!0),y(s),i(N,n)?(s.enumerable?(i(t,R)&&t[R][n]&&(t[R][n]=!1),s=C(s,{enumerable:S(0,!1)})):(i(t,R)||P(t,R,S(1,{})),t[R][n]=!0),G(t,n,s)):P(t,n,s)},W=function(e,t){y(e);for(var n,s=g(t=_(t)),i=0,r=s.length;r>i;)J(e,n=s[i++],t[n]);return e},K=function(e){var t=L.call(this,e=T(e,!0));return!(this===F&&i(N,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(N,e)||i(this,R)&&this[R][e])||t)},X=function(e,t){if(e=_(e),t=T(t,!0),e!==F||!i(N,t)||i(U,t)){var n=O(e,t);return!n||!i(N,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=x(_(e)),s=[],r=0;n.length>r;)i(N,t=n[r++])||t==R||t==c||s.push(t);return s},Q=function(e){for(var t,n=e===F,s=x(n?U:_(e)),r=[],o=0;s.length>o;)!i(N,t=s[o++])||n&&!i(F,t)||r.push(N[t]);return r};B||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function t(n){this===F&&t.call(U,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),G(this,e,S(1,n))};return r&&H&&G(F,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",(function(){return this._k})),w.f=X,k.f=J,n(66).f=M.f=Y,n(30).f=K,n(50).f=Q,r&&!n(37)&&a(F,"propertyIsEnumerable",K,!0),p.f=function(e){return V(m(e))}),o(o.G+o.W+o.F*!B,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)m(Z[ee++]);for(var te=I(m.store),ne=0;te.length>ne;)h(te[ne++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return i(D,e+="")?D[e]:D[e]=A(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!B,"Object",{create:function(e,t){return void 0===t?C(e):W(C(e),t)},defineProperty:J,defineProperties:W,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Q}),j&&o(o.S+o.F*(!B||u((function(){var e=A();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,s=[e],i=1;arguments.length>i;)s.push(arguments[i++]);if(n=t=s[1],(b(t)||void 0!==e)&&!z(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!z(t))return t}),s[1]=t,$.apply(j,s)}}),A.prototype[E]||n(13)(A.prototype,E,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(s.JSON,"JSON",!0)},function(e,t,n){n(116),n(79),n(111),n(110),e.exports=n(5).Symbol},function(e,t,n){e.exports={default:n(117),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var s=n(120),i=n(119),r=n(26),o=n(18);e.exports=n(71)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),r.Arguments=r.Array,s("keys"),s("values"),s("entries")},function(e,t,n){var s=n(11),i=n(56),r=n(43)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),s(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var s=n(46),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=s(e))<0?i(e+t,0):r(e,t)}},function(e,t,n){var s=n(18),i=n(67),r=n(123);e.exports=function(e){return function(t,n,o){var a,c=s(t),u=i(c.length),l=r(o,u);if(e&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var s=n(9),i=n(12),r=n(31);e.exports=n(10)?Object.defineProperties:function(e,t){i(e);for(var n,o=r(t),a=o.length,c=0;a>c;)s.f(e,n=o[c++],t[n]);return e}},function(e,t,n){"use strict";var s=n(57),i=n(27),r=n(35),o={};n(13)(o,n(4)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=s(o,{next:i(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var s=n(46),i=n(45);e.exports=function(e){return function(t,n){var r,o,a=String(i(t)),c=s(n),u=a.length;return c<0||c>=u?e?"":void 0:(r=a.charCodeAt(c))<55296||r>56319||c+1===u||(o=a.charCodeAt(c+1))<56320||o>57343?e?a.charAt(c):r:e?a.slice(c,c+2):o-56320+(r-55296<<10)+65536}}},function(e,t,n){n(47),n(53),e.exports=n(40).f("iterator")},function(e,t,n){e.exports={default:n(128),__esModule:!0}},function(e,t,n){"use strict";n(191);var s=n(1);s.lbsUrl=s.lbsUrl.replace("/webconf.jsp","/wxwebconf.jsp"),s.defaultReportUrl=null,s.isWeixinApp=!0},,,,,function(e,t,n){"use strict";var s=n(0),i=s.notundef,r=s.undef;function o(e){i(e.name)&&(this.name=""+e.name),i(e.announcement)&&(this.announcement=""+e.announcement),i(e.broadcastUrl)&&(this.broadcastUrl=""+e.broadcastUrl),i(e.custom)&&(this.custom=""+e.custom),i(e.queuelevel)&&(this.queuelevel=parseInt(e.queuelevel))}o.reverse=function(e){var t=s.copy(e);return r(t.announcement)&&(t.announcement=""),r(t.broadcastUrl)&&(t.broadcastUrl=""),r(t.custom)&&(t.custom=""),i(t.createTime)&&(t.createTime=+t.createTime),i(t.updateTime)&&(t.updateTime=+t.updateTime),i(t.onlineMemberNum)&&(t.onlineMemberNum=+t.onlineMemberNum),i(t.mute)&&(t.mute="1"===t.mute),t},e.exports=o},function(e,t,n){"use strict";var s=n(14);e.exports=function(e){var t,n,i,r;e.db&&(s.db=e.db),e.rnfs&&(s.rnfs=e.rnfs,s.rnfs.size||(s.rnfs.size=1048576),s.rnfs.nimPromise=(t=s.rnfs,n=t.size/2-256,r=0,i=s.rnfs.DocumentDirectoryPath+"/nimlog_"+r+".log",t.exists(i).then((function(e){return e?t.stat(i):Promise.reject(0)})).then((function(e){return e&&e.size>n?Promise.reject(1):Promise.reject(0)})).catch((function(e){return"number"==typeof e?t.nimIndex=e:__f__("error","initRnfs::ERROR",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:6"),Promise.resolve()}))))}},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s};function o(e){var t=this,n=e.url||null;t.level={debug:0,log:1,info:2,warn:3,error:4}[e.level]||0,t.logCache=[],t.logNum=1,t.timeInterval=5e3,window.onerror=function(e,n,s,i,r){t.error(r)},setInterval((function(){t.logCache.length>0&&n&&t.postLogs(n,t.logCache)}),t.timeInterval)}o.prototype.debug=function(){this.level>0||(console.debug.apply(this,arguments),this.cacheLogs.apply(this,["[degbug]"].concat(arguments)))},o.prototype.log=function(){this.level>1||(console.log.apply(this,arguments),this.cacheLogs.apply(this,["[log]"].concat(arguments)))},o.prototype.info=function(){this.level>2||(console.info.apply(this,arguments),this.cacheLogs.apply(this,["[info]"].concat(arguments)))},o.prototype.warn=function(){this.level>3||(console.warn.apply(this,arguments),this.cacheLogs.apply(this,["[warn]"].concat(arguments)))},o.prototype.error=function(){this.level>4||(console.error.apply(this,arguments),this.cacheLogs.apply(this,["[error]"].concat(arguments)))},o.prototype.cacheLogs=function(e,t){for(var n=[],s=0;s<t.length;s++){var i=t[s];"object"===(void 0===i?"undefined":(0,r.default)(i))?n.push(JSON.stringify(i)):n.push(i)}var o=this.logNum+++" "+e+" "+n.join("; ");this.logCache.push(o.replace("%c",""))},o.prototype.postLogs=function(e,t){var n=this,s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&(200===s.status?(__f__("info","LoggerPlugin::日志上报完成"," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:6"),n.logCache=[],n.timeInterval=5e3):n.timeInterval+=5e3)},s.open("POST",e),s.setRequestHeader("Content-Type","plain/text;charset=utf-8"),s.timeout=360,s.send(t.join("\n"))},e.exports=o},function(e,t,n){"use strict";var s={set:function(e,t,n){s[e]=t,n&&(n.support=t)}};e.exports=s},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var s=arguments[t];for(var i in s)n.call(s,i)&&(e[i]=s[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){var s=n(81);e.exports=function(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===i.call(e)?function(e,t,n){for(var s=0,i=e.length;s<i;s++)r.call(e,s)&&t.call(n,e[s],s,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var s=0,i=e.length;s<i;s++)t.call(n,e.charAt(s),s,e)}(e,t,n):function(e,t,n){for(var s in e)r.call(e,s)&&t.call(n,e[s],s,e)}(e,t,n)};var i=Object.prototype.toString,r=Object.prototype.hasOwnProperty},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){var s=n(141),i=n(140);e.exports=function(e){if(!e)return{};var t={};return i(s(e).split("\n"),(function(e){var n,i=e.indexOf(":"),r=s(e.slice(0,i)).toLowerCase(),o=s(e.slice(i+1));void 0===t[r]?t[r]=o:(n=t[r],"[object Array]"===Object.prototype.toString.call(n)?t[r].push(o):t[r]=[t[r],o])})),t}},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(51))},function(e,t,n){"use strict";var s=n(143),i=n(81),r=n(142),o=n(139);function a(e,t,n){var s=e;return i(t)?(n=t,"string"==typeof e&&(s={uri:e})):s=o(t,{uri:e}),s.callback=n,s}function c(e,t,n){return u(t=a(e,t,n))}function u(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,s,i){t||(t=!0,e.callback(n,s,i))};function s(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function i(){if(!a){var t;clearTimeout(l),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var s=v,i=null;return 0!==t?(s={body:function(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),g)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:f,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(s.headers=r(u.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),n(i,s,s.body)}}var o,a,u=e.xhr||null;u||(u=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var l,d=u.url=e.uri||e.url,f=u.method=e.method||"GET",m=e.body||e.data,p=u.headers=e.headers||{},h=!!e.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(g=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),m=JSON.stringify(!0===e.json?m:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(i,0)},u.onload=i,u.onerror=s,u.onprogress=function(){},u.onabort=function(){a=!0},u.ontimeout=s,u.open(f,d,!h,e.username,e.password),h||(u.withCredentials=!!e.withCredentials),!h&&e.timeout>0&&(l=setTimeout((function(){if(!a){a=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}}),e.timeout)),u.setRequestHeader)for(o in p)p.hasOwnProperty(o)&&u.setRequestHeader(o,p[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(m||null),u}e.exports=c,c.XMLHttpRequest=s.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:s.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){c["delete"===e?"del":e]=function(t,n,s){return(n=a(t,n,s)).method=e.toUpperCase(),u(n)}}))},function(e,t,n){var s=n(12),i=n(15),r=n(101);e.exports=function(e,t){if(s(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var s,i,r,o=n(38),a=n(235),c=n(80),u=n(54),l=n(3),d=l.process,f=l.setImmediate,m=l.clearImmediate,p=l.MessageChannel,h=l.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};f&&m||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){a("function"==typeof e?e:Function(e),t)},s(g),g},m=function(e){delete v[e]},"process"==n(36)(d)?s=function(e){d.nextTick(o(y,e,1))}:h&&h.now?s=function(e){h.now(o(y,e,1))}:p?(r=(i=new p).port2,i.port1.onmessage=b,s=o(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(s=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):s="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:f,clear:m}},function(e,t,n){var s=n(12),i=n(55),r=n(4)("species");e.exports=function(e,t){var n,o=s(e).constructor;return void 0===o||null==(n=s(o)[r])?t:i(n)}},function(e,t,n){"use strict";t.__esModule=!0;var s=r(n(265)),i=r(n(262));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,s.default)(Object(e)))return function(e,t){var n=[],s=!0,r=!1,o=void 0;try{for(var a,c=(0,i.default)(e);!(s=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);s=!0);}catch(e){r=!0,o=e}finally{try{!s&&c.return&&c.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";var s=n(0),i=s.notundef,r={addFriend:1,applyFriend:2,passFriendApply:3,rejectFriendApply:4},o={1:"addFriend",2:"applyFriend",3:"passFriendApply",4:"rejectFriendApply"};function a(e){s.verifyOptions(e,"account","friend::Friend"),s.verifyParamAtLeastPresentOne(e,"alias custom","friend::Friend"),this.account=e.account,i(e.alias)&&(this.alias=e.alias),i(e.custom)&&(this.custom=e.custom)}a.reverse=function(e){var t=s.filterObj(e,"account alias custom createTime updateTime serverex");return i(e.flag)&&(t.valid="1"===e.flag),i(t.createTime)&&(t.createTime=+t.createTime),i(t.updateTime)&&(t.updateTime=+t.updateTime),t},a.validTypes=function(){return Object.keys(r)},a.getByteFromType=function(e){return r[e]},a.getTypeFromByte=function(e){return o[e]},a.assembleFriend=function(e){var t=+new Date;return{account:e,alias:"",createTime:t,custom:"",updateTime:t,valid:!0}},e.exports=a},function(e,t,n){var s=n(4)("iterator"),i=!1;try{var r=[7][s]();r.return=function(){i=!0},Array.from(r,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r=[7],o=r[s]();o.next=function(){return{done:n=!0}},r[s]=function(){return o},e(r)}catch(e){}return n}},function(e,t,n){var s=n(26),i=n(4)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(s.Array===e||r[i]===e)}},function(e,t,n){var s=n(12);e.exports=function(e,t,n,i){try{return i?t(s(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&s(r.call(e)),t}}},function(e,t,n){"use strict";e.exports={imLogin:{3:"clientType",4:"os",6:"sdkVersion",8:"appLogin",9:"protocolVersion",10:"pushTokenName",11:"pushToken",13:"deviceId",18:"appKey",19:"account",24:"browser",26:"session",32:"deviceInfo",38:"customTag",112:"isReactNative",1e3:"token"},nosToken:{1:"objectName",2:"token",3:"bucket",4:"expireTime",7:"expireSec",8:"tag",9:"shortUrl"},audioToText:{2:"url"},imageOp:{0:"type",1:"stripmeta",2:"typeType",3:"blurRadius",4:"blurSigma",5:"qualityQuality",6:"cropX",7:"cropY",8:"cropWidth",9:"cropHeight",10:"rotateAngle",11:"pixelPixel",12:"thumbnailMode",13:"thumbnailWidth",14:"thumbnailHeight",15:"thumbnailAxisX",16:"thumbnailAxisY",17:"thumbnailCenterX",18:"thumbnailCenterY",19:"thumbnailEnlarge",20:"thumbnailToStatic",21:"watermarkType",22:"watermarkGravity",23:"watermarkDissolve",24:"watermarkDx",25:"watermarkDy",26:"watermarkImage",27:"watermarkText",28:"watermarkFont",29:"watermarkFontSize",30:"watermarkFontColor",31:"interlace"},robot:{4:"account",5:"nick",6:"avatar",7:"intro",8:"config",9:"valid",10:"createTime",11:"updateTime",12:"custid",13:"botid",14:"bindTime",_6_safe:"_avatar_safe"},clientAntispam:{1:"version",2:"md5",3:"nosurl",4:"thesaurus"},fileQuickTransfer:{1:"md5",2:"url",3:"size",4:"threshold",_2_safe:"_url_safe"},transToken:{1:"name",2:"type",3:"transType",4:"size",5:"extra",6:"body"},transInfo:{1:"docId",2:"name",3:"prefix",4:"size",5:"type",6:"state",7:"transType",8:"transSize",9:"pageCount",10:"picInfo",11:"extra",12:"flag"},nosFileUrlTag:{0:"safeUrl",1:"originUrl"},fileListParam:{1:"fromDocId",2:"limit"},avSignalTag:{1:"type",2:"channelName",3:"channelId",4:"channelCreateTime",5:"channelExpireTime",6:"creator",7:"ext",8:"channelInValid",10:"from",11:"to",12:"requestId",13:"needPush",14:"pushTitle",15:"pushContent",16:"pushPayload",17:"needBadge",18:"members",19:"attach",20:"attachExt",21:"isSave",22:"msgid",23:"uid",24:"time"},login:{1:"appKey",2:"account",3:"deviceId",5:"chatroomId",8:"appLogin",20:"chatroomNick",21:"chatroomAvatar",22:"chatroomCustom",23:"chatroomEnterCustom",26:"session",38:"isAnonymous",_21_safe:"_chatroomAvatar_safe"},chatroom:{1:"id",3:"name",4:"announcement",5:"broadcastUrl",12:"custom",14:"createTime",15:"updateTime",16:"queuelevel",100:"creator",101:"onlineMemberNum",102:"mute"},msg:{1:"idClient",2:"type",3:"attach",4:"custom",5:"resend",6:"userUpdateTime",7:"fromNick",8:"fromAvatar",9:"fromCustom",10:"yidunEnable",11:"antiSpamContent",12:"skipHistory",13:"body",14:"antiSpamBusinessId",15:"clientAntiSpam",16:"antiSpamUsingYidun",20:"time",21:"from",22:"chatroomId",23:"fromClientType",25:"highPriority",_8_safe:"_fromAvatar_safe"},chatroomMember:{1:"chatroomId",2:"account",3:"type",4:"level",5:"nick",6:"avatar",7:"custom",8:"online",9:"guest",10:"enterTime",12:"blacked",13:"gaged",14:"valid",15:"updateTime",16:"tempMuted",17:"tempMuteDuration",_6_safe:"_avatar_safe"}}},function(e,t,n){"use strict";e.exports={imLogin:{clientType:3,os:4,sdkVersion:6,appLogin:8,protocolVersion:9,pushTokenName:10,pushToken:11,deviceId:13,appKey:18,account:19,browser:24,session:26,deviceInfo:32,isReactNative:112,token:1e3,customTag:38},nosToken:{objectName:1,token:2,bucket:3,expireTime:4,expireSec:7,tag:8,shortUrl:9},audioToText:{url:2},imageOp:{type:0,stripmeta:1,typeType:2,blurRadius:3,blurSigma:4,qualityQuality:5,cropX:6,cropY:7,cropWidth:8,cropHeight:9,rotateAngle:10,pixelPixel:11,thumbnailMode:12,thumbnailWidth:13,thumbnailHeight:14,thumbnailAxisX:15,thumbnailAxisY:16,thumbnailCenterX:17,thumbnailCenterY:18,thumbnailEnlarge:19,thumbnailToStatic:20,watermarkType:21,watermarkGravity:22,watermarkDissolve:23,watermarkDx:24,watermarkDy:25,watermarkImage:26,watermarkText:27,watermarkFont:28,watermarkFontSize:29,watermarkFontColor:30,interlace:31},robot:{account:4,nick:5,avatar:6,intro:7,config:8,valid:9,createTime:10,updateTime:11,custid:12,botid:13,bindTime:14},clientAntispam:{version:1,md5:2,nosurl:3,thesaurus:4},fileQuickTransfer:{md5:1,url:2,size:3,threshold:4},transToken:{name:1,type:2,transType:3,size:4,extra:5,body:6},transInfo:{docId:1,name:2,prefix:3,size:4,type:5,state:6,transType:7,transSize:8,pageCount:9,picInfo:10,extra:11,flag:12},nosFileUrlTag:{safeUrl:0,originUrl:1},fileListParam:{fromDocId:1,limit:2},avSignalTag:{type:1,channelName:2,channelId:3,channelCreateTime:4,channelExpireTime:5,creator:6,ext:7,channelInValid:8,from:10,to:11,requestId:12,needPush:13,pushTitle:14,pushContent:15,pushPayload:16,needBadge:17,members:18,attach:19,attachExt:20,isSave:21,msgid:22,uid:23,time:24},login:{appKey:1,account:2,deviceId:3,chatroomId:5,appLogin:8,chatroomNick:20,chatroomAvatar:21,chatroomCustom:22,chatroomEnterCustom:23,session:26,isAnonymous:38},chatroom:{id:1,name:3,announcement:4,broadcastUrl:5,custom:12,createTime:14,updateTime:15,queuelevel:16,creator:100,onlineMemberNum:101,mute:102},msg:{idClient:1,type:2,attach:3,custom:4,resend:5,userUpdateTime:6,fromNick:7,fromAvatar:8,fromCustom:9,yidunEnable:10,antiSpamContent:11,skipHistory:12,body:13,antiSpamBusinessId:14,clientAntiSpam:15,antiSpamUsingYidun:16,time:20,from:21,chatroomId:22,fromClientType:23,highPriority:25},chatroomMember:{chatroomId:1,account:2,type:3,level:4,nick:5,avatar:6,custom:7,online:8,guest:9,enterTime:10,blacked:12,gaged:13,valid:14,updateTime:15,tempMuted:16,tempMuteDuration:17}}},function(e,t,n){"use strict";var s=n(0),i=n(63),r=s.merge({},i.idMap,{chatroom:{id:13,login:2,kicked:3,logout:4,sendMsg:6,msg:7,getChatroomMembers:8,getHistoryMsgs:9,markChatroomMember:11,closeChatroom:12,getChatroom:13,updateChatroom:14,updateMyChatroomMemberInfo:15,getChatroomMembersInfo:16,kickChatroomMember:17,updateChatroomMemberTempMute:19,queueOffer:20,queuePoll:21,queueList:22,peak:23,queueDrop:24,queueInit:25,queueChange:26},user:{id:3,syncRobot:16}}),o=s.merge({},i.cmdConfig,{login:{sid:r.chatroom.id,cid:r.chatroom.login,params:[{type:"byte",name:"type"},{type:"Property",name:"login"},{type:"Property",name:"imLogin"}]},logout:{sid:r.chatroom.id,cid:r.chatroom.logout},sendMsg:{sid:r.chatroom.id,cid:r.chatroom.sendMsg,params:[{type:"Property",name:"msg"}]},getChatroomMembers:{sid:r.chatroom.id,cid:r.chatroom.getChatroomMembers,params:[{type:"byte",name:"type"},{type:"long",name:"time"},{type:"int",name:"limit"}]},getHistoryMsgs:{sid:r.chatroom.id,cid:r.chatroom.getHistoryMsgs,params:[{type:"long",name:"timetag"},{type:"int",name:"limit"},{type:"bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}]},markChatroomMember:{sid:r.chatroom.id,cid:r.chatroom.markChatroomMember,params:[{type:"string",name:"account"},{type:"int",name:"type"},{type:"bool",name:"isAdd"},{type:"int",name:"level"},{type:"string",name:"custom"}]},closeChatroom:{sid:r.chatroom.id,cid:r.chatroom.closeChatroom,params:[{type:"string",name:"custom"}]},getChatroom:{sid:r.chatroom.id,cid:r.chatroom.getChatroom},updateChatroom:{sid:r.chatroom.id,cid:r.chatroom.updateChatroom,params:[{type:"Property",name:"chatroom"},{type:"bool",name:"needNotify"},{type:"String",name:"custom"}]},updateMyChatroomMemberInfo:{sid:r.chatroom.id,cid:r.chatroom.updateMyChatroomMemberInfo,params:[{type:"Property",name:"chatroomMember"},{type:"bool",name:"needNotify"},{type:"String",name:"custom"},{type:"bool",name:"needSave"}]},getChatroomMembersInfo:{sid:r.chatroom.id,cid:r.chatroom.getChatroomMembersInfo,params:[{type:"StrArray",name:"accounts"}]},kickChatroomMember:{sid:r.chatroom.id,cid:r.chatroom.kickChatroomMember,params:[{type:"string",name:"account"},{type:"string",name:"custom"}]},updateChatroomMemberTempMute:{sid:r.chatroom.id,cid:r.chatroom.updateChatroomMemberTempMute,params:[{type:"String",name:"account"},{type:"long",name:"duration"},{type:"bool",name:"needNotify"},{type:"String",name:"custom"}]},queueOffer:{sid:r.chatroom.id,cid:r.chatroom.queueOffer,params:[{type:"string",name:"elementKey"},{type:"string",name:"elementValue"},{type:"bool",name:"transient"}]},queuePoll:{sid:r.chatroom.id,cid:r.chatroom.queuePoll,params:[{type:"string",name:"elementKey"}]},queueList:{sid:r.chatroom.id,cid:r.chatroom.queueList},peak:{sid:r.chatroom.id,cid:r.chatroom.peak},queueDrop:{sid:r.chatroom.id,cid:r.chatroom.queueDrop},queueInit:{sid:r.chatroom.id,cid:r.chatroom.queueInit,params:[{type:"int",name:"limit"}]},queueChange:{sid:r.chatroom.id,cid:r.chatroom.queueChange,params:[{type:"StrStrMap",name:"elementMap"},{type:"bool",name:"needNotify"},{type:"string",name:"notifyExt"}]},syncRobot:{sid:r.user.id,cid:r.user.syncRobot,params:[{type:"long",name:"timetag"}]}}),a=s.merge({},i.packetConfig,{"4_10":{service:"notify"},"4_11":{service:"notify"},"3_16":{service:"chatroom",cmd:"syncRobot",response:[{type:"PropertyArray",name:"robots",entity:"robot"}]},"13_2":{service:"chatroom",cmd:"login",response:[{type:"Property",name:"chatroom"},{type:"Property",name:"chatroomMember"}]},"13_3":{service:"chatroom",cmd:"kicked",response:[{type:"Number",name:"reason"},{type:"String",name:"custom"}]},"13_4":{service:"chatroom",cmd:"logout"},"13_6":{service:"chatroom",cmd:"sendMsg",response:[{type:"Property",name:"msg"}]},"13_7":{service:"chatroom",cmd:"msg",response:[{type:"Property",name:"msg"}]},"13_8":{service:"chatroom",cmd:"getChatroomMembers",response:[{type:"PropertyArray",name:"members",entity:"chatroomMember"}]},"13_9":{service:"chatroom",cmd:"getHistoryMsgs",response:[{type:"PropertyArray",name:"msgs",entity:"msg"}]},"13_11":{service:"chatroom",cmd:"markChatroomMember",response:[{type:"Property",name:"chatroomMember"}]},"13_12":{service:"chatroom",cmd:"closeChatroom"},"13_13":{service:"chatroom",cmd:"getChatroom",response:[{type:"Property",name:"chatroom"}]},"13_14":{service:"chatroom",cmd:"updateChatroom"},"13_15":{service:"chatroom",cmd:"updateMyChatroomMemberInfo"},"13_16":{service:"chatroom",cmd:"getChatroomMembersInfo",response:[{type:"PropertyArray",name:"members",entity:"chatroomMember"}]},"13_17":{service:"chatroom",cmd:"kickChatroomMember"},"13_19":{service:"chatroom",cmd:"updateChatroomMemberTempMute"},"13_20":{service:"chatroom",cmd:"queueOffer"},"13_21":{service:"chatroom",cmd:"queuePoll",response:[{type:"String",name:"elementKey"},{type:"String",name:"elementValue"}]},"13_22":{service:"chatroom",cmd:"queueList",response:[{type:"KVArray",name:"queueList"}]},"13_23":{service:"chatroom",cmd:"peak",response:[{type:"String",name:"elementKey"},{type:"String",name:"elementValue"}]},"13_24":{service:"chatroom",cmd:"queueDrop"},"13_25":{service:"chatroom",cmd:"queueInit"},"13_26":{service:"chatroom",cmd:"queueChange",response:[{type:"StrArray",name:"elementKeyArray"}]}});e.exports={idMap:r,cmdConfig:o,packetConfig:a}},function(e,t,n){"use strict";e.exports={negotiateTransportTag:{"-1":"version",1:"serializeList",101:"serialize"},initTransportTag:{},nosToken:{1:"objectName",2:"token",3:"bucket",4:"expireTime",7:"expireSec",8:"tag",9:"shortUrl"},audioToText:{2:"url"},imageOp:{0:"type",1:"stripmeta",2:"typeType",3:"blurRadius",4:"blurSigma",5:"qualityQuality",6:"cropX",7:"cropY",8:"cropWidth",9:"cropHeight",10:"rotateAngle",11:"pixelPixel",12:"thumbnailMode",13:"thumbnailWidth",14:"thumbnailHeight",15:"thumbnailAxisX",16:"thumbnailAxisY",17:"thumbnailCenterX",18:"thumbnailCenterY",19:"thumbnailEnlarge",20:"thumbnailToStatic",21:"watermarkType",22:"watermarkGravity",23:"watermarkDissolve",24:"watermarkDx",25:"watermarkDy",26:"watermarkImage",27:"watermarkText",28:"watermarkFont",29:"watermarkFontSize",30:"watermarkFontColor",31:"interlace"},robot:{4:"account",5:"nick",6:"avatar",7:"intro",8:"config",9:"valid",10:"createTime",11:"updateTime",12:"custid",13:"botid",14:"bindTime",_6_safe:"_avatar_safe"},clientAntispam:{1:"version",2:"md5",3:"nosurl",4:"thesaurus"},fileQuickTransfer:{1:"md5",2:"url",3:"size",4:"threshold",_2_safe:"_url_safe"},transToken:{1:"name",2:"type",3:"transType",4:"size",5:"extra",6:"body"},transInfo:{1:"docId",2:"name",3:"prefix",4:"size",5:"type",6:"state",7:"transType",8:"transSize",9:"pageCount",10:"picInfo",11:"extra",12:"flag"},nosFileUrlTag:{0:"safeUrl",1:"originUrl"},fileListParam:{1:"fromDocId",2:"limit"},avSignalTag:{1:"type",2:"channelName",3:"channelId",4:"channelCreateTime",5:"channelExpireTime",6:"creator",7:"ext",8:"channelInValid",10:"from",11:"to",12:"requestId",13:"needPush",14:"pushTitle",15:"pushContent",16:"pushPayload",17:"needBadge",18:"members",19:"attach",20:"attachExt",21:"isSave",22:"msgid",23:"uid",24:"time"},login:{3:"clientType",4:"os",6:"sdkVersion",8:"appLogin",9:"protocolVersion",10:"pushTokenName",11:"pushToken",13:"deviceId",18:"appKey",19:"account",24:"browser",26:"session",32:"deviceInfo",38:"customTag",112:"isReactNative",1e3:"token"},loginRes:{17:"lastLoginDeviceId",38:"customTag",102:"connectionId",103:"ip",104:"port",106:"country",111:"hasXMPush"},loginPort:{3:"type",4:"os",5:"mac",13:"deviceId",19:"account",32:"deviceInfo",38:"customTag",102:"connectionId",103:"ip",109:"time"},aosPushInfo:{110:"pushType",111:"hasTokenPreviously"},sync:{1:"myInfo",2:"offlineMsgs",3:"teams",6:"netcallMsgs",7:"roamingMsgs",9:"relations",11:"friends",12:"sessions",13:"friendUsers",14:"msgReceipts",15:"myTeamMembers",16:"donnop",17:"deleteMsg",18:"sessionAck",19:"robots",20:"broadcastMsgs",21:"avSignal",22:"superTeams",23:"myInfoInSuperTeams",24:"superTeamRoamingMsgs",25:"deleteSuperTeamMsg",26:"superTeamSessionAck",100:"filterMsgs"},donnop:{1:"open"},sessionReqTag:{1:"minTimestamp",2:"maxTimestamp",3:"needLastMsg",4:"limit",5:"hasMore"},session:{1:"id",2:"updateTime",3:"ext",4:"lastMsg"},superTeam:{1:"teamId",3:"name",4:"type",5:"owner",6:"level",7:"selfCustom",8:"valid",9:"memberNum",10:"memberUpdateTime",11:"createTime",12:"updateTime",13:"validToCurrentUser",14:"intro",15:"announcement",16:"joinMode",17:"bits",18:"custom",19:"serverCustom",20:"avatar",21:"beInviteMode",22:"inviteMode",23:"updateTeamMode",24:"updateCustomMode",100:"mute",101:"muteType",_20_safe:"_avatar_safe"},superTeamMember:{1:"teamId",3:"account",4:"type",5:"nickInTeam",7:"bits",8:"active",9:"valid",10:"createTime",11:"updateTime",12:"custom",13:"mute",14:"invitoraccid",15:"joinTime"},team:{1:"teamId",3:"name",4:"type",5:"owner",6:"level",7:"selfCustom",8:"valid",9:"memberNum",10:"memberUpdateTime",11:"createTime",12:"updateTime",13:"validToCurrentUser",14:"intro",15:"announcement",16:"joinMode",17:"bits",18:"custom",19:"serverCustom",20:"avatar",21:"beInviteMode",22:"inviteMode",23:"updateTeamMode",24:"updateCustomMode",100:"mute",101:"muteType",_20_safe:"_avatar_safe"},teamMember:{1:"teamId",3:"account",4:"type",5:"nickInTeam",7:"bits",8:"active",9:"valid",10:"joinTime",11:"updateTime",12:"custom",13:"mute",14:"invitorAccid"},msg:{0:"scene",1:"to",2:"from",4:"fromClientType",5:"fromDeviceId",6:"fromNick",7:"time",8:"type",9:"body",10:"attach",11:"idClient",12:"idServer",13:"resend",14:"userUpdateTime",15:"custom",16:"pushPayload",17:"pushContent",18:"apnsAccounts",19:"apnsContent",20:"apnsForcePush",21:"yidunEnable",22:"antiSpamContent",23:"antiSpamBusinessId",24:"clientAntiSpam",25:"antiSpamUsingYidun",26:"needMsgReceipt",28:"needUpdateSession",100:"isHistoryable",101:"isRoamingable",102:"isSyncable",104:"isMuted",105:"cc",106:"isInBlackList",107:"isPushable",108:"isOfflinable",109:"isUnreadable",110:"needPushNick",111:"isReplyMsg",112:"tempTeamMemberCount"},msgReceipt:{1:"to",2:"from",7:"time",11:"idClient"},teamMsgReceipt:{0:"teamId",1:"idServer",100:"read",101:"unread",102:"idClient",103:"account"},sysMsg:{0:"time",1:"type",2:"to",3:"from",4:"ps",5:"attach",6:"idServer",7:"sendToOnlineUsersOnly",8:"apnsText",9:"pushPayload",10:"deletedIdClient",11:"deletedIdServer",12:"yidunEnable",13:"antiSpamContent",14:"deletedMsgTime",15:"deletedMsgFromNick",16:"opeAccount",105:"cc",107:"isPushable",109:"isUnreadable",110:"needPushNick"},broadcastMsg:{1:"broadcastId",2:"fromAccid",3:"fromUid",4:"timestamp",5:"body"},friend:{4:"account",5:"flag",6:"beflag",7:"source",8:"alias",9:"bits",10:"custom",11:"createTime",12:"updateTime",13:"serverex"},user:{1:"account",3:"nick",4:"avatar",5:"sign",6:"gender",7:"email",8:"birth",9:"tel",10:"custom",12:"createTime",13:"updateTime",_4_safe:"_avatar_safe"},specialRelation:{0:"account",1:"isMuted",2:"isBlacked",3:"createTime",4:"updateTime"},msgType:{0:"text",1:"picture",2:"audio",3:"video",4:"location",5:"notification",6:"file",7:"netcall_audio",8:"netcall_vedio",9:"datatunnel_new",10:"tips",11:"robot",100:"custom"},msgEvent:{1:"type",2:"value",3:"idClient",4:"custom",5:"validTime",6:"broadcastType",7:"sync",8:"validTimeType",9:"durable",10:"time",11:"idServer",12:"clientType",13:"serverConfig",14:"serverCustom",101:"appid",103:"account",104:"enableMultiClient",106:"consid"},msgEventSubscribe:{1:"type",2:"subscribeTime",3:"sync",102:"to",104:"from",105:"time"},clearMsgsParams:{1:"account",2:"delRoam"},delFriendParams:{1:"delAlias"}}},function(e,t,n){"use strict";e.exports={negotiateTransportTag:{version:-1,serializeList:1,serialize:101},initTransportTag:{},nosToken:{objectName:1,token:2,bucket:3,expireTime:4,expireSec:7,tag:8,shortUrl:9},audioToText:{url:2},imageOp:{type:0,stripmeta:1,typeType:2,blurRadius:3,blurSigma:4,qualityQuality:5,cropX:6,cropY:7,cropWidth:8,cropHeight:9,rotateAngle:10,pixelPixel:11,thumbnailMode:12,thumbnailWidth:13,thumbnailHeight:14,thumbnailAxisX:15,thumbnailAxisY:16,thumbnailCenterX:17,thumbnailCenterY:18,thumbnailEnlarge:19,thumbnailToStatic:20,watermarkType:21,watermarkGravity:22,watermarkDissolve:23,watermarkDx:24,watermarkDy:25,watermarkImage:26,watermarkText:27,watermarkFont:28,watermarkFontSize:29,watermarkFontColor:30,interlace:31},robot:{account:4,nick:5,avatar:6,intro:7,config:8,valid:9,createTime:10,updateTime:11,custid:12,botid:13,bindTime:14},clientAntispam:{version:1,md5:2,nosurl:3,thesaurus:4},fileQuickTransfer:{md5:1,url:2,size:3,threshold:4},transToken:{name:1,type:2,transType:3,size:4,extra:5,body:6},transInfo:{docId:1,name:2,prefix:3,size:4,type:5,state:6,transType:7,transSize:8,pageCount:9,picInfo:10,extra:11,flag:12},nosFileUrlTag:{safeUrl:0,originUrl:1},fileListParam:{fromDocId:1,limit:2},avSignalTag:{type:1,channelName:2,channelId:3,channelCreateTime:4,channelExpireTime:5,creator:6,ext:7,channelInValid:8,from:10,to:11,requestId:12,needPush:13,pushTitle:14,pushContent:15,pushPayload:16,needBadge:17,members:18,attach:19,attachExt:20,isSave:21,msgid:22,uid:23,time:24},login:{clientType:3,os:4,sdkVersion:6,appLogin:8,protocolVersion:9,pushTokenName:10,pushToken:11,deviceId:13,appKey:18,account:19,browser:24,session:26,deviceInfo:32,isReactNative:112,token:1e3,customTag:38},loginRes:{lastLoginDeviceId:17,customTag:38,connectionId:102,ip:103,port:104,country:106,hasXMPush:111},loginPort:{type:3,os:4,mac:5,deviceId:13,account:19,deviceInfo:32,connectionId:102,ip:103,time:109,customTag:38},aosPushInfo:{pushType:110,hasTokenPreviously:111},sync:{myInfo:1,offlineMsgs:2,teams:3,netcallMsgs:6,roamingMsgs:7,relations:9,friends:11,sessions:12,friendUsers:13,msgReceipts:14,myTeamMembers:15,donnop:16,deleteMsg:17,sessionAck:18,robots:19,broadcastMsgs:20,avSignal:21,superTeams:22,myInfoInSuperTeams:23,superTeamRoamingMsgs:24,deleteSuperTeamMsg:25,superTeamSessionAck:26,filterMsgs:100},donnop:{open:1},sessionReqTag:{minTimestamp:1,maxTimestamp:2,needLastMsg:3,limit:4,hasMore:5},session:{id:1,updateTime:2,ext:3,lastMsg:4},superTeam:{teamId:1,name:3,type:4,owner:5,level:6,selfCustom:7,valid:8,memberNum:9,memberUpdateTime:10,createTime:11,updateTime:12,validToCurrentUser:13,intro:14,announcement:15,joinMode:16,bits:17,custom:18,serverCustom:19,avatar:20,beInviteMode:21,inviteMode:22,updateTeamMode:23,updateCustomMode:24,mute:100,muteType:101},superTeamMember:{teamId:1,account:3,type:4,nickInTeam:5,bits:7,active:8,valid:9,createTime:10,updateTime:11,custom:12,mute:13,invitoraccid:14,joinTime:15},team:{teamId:1,name:3,type:4,owner:5,level:6,selfCustom:7,valid:8,memberNum:9,memberUpdateTime:10,createTime:11,updateTime:12,validToCurrentUser:13,intro:14,announcement:15,joinMode:16,bits:17,custom:18,serverCustom:19,avatar:20,beInviteMode:21,inviteMode:22,updateTeamMode:23,updateCustomMode:24,mute:100,muteType:101},teamMember:{teamId:1,account:3,type:4,nickInTeam:5,bits:7,active:8,valid:9,joinTime:10,updateTime:11,custom:12,mute:13,invitorAccid:14},msg:{scene:0,to:1,from:2,fromClientType:4,fromDeviceId:5,fromNick:6,time:7,type:8,body:9,attach:10,idClient:11,idServer:12,resend:13,userUpdateTime:14,custom:15,pushPayload:16,pushContent:17,apnsAccounts:18,apnsContent:19,apnsForcePush:20,yidunEnable:21,antiSpamContent:22,antiSpamBusinessId:23,clientAntiSpam:24,antiSpamUsingYidun:25,needMsgReceipt:26,needUpdateSession:28,isHistoryable:100,isRoamingable:101,isSyncable:102,isMuted:104,cc:105,isInBlackList:106,isPushable:107,isOfflinable:108,isUnreadable:109,needPushNick:110,isReplyMsg:111,tempTeamMemberCount:112},msgReceipt:{to:1,from:2,time:7,idClient:11},teamMsgReceipt:{teamId:0,idServer:1,read:100,unread:101,idClient:102,account:103},sysMsg:{time:0,type:1,to:2,from:3,ps:4,attach:5,idServer:6,sendToOnlineUsersOnly:7,apnsText:8,pushPayload:9,deletedIdClient:10,deletedIdServer:11,yidunEnable:12,antiSpamContent:13,deletedMsgTime:14,deletedMsgFromNick:15,opeAccount:16,cc:105,isPushable:107,isUnreadable:109,needPushNick:110},broadcastMsg:{broadcastId:1,fromAccid:2,fromUid:3,timestamp:4,body:5},friend:{account:4,flag:5,beflag:6,source:7,alias:8,bits:9,custom:10,createTime:11,updateTime:12,serverex:13},user:{account:1,nick:3,avatar:4,sign:5,gender:6,email:7,birth:8,tel:9,custom:10,createTime:12,updateTime:13},specialRelation:{account:0,isMuted:1,isBlacked:2,createTime:3,updateTime:4},msgType:{text:0,picture:1,audio:2,video:3,location:4,notification:5,file:6,netcall_audio:7,netcall_vedio:8,datatunnel_new:9,tips:10,robot:11,custom:100},msgEvent:{type:1,value:2,idClient:3,custom:4,validTime:5,broadcastType:6,sync:7,validTimeType:8,durable:9,time:10,idServer:11,clientType:12,serverConfig:13,serverCustom:14,appid:101,account:103,enableMultiClient:104,consid:106},msgEventSubscribe:{type:1,subscribeTime:2,sync:3,to:102,from:104,time:105},clearMsgsParams:{account:1,delRoam:2},delFriendParams:{delAlias:1}}},function(e,t,n){"use strict";var s=n(25).fn,i=n(0),r=n(85);s.processAvSignal=function(e){switch(e.cmd){case"signalingCreate":case"signalingDelay":case"signalingClose":case"signalingJoin":case"signalingLeave":case"signalingInvite":case"signalingCancel":case"signalingReject":case"signalingAccept":case"signalingControl":case"signalingSyncMsgRead":case"signalingGetChannelInfo":break;case"signalingNotify":this.onSignalingNotify(e);break;case"signalingMutilClientSyncNotify":this.onSignalingMutilClientSyncNotify(e);break;case"signalingUnreadMessageSyncNotify":this.onSignalingUnreadMessageSyncNotify(e);break;case"signalingChannelsSyncNotify":this.onSignalingMembersSyncNotify(e);break;default:this.logger.log("avSignal::unhandled cmd:",e.cmd)}};var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.needPush&&(e.needPush="1"===e.needPush),e.needBadge&&(e.needBadge="1"===e.needBadge),e.channelInValid&&(e.channelInValid="1"===e.channelInValid),e.attach){var t=JSON.parse(e.attach);e.eventType=r.parseAvSignalType(t.type)}if(e.members){var n=JSON.parse(e.members);e.members=n.map((function(e){return r.parseAvSignalMember(e)}))}return e};s.onSignalingNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else{e.raw&&e.raw.r&&e.raw.r.length&&e.content&&e.content.avSignalTag&&(e.content.avSignalTag.msgid=e.raw.r[0]);var n=e.content.avSignalTag;n=Array.isArray(n)?n.map((function(e){return o(e)})):o(n),this.emitAPI({type:"signalingNotify",obj:n}),i.isFunction(this.options.onSignalingNotify)&&this.options.onSignalingNotify(n)}},s.onSignalingMutilClientSyncNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingMutilClientSyncNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else this.emitAPI({type:"signalingMutilClientSyncNotify",obj:e.content}),i.isFunction(this.options.onSignalingMutilClientSyncNotify)&&this.options.onSignalingMutilClientSyncNotify(e.content)},s.onSignalingUnreadMessageSyncNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingUnreadMessageSyncNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else{var n=e.content.avSignalTag;Array.isArray(n)&&(n=n.map((function(e){return o(e)}))),this.emitAPI({type:"signalingUnreadMessageSyncNotify",obj:n}),i.isFunction(this.options.onSignalingUnreadMessageSyncNotify)&&this.options.onSignalingUnreadMessageSyncNotify(n)}},s.onSignalingMembersSyncNotify=function(e){if(e.error){var t=e.error;this.logger.error("protocal::avSignal:onSignalingMembersSyncNotify error",t),this.emitAPI({type:"error",error:t}),this.options.onerror(t)}else{var n=e.content.avSignalTag;Array.isArray(n)||(n=[n]),n=n.map((function(e){return o(e)})),this.emitAPI({type:"signalingChannelsSyncNotify",obj:n}),i.isFunction(this.options.onSignalingMembersSyncNotify)&&this.options.onSignalingMembersSyncNotify(n)}}},function(e,t,n){"use strict";var s=n(25).fn,i=n(86),r=n(1),o=n(14);s.processMisc=function(e){switch(e.cmd){case"getSimpleNosToken":e.error||(e.obj=e.content.nosTokens[0]);break;case"getNosToken":e.error||(e.obj=e.content.nosToken);break;case"uploadSdkLogUrl":e.error?this.logger.error("uploadSdkLogUrl::error",e.error):this.logger.info("uploadSdkLogUrl::success",e.obj&&e.obj.url);break;case"notifyUploadLog":e.error||(r.isRN&&this.uploadLocalLog(),this.emitAPI({type:"notifyUploadLog"}));break;case"audioToText":e.error||(e.obj.text=e.content.text);break;case"processImage":e.obj.imageOps=i.reverseImageOps(e.obj.imageOps),e.error||(e.obj={url:e.content.url});break;case"getNosTokenTrans":e.error||(e.obj={nosToken:e.content.nosToken,docId:e.content.docId});break;case"getNosOriginUrl":e.error||(e.obj=e.content.nosFileUrlTag.originUrl);break;case"notifyTransLog":e.error||this.emitAPI({type:"notifyTransLog",obj:e.content.transInfo});break;case"fetchFile":case"fetchFileList":case"removeFile":e.error||(e.obj=e.content);break;case"getServerTime":e.obj=e.content.time}},s.uploadLocalLog=function(e){if(r.isRN&&o.rnfs){var t=o.rnfs,n=this,s=t.nimIndex,i=(t.nimIndex+1)%2;t.nimPromise=t.nimPromise.then((function(){return Promise.all([t.exists(a(s)),t.exists(a(i))])})).then((function(e){return e&&(e[0]||e[1])?e[0]&&e[1]?t.copyFile(a(i),a(2)).then((function(){return t.readFile(a(s))})).then((function(e){return t.appendFile(a(2),e)})):e[0]?t.copyFile(a(s),a(2)):void(e[1]&&t.copyFile(a(i),a(2))):Promise.reject()})).then((function(e){return new Promise((function(e,s){n.api.previewFile({filePath:a(2),done:function(s,i){Promise.all([t.unlink(a(2)),t.unlink(a(1)),t.unlink(a(0))]).finally((function(){e()}));var r=i.url;r.indexOf("?")>0?r+="&":r+="?",r+="download="+(new Date).getTime()+"_web.log",n.api.uploadSdkLogUrl({url:r})}})}))})).catch((function(e){t.unlink(a(2)).catch((function(e){})),n.logger.error("nim::protocol::uploadLocalLog",e)}))}function a(e){return t.DocumentDirectoryPath+"/nimlog_"+e+".log"}}},function(e,t,n){"use strict";var s=n(25).fn,i=n(1);s.processLink=function(e){switch(e.cmd){case"heartbeat":this.startHeartbeat()}},s.startHeartbeat=function(){var e=this;e.stopHeartbeat(),e.heartbeatTimer=setTimeout((function(){e.sendCmd("heartbeat",null,e.onHeartbeat.bind(e))}),i.heartbeatInterval)},s.stopHeartbeat=function(){this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)},s.onHeartbeat=function(e,t){e&&(e.callFunc="link::onHeartbeat",this.api.reportLogs({event:"ping_timeout"}),this.onCustomError("heartbeat error",e))},s.heartbeat=function(){}},function(e,t,n){"use strict";var s=n(31),i=n(50),r=n(30),o=n(56),a=n(73),c=Object.assign;e.exports=!c||n(24)((function(){var e={},t={},n=Symbol(),s="abcdefghijklmnopqrst";return e[n]=7,s.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=s}))?function(e,t){for(var n=o(e),c=arguments.length,u=1,l=i.f,d=r.f;c>u;)for(var f,m=a(arguments[u++]),p=l?s(m).concat(l(m)):s(m),h=p.length,g=0;h>g;)d.call(m,f=p[g++])&&(n[f]=m[f]);return n}:c},function(e,t,n){var s=n(16);s(s.S+s.F,"Object",{assign:n(162)})},function(e,t,n){n(163),e.exports=n(5).Object.assign},function(e,t,n){e.exports={default:n(164),__esModule:!0}},function(e,t,n){"use strict";var s,i,r=n(106),o=(s=r)&&s.__esModule?s:{default:s},a=n(25).fn,c=n(7),u=n(34),l=n(61),d=n(14),f=n(1),m=n(84),p=n(0),h=p.notundef;a.login=function(){this.doLogin()},a.doLogin=function(){var e=this;Promise.resolve().then((function(){return e.assembleLogin()})).then((function(t){e.sendCmd("login",(0,o.default)({},t),e.onLogin.bind(e)),e.autoconnect=!1}))},a.genSessionKey=(i={},function(){var e=this.name;return i[e]=i[e]||p.guid()}),a.assembleIMLogin=function(){var e=this.options,t=e.account,n=this.autoconnect?0:1;return this.sdkSession=this.genSessionKey(),{appLogin:n,appKey:e.appKey,account:t,token:e.token,sdkVersion:f.info.sdkVersion,protocolVersion:f.info.protocolVersion,os:u.os.toString(),browser:u.name+" "+u.version,clientType:f.CLIENTTYPE||16,session:this.sdkSession,deviceId:d.deviceId,isReactNative:f.isRN?1:0,customTag:e.customTag||""}},a.onLogin=function(e,t){var n=this,s=0;n.loginResult=t,e?n.onAuthError(e,"link::onLogin"):(n.startHeartbeat(),n.afterLogin(t),s=5e3),!0===n.options.logReport&&setTimeout((function(){var e={appKey:n.options.appKey,sdk_ver:f.info.version,deviceId:d.deviceId};m.reportErrEvent(e)}),s)},a.afterLogin=p.emptyFunc,a.notifyLogin=function(){var e=this.loginResult;this.logger.info("link::notifyLogin: on connect",e),this.options.onconnect(e)},a.logout=function(){var e="done disconnect";if(this.doLogout)return this.doLogout=!1,e="done logout",void this.onAuthError(new c(e,"logout"),"link::logout");if(this.isConnected()){var t=new c(e,"logout");this.onAuthError(t,"link::logout")}},a.onKicked=function(e){var t=e.content,n=t.from,s=t.reason,i=t.custom,r={reason:this.kickedReasons[s]||"unknown",message:this.kickedMessages[s]||"未知原因"};if(h(n)&&(r.from=l.reverseType(n)),h(i)&&(r.custom=i),this.shouldNotifyKicked(r)){var o=new c("被踢了","kicked");p.merge(o,r),this.onAuthError(o,"link::onKicked")}else this.logger.warn("link::onKicked: silentlyKick"),this.shouldReconnect=!0,this.hasNotifyDisconnected=!0,this.disconnectSocket()},a.shouldNotifyKicked=function(e){return"silentlyKick"!==e.reason},a.onAuthError=function(e,t){this.shouldReconnect=!1,(e=e||c.newConnectionError({callFunc:t})).callFunc=e.callFunc||t||null,this.markAllCallbackInvalid(e),this.notifyDisconnect(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";var s=n(25).fn,i=n(7),r=n(168),o=n(83),a=n(1),c=n(0);s.initConnect=function(){this.socket=null,this.retryCount=0,this.connecting=!1,this.shouldReconnect=!0,this.hasNotifyDisconnected=!1,this.doLogout=!1},s.resetConnect=function(){var e=this.options;c.notundef(e.needReconnect)?(c.verifyParamType("needReconnect",e.needReconnect,"boolean","link::resetConnect"),this.needReconnect=e.needReconnect):this.needReconnect=!0,this.logger.log("link::resetConnect: needReconnect "+this.needReconnect),c.notundef(e.reconnectionAttempts)&&c.verifyParamType("reconnectionAttempts",e.reconnectionAttempts,"number","link::resetConnect"),c.notundef(e.noCacheLinkUrl)&&c.verifyParamType("noCacheLinkUrl",e.noCacheLinkUrl,"boolean","link::resetConnect"),this.reconnectionAttempts="number"==typeof e.reconnectionAttempts?e.reconnectionAttempts:1/0,this.backoff=new r({min:a.reconnectionDelay,max:a.reconnectionDelayMax,jitter:a.reconnectionJitter})},s.connect=function(e){if(clearTimeout(this.reconnectTimer),this.isConnected())this.logger.warn("link::connect: already connected");else if(this.connecting)this.logger.warn("link::connect: already connecting");else if(this.connecting=!0,this.hasNotifyDisconnected=!1,this.socket&&this.socket.socket)this.logger.info("link::connect: try connecting..."),this.socket.socket.connect();else if(this.options.socketUrl&&"string"==typeof this.options.socketUrl)this.connectToUrl(this.options.socketUrl);else{var t=this.getNextSocketUrl();t&&!this.options.noCacheLinkUrl?this.connectToUrl(t):this.refreshSocketUrl()}},s.getNextSocketUrl=function(){return this.socketUrls.shift()},s.isConnected=function(){return!!this.socket&&!!this.socket.socket&&this.socket.socket.connected},s.connectToUrl=function(e){var t=this;if(e=e||"",t.logger.log("link::connectToUrl: "+e),"undefined"==typeof window){var n=c.getGlobal(),s=e.split(":");n&&!n.location&&s.length>1&&(n.location={protocol:s.shift(),port:s.pop(),hostname:s.join("")}),this.options.transports=["websocket"]}var i=this.options.transports||["websocket","xhr-polling"];t.socket=o.connect(e,{transports:i,reconnect:!1,"force new connection":!0,"connect timeout":a.connectTimeout}),t.logger.info("link::connectToUrl: socket url: "+e+", transports: "+JSON.stringify(i)),t.socket.on("connect",t.onConnect.bind(t)),t.socket.on("handshake_failed",t.onHandshakeFailed.bind(t)),t.socket.on("connect_failed",t.onConnectFailed.bind(t)),t.socket.on("error",t.onError.bind(t)),t.socket.on("message",t.onMessage.bind(t)),t.socket.on("disconnect",(function(n){t.logger.warn("link::connectToUrl: socket url: "+e+", disconnected"),t.doLogout?t.logout():t.onDisconnect(!0,"link::socketDisconnect")}))},s.disconnect=function(e){var t=this;function n(n){t.logger.info("link::disconnect: socket finally closed, ",n),clearTimeout(t.disconnectCallbackTimer),e(n)}e instanceof Function||(e=function(){}),clearTimeout(t.connectTimer),t.disconnectCallbackTimer=setTimeout((function(){e.call(t,"mark disconnected due to timeout")}),1e4),t.socket&&t.socket.socket&&t.socket.socket.transport?t.socket.socket.transport.onDisconnectDone=function(e){n(e)}:n(null),t.isConnected()?(t.logger.log("link::disconnect: start disconnecting"),t.logout()):t.connecting?(t.logger.log("link::disconnect: abort connecting"),t.disconnectSocket()):(t.logger.log("link::disconnect: start otherwise"),t.connecting=!1,t.shouldReconnect=!1,t.needReconnect=!1,t.socket=null,t.options.ondisconnect({callFunc:"link::disconnect",message:"manually disconnect status"}))},s.onConnect=function(){this.backoff&&this.backoff.reset(),this.reconnectStatus=this.retryCount>0?1:0,this.retryCount=0,this.connecting=!1,this.shouldReconnect=!0,this.hasNotifyDisconnected=!1,this.logger.log("link::onConnect: socket onconnected, start login"),this.login(),this.api.reportLogs({event:"ws_connected"})},s.onHandshakeFailed=function(){this.logger.warn("link::onHandshakeFailed: shandshake failed"),this.api.reportLogs({event:"ws_handshake_failed"}),this.onDisconnect(1,"link::onHandshakeFailed")},s.onConnectFailed=function(){this.api.reportLogs({event:"ws_connect_failed"}),this.onDisconnect(1,"link::onConnectFailed")},s.onError=function(){var e=arguments[0];if(e){if(this.api.reportLogs({event:"connect_timeout"}),void 0!==e.x5ImgDecodeStatus)return;if("[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).length<=0)return;this.onMiscError("连接错误",new i(e,"LINK_ERROR",{callFunc:"link::onError"}))}this.connecting=!1},s.onDisconnect=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;1!==e&&(this.connected=e),this.connecting=!1,this.markAllCallbackInvalid(i.newNetworkError({callFunc:t})),this.stopHeartbeat(),this.reconnect()},s.willReconnect=function(){return this.shouldReconnect&&this.needReconnect&&this.retryCount<this.reconnectionAttempts},s.reconnect=function(){var e=this;if(e.willReconnect())if(e.socket&&e.socket.socket&&e.socket.socket.transport&&e.socket.socket.transport.websocket){e.logger.info("link::reconnect: on socket closed"),e.socket.socket.transport.onConnectionOver=function(){e.logger.log("link::reconnect: on connectionOver"),clearTimeout(e.reconnectTimer),e.doReconnect()};try{e.socket.socket.transport.websocket.close()}catch(t){e.logger.warn("link::reconnect: force disconnect error:",t)}}else clearTimeout(e.reconnectTimer),e.reconnectTimer=setTimeout((function(){e.logger.info("link::reconnect: on socket timeout"),e.doReconnect()}),3e4);else e.notifyDisconnect()},s.doReconnect=function(){var e=this;if(e.socket&&e.socket.socket&&e.socket.socket.connected)e.logger.log("link::reconnect on connectionOver, but socket is connected");else{e.socket=null,e.connected&&(e.autoconnect=!0),e.retryCount++,e.appLogin=1;var t=e.backoff.duration();e.logger.info("link::reconnect: will retry after "+t+"ms, retryCount "+e.retryCount),e.options.onwillreconnect({retryCount:e.retryCount,duration:t}),clearTimeout(e.connectTimer),e.connectTimer=setTimeout((function(){e.connect()}),t)}},s.notifyConnectError=function(e){var t=i.newConnectError({message:e,callFunc:"link::notifyConnectError"});this.logger.error("link::notifyConnectError:",t),this.options.onerror(t)},s.notifyDisconnect=function(e){var t=this;t.hasNotifyDisconnected||(t.hasNotifyDisconnected=!0,t.disconnectSocket(),(e=e||new i).retryCount=t.retryCount,e.willReconnect=t.willReconnect(),t.backoff&&t.backoff.reset(),t.retryCount=0,t.socket&&t.socket.socket&&t.socket.socket.transport&&t.socket.socket.transport.websocket?(t.logger.info("link::notifyDisconnect: ondisconnected",e),t.socket.socket.transport.onConnectionOver=function(){t.socket=null,t.options.ondisconnect(e)}):(t.logger.info("link::notifyDisconnect: ondisconnected/no transport ws",e),t.options.ondisconnect(e)),t.onWbNotifyHangup instanceof Function&&t.onWbNotifyHangup({content:{account:t.account,channelId:null,timetag:+Date()}}))},s.disconnectSocket=function(){if(this.isConnected()||this.connecting)try{this.connecting=!1,this.shouldReconnect=!1,this.socket.disconnect()}catch(e){this.logger.info("link::disconnectSocket: disconnect failed, error ",e)}}},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(17).fn,a=n(0),c=n(63),u=n(85);o.signalingCreate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.channelName,s=e.ext;return a.verifyOptions(e,"type","api::signalling"),this.sendCmdUsePromise("signalingCreate",{avSignalTag:{type:t,channelName:n,ext:s}}).then((function(e){var t=e.avSignalTag;return Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingDelay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingDelay",{avSignalTag:e}).then((function(e){var t=e.avSignalTag;return Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingClose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offlineEnabled;return a.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingClose",{avSignalTag:a.merge(e,{isSave:!0===t?1:0})}).then((function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingJoin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offlineEnabled;return a.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingJoin",{avSignalTag:a.merge(e,{isSave:!0===t?1:0})}).then((function(e){var t=e.avSignalTag,n=t.members;return"string"==typeof t.members&&(n=JSON.parse(t.members).map((function(e){return u.parseAvSignalMember(e)}))),t.members=n,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingLeave=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offlineEnabled;return a.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingLeave",{avSignalTag:a.merge(e,{isSave:!0===t?1:0})}).then((function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingGetChannelInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channelName;return a.verifyOptions(e,"channelName","api::signalling"),this.sendCmdUsePromise("signalingGetChannelInfo",{avSignalTag:{channelName:t}}).then((function(e){var t=e.avSignalTag,n=t.members;return"string"==typeof t.members&&(n=JSON.parse(t.members).map((function(e){return u.parseAvSignalMember(e)}))),t.members=n,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.account,n=e.offlineEnabled,s=e.pushInfo,i=void 0===s?{}:s;a.verifyOptions(e,"channelId requestId account","api::signalling"),"object"===(0,r.default)(i.pushPayload)&&(i.pushPayload=JSON.stringify(i.pushPayload));var o=a.merge(e,i,{to:t,isSave:!0===n?1:0,needPush:!0===i.needPush?1:0,needBadge:!1===i.needBadge?0:1});return this.sendCmdUsePromise("signalingInvite",{avSignalTag:o}).then((function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,t.needBadge=1===t.needBadge,t.needPush=1===t.needPush,delete t.isSave,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingCancel=function(e){var t=e.account,n=e.offlineEnabled;return a.verifyOptions(e,"channelId requestId account","api::signalling"),this.sendCmdUsePromise("signalingCancel",{avSignalTag:a.merge(e,{to:t,isSave:!0===n?1:0})}).then((function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingCreateAndJoin=function(e){var t=this,n=e.channelName,s=e.uid,i=void 0===s?0:s,r=e.offlineEnabled,o=void 0===r||r,c=e.attachExt,u=void 0===c?"":c;return this.signalingCreate(e).catch((function(e){return 10405===e.code?(t.logger.warn("api::avSignal:signalingCall room already exists:",e),t.signalingGetChannelInfo({channelName:n})):Promise.reject(e)})).then((function(e){var n={channelId:e.channelId,offlineEnabled:o,attachExt:u};return i&&a.merge(n,{uid:i}),t.signalingJoin(n)}))},o.signalingCall=function(e){var t=this,n=e.account,s=e.offlineEnabled,i=e.requestId;a.verifyOptions(e,"type requestId account","api::signalling");var r="";return this.signalingCreateAndJoin(e).then((function(o){t.logger.log("api::avSignal:signalingCall join:",o);var a={channelId:r=o.channelId||r,account:n,requestId:i,offlineEnabled:s,attachExt:e.attachExt||"",pushInfo:e.pushInfo||{}};return t.signalingInvite(a)}))},o.signalingReject=function(e){var t=e.account,n=e.offlineEnabled;return a.verifyOptions(e,"channelId requestId account","api::signalling"),this.sendCmdUsePromise("signalingReject",{avSignalTag:a.merge(e,{to:t,isSave:!0===n?1:0})}).then((function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingAccept=function(e){var t=this,n=e.account,s=e.offlineEnabled;return a.verifyOptions(e,"channelId requestId account","api::signalling"),this.sendCmdUsePromise("signalingAccept",{avSignalTag:a.merge(e,{to:n,isSave:!0===s?1:0})}).then((function(e){var t=e.avSignalTag;return t.offlineEnabled=1===t.isSave,delete t.isSave,Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))})).then((function(n){if(e.autoJoin){var s={channelId:e.channelId,offlineEnabled:e.offlineEnabled,attachExt:e.joinAttachExt,uid:e.uid};return t.signalingJoin(s)}return n}))},o.signalingControl=function(e){var t=e.account;return a.verifyOptions(e,"channelId","api::signalling"),this.sendCmdUsePromise("signalingControl",{avSignalTag:a.merge(e,t?{to:t}:{})}).then((function(e){var t=e.avSignalTag;return Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingSync=function(){return this.sendCmdUsePromise("sync",{sync:{avSignal:0}}).then((function(e){var t=e.avSignalTag;return Promise.resolve(t)})).catch((function(e){return Promise.reject(u.parseAvSignalError(e))}))},o.signalingMarkMsgRead=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.verifyOptions(e,"msgid","api::signalling");var t=c.idMap.avSignal,n=void 0;return n="string"==typeof e.msgid?[e.msgid]:e.msgid,this.sendCmd("batchMarkRead",{sid:t.id,cid:t.signalingNotify,ids:n})}},function(e,t,n){"use strict";var s=n(17).fn,i=n(0),r=n(21),o=n(1),a=n(34);(a=a||{}).name=a.name||"",a.version=a.version||"",s.reportLogs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=t.options,s=o.ntServerAddress;if(s){var c=o.info;e=i.merge(e,{appkey:n.appKey,uid:n.account,os:"web",session:t.protocol.sdkSession||"",ver:c.sdkVersion,type:t.subType,platform:""+a.name.toLowerCase()+a.version.replace(/(\.\d+)+$/,"")});var u=s+i.genUrlSep(s),l=[];for(var d in e)l.push(d+"="+e[d]);u+=l.join("&"),r(u,{proxyUrl:i.url2origin(u)+"/lbs/res/cors/nej_proxy_frame.html",timeout:o.xhrTimeout,onload:function(){},onerror:function(e){t.logger.info("report::ajax report error",e)}})}}},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(0),a=n(17).fn;function c(e,t,n,s){var i=!1,r="";if(1===n?e.indexOf(t)>=0&&(i=!0,r=t):2===n&&(r=new RegExp(t,"g")).test(e)&&(i=!0),i&&""!==r)switch(s){case 1:return e.replace(r,"**");case 2:return{code:2};case 3:return{code:3}}return e}function u(e,t){for(var n=t.match,s=t.operate,i=e,o=0;o<t.keys.length;o++){var a=t.keys[o],u=a.match||n,l=a.operate||s;try{if("object"===(void 0===(i=c(i,a.key,u,l))?"undefined":(0,r.default)(i)))return i}catch(e){this.logger.warn("misc::filterContent: js cannot parse this regexp ",e)}}return i}a.uploadSdkLogUrl=function(e){return o.verifyOptions(e,"url","misc::uploadSdkLogUrl"),this.cbAndSendCmd("uploadSdkLogUrl",e)},a.getClientAntispamLexicon=function(e){var t=this,n=(e=e||{}).done;n instanceof Function||(n=function(){}),e={clientAntispam:{version:0}};var s=this;return this.protocol.sendCmd("getClientAntispam",e,(function(e,i,r){e?(s.protocol.logger.error("misc::getClientAntispamLexicon:",e),n.call(t,e,{})):(n.call(t,null,r),s.antispamLexicon=r.clientAntispam||{})}))},a.filterClientAntispam=function(e){var t=e.content,n=e.antispamLexicon;if(!t)return{code:404,errmsg:"待反垃圾文本content不存在"};n=n||this.antispamLexicon||{};var s=this.antispamLexicon&&this.antispamLexicon.thesaurus;if(!s)return{code:404,errmsg:"没有反垃圾词库或者词库格式不合法"};try{s=JSON.parse(s).thesaurus}catch(e){return this.protocol.logger.error("misc::filterClientAntispam: parse thesaurus error"),{code:500,errmsg:"反垃圾词库格式不合法"}}for(var i=t,o=0;o<s.length;o++)if("object"===(void 0===(i=u.call(this,i,s[o]))?"undefined":(0,r.default)(i))){if(2===i.code)return{code:200,type:2,errmsg:"建议拒绝发送",content:t,result:""};if(3===i.code)return{code:200,type:3,errmsg:"建议服务器处理反垃圾，发消息带上字段clientAntiSpam",content:t,result:t}}return i===t?{code:200,type:0,errmsg:"",content:t,result:i}:{code:200,type:1,errmsg:"已对特殊字符做了过滤",content:t,result:i}},a.getServerTime=function(e){this.processCallback(e),this.sendCmd("getServerTime",{},e.callback)}},function(e,t,n){"use strict";var s,i,r=n(2),o=(s=r)&&s.__esModule?s:{default:s},a=n(29),c=n(0),u=n(17).fn;u.viewImageSync=function(e){var t=this.options;c.verifyOptions(e,"url","nos::viewImageSync");var n=e.url,s=(0,a.url2object)(n),i=s.protocol,r=s.hostname,u=s.path,l=s.query;if("boolean"==typeof e.strip&&(l.stripmeta=e.strip?1:0),"number"==typeof e.quality&&(c.verifyParamMin("quality",e.quality,0,"nos::viewImageSync"),c.verifyParamMax("quality",e.quality,100,"nos::viewImageSync"),l.quality=Math.round(e.quality)),"boolean"==typeof e.interlace&&(l.interlace=e.interlace?1:0),"number"==typeof e.rotate&&(l.rotate=Math.round(e.rotate)),"object"===(0,o.default)(e.thumbnail)){var d=e.thumbnail.mode||"crop",f=e.thumbnail.width,m=e.thumbnail.height;if(f>=0&&m>=0&&f<4096&&m<4096&&(f>0||m>0)){switch(d){case"crop":d="y";break;case"contain":d="x";break;case"cover":d="z";break;default:d="x"}l.thumbnail=""+f+d+m}}if(t.downloadUrl){var p=(0,a.url2object)(e.url),h=t.downloadUrl,g=p.path,v=g.indexOf("/");if(-1!==v){var y=g.substring(0,v),b=g.substring(v+1);h=h.replace("{bucket}",y).replace("{object}",b)}var _=(0,a.url2object)(h);return(0,a.object2url)({protocol:_.protocol,hostname:_.hostname,path:_.path,query:c.merge(_.query,l)})}return(0,a.object2url)({protocol:i,hostname:r,path:u,query:l})},u.viewImageStripMeta=function(e){c.verifyOptions(e,"url strip","nos::viewImageStripMeta"),c.verifyParamType("strip",e.strip,"boolean","nos::viewImageStripMeta");var t="stripmeta="+(e.strip?1:0),n=(0,a.genUrlSep)(e.url);return e.url+n+t},u.viewImageQuality=function(e){c.verifyOptions(e,"url quality","nos::viewImageQuality"),c.verifyParamType("quality",e.quality,"number","nos::viewImageQuality"),c.verifyParamMin("quality",e.quality,0,"nos::viewImageQuality"),c.verifyParamMax("quality",e.quality,100,"nos::viewImageQuality");var t="quality="+Math.round(e.quality),n=(0,a.genUrlSep)(e.url);return e.url+n+t},u.viewImageInterlace=function(e){c.verifyOptions(e,"url","nos::viewImageInterlace");var t=(0,a.genUrlSep)(e.url);return e.url+t+"interlace=1"},u.viewImageRotate=function(e){for(c.verifyOptions(e,"url angle","nos::viewImageRotate"),c.verifyParamType("angle",e.angle,"number","nos::viewImageRotate");e.angle<0;)e.angle=e.angle+360;e.angle=e.angle%360;var t="rotate="+Math.round(e.angle),n=(0,a.genUrlSep)(e.url);return e.url+n+t},u.viewImageBlur=function(e){c.verifyOptions(e,"url radius sigma","nos::viewImageBlur"),c.verifyParamType("radius",e.radius,"number","nos::viewImageBlur"),c.verifyParamMin("radius",e.radius,1,"nos::viewImageBlur"),c.verifyParamMax("radius",e.radius,50,"nos::viewImageBlur"),c.verifyParamType("sigma",e.sigma,"number","nos::viewImageBlur"),c.verifyParamMin("sigma",e.sigma,0,"nos::viewImageBlur");var t="blur="+Math.round(e.radius)+"x"+Math.round(e.sigma),n=(0,a.genUrlSep)(e.url);return e.url+n+t},u.viewImageCrop=function(e){c.verifyOptions(e,"url x y width height","nos::viewImageCrop"),c.verifyParamType("x",e.x,"number","nos::viewImageCrop"),c.verifyParamMin("x",e.x,0,"nos::viewImageCrop"),c.verifyParamType("y",e.y,"number","nos::viewImageCrop"),c.verifyParamMin("y",e.y,0,"nos::viewImageCrop"),c.verifyParamType("width",e.width,"number","nos::viewImageCrop"),c.verifyParamMin("width",e.width,0,"nos::viewImageCrop"),c.verifyParamType("height",e.height,"number","nos::viewImageCrop"),c.verifyParamMin("height",e.height,0,"nos::viewImageCrop");var t="crop="+Math.round(e.x)+"_"+Math.round(e.y)+"_"+Math.round(e.width)+"_"+Math.round(e.height),n=(0,a.genUrlSep)(e.url);return e.url+n+t},u.viewImageThumbnail=(i={cover:"z",contain:"x",crop:"y"},function(e){c.verifyOptions(e,"url mode","nos::viewImageThumbnail"),c.verifyParamValid("mode",e.mode,Object.keys(i),"nos::viewImageThumbnail"),"contain"===e.mode?c.verifyParamAtLeastPresentOne(e,"width height","nos::viewImageThumbnail"):c.verifyOptions(e,"width height","nos::viewImageThumbnail"),c.undef(e.width)&&(e.width=0),c.undef(e.height)&&(e.height=0),c.verifyParamType("width",e.width,"number","nos::viewImageThumbnail"),c.verifyParamMin("width",e.width,0,"nos::viewImageThumbnail"),c.verifyParamType("height",e.height,"number","nos::viewImageThumbnail"),c.verifyParamMin("height",e.height,0,"nos::viewImageThumbnail");var t=Math.round(e.width),n=Math.round(e.height),s="thumbnail="+t+i[e.mode]+n;"crop"===e.mode&&c.notundef(e.axis)&&(c.undef(e.axis.x)&&(e.axis.x=5),c.undef(e.axis.y)&&(e.axis.y=5),c.verifyParamMin("axis.x",e.axis.x,0,"nos::viewImageThumbnail"),c.verifyParamMax("axis.x",e.axis.x,10,"nos::viewImageThumbnail"),c.verifyParamMin("axis.y",e.axis.y,0,"nos::viewImageThumbnail"),c.verifyParamMax("axis.y",e.axis.y,10,"nos::viewImageThumbnail"),s=s+"&axis="+Math.round(e.axis.x)+"_"+Math.round(e.axis.y)),c.notundef(e.enlarge)&&(c.verifyParamType("enlarge",e.enlarge,"boolean","nos::viewImageThumbnail"),e.enlarge&&(s+="&enlarge=1"));var r=(0,a.genUrlSep)(e.url);return e.url+r+s})},function(e,t,n){"use strict";var s,i=n(0),r=n(17).fn,o=n(86),a=n(89),c=n(7);r.transDoc=function(e){i.verifyOptions(e,"fileInput done","nos::transDoc");try{var t=e.fileInput.files[0],n=e.fileInputName=t.name,s={ppt:1,pptx:2,pdf:3},r=n.substring(n.lastIndexOf(".")+1);if(["ppt","pdf","pptx"].indexOf(r)<0)return void e.done(c.newNoFileError("请上传正确格式的文件【ppt, pptx, pdf】",{callFunc:"nos: transDoc",fileInput:e.fileInput}),e)}catch(t){return void e.done(c.newNoFileError("请上传正确的文件节点",{callFunc:"msg::previewFile",fileInput:e.fileInput}),e)}var o=JSON.stringify(a.genResponseBody("file")||{}).replace(/"/gi,'\\"'),u={transToken:{name:n,type:s[r],transType:"png"===e.transcode?11:10,size:t.size,body:o}};this.getNosTokenTrans({responseBody:u,nosToken:{nosScene:e.nosScene||this.nosScene,nosSurvivalTime:e.nosSurvivalTime},callback:function(t,n){t?e.done(t):(e.nosToken=n.nosToken,e.docId=n.docId,this._doPreviewFile(e))}.bind(this)})},r.getSimpleNosToken=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.num=1,i.verifyOptions(e),this.cbAndSendCmd("getSimpleNosToken",e)},r.getNosToken=function(e){var t=e.callback,n=e.nosToken,s=e.responseBody,i={tag:n.nosScene};n.nosSurvivalTime&&n.nosSurvivalTime!==1/0&&(i.expireSec=n.nosSurvivalTime),this.sendCmd("getNosToken",{responseBody:s,nosToken:i},t)},r.getNosTokenTrans=function(e){this.sendCmd("getNosTokenTrans",e.responseBody,e.callback)},r.packFileDownloadName=function(e){i.verifyOptions(e,"url name",!0,"","nos::packFileDownloadName");var t=e.url;return t+i.genUrlSep(t)+"download="+encodeURIComponent(e.name)},r.audioToMp3=function(e){i.verifyOptions(e,"url","nos::audioToMp3");var t=e.url;return t+i.genUrlSep(t)+"audioTrans&type=mp3"},r.removeFile=function(e){this.sendCmd("removeFile",e,e.callback)},r.fetchFile=function(e){this.sendCmd("fetchFile",e,e.callback)},r.fetchFileList=function(e){this.sendCmd("fetchFileList",e,e.callback)},r.stripImageMeta=function(e){return this.beforeProcessImage(e,"stripmeta")},r.qualityImage=function(e){return this.beforeProcessImage(e,"quality")},r.interlaceImage=function(e){return this.beforeProcessImage(e,"interlace")},r.rotateImage=function(e){return this.beforeProcessImage(e,"rotate")},r.blurImage=function(e){return this.beforeProcessImage(e,"blur")},r.cropImage=function(e){return this.beforeProcessImage(e,"crop")},r.thumbnailImage=function(e){return this.beforeProcessImage(e,"thumbnail")},r.beforeProcessImage=function(e,t){var n=i.copy(e);return n.type=t,e.ops=[n],this.processImage(e)},r.processImage=function(e){var t=this;i.verifyOptions(e,"url ops",!0,"","nos::processImage"),i.verifyParamType("ops",e.ops,"array","nos::processImage");var n=e.ops.map((function(e){return i.verifyOptions(e,"type",!0,"","nos::processImage"),i.verifyParamValid("type",e.type,o.validTypes,"nos::processImage"),t["gen"+e.type.slice(0,1).toUpperCase()+e.type.slice(1)+"Op"](e)}));t.processCallback(e),t.sendCmd("processImage",{url:e.url,imageOps:n},e.callback)},r.genStripmetaOp=function(e){return new o({type:e.type,stripmeta:e.strip?1:0})},r.genQualityOp=function(e){i.verifyOptions(e,"quality",!0,"","nos::genQualityOp"),i.verifyParamType("quality",e.quality,"number","nos::genQualityOp"),i.verifyParamMin("quality",e.quality,0,"nos::genQualityOp"),i.verifyParamMax("quality",e.quality,100,"nos::genQualityOp");var t=Math.round(e.quality);return new o({type:e.type,qualityQuality:t})},r.genInterlaceOp=function(e){return new o({type:e.type})},r.genRotateOp=function(e){for(i.verifyOptions(e,"angle",!0,"","nos::genRotateOp"),i.verifyParamType("angle",e.angle,"number","nos::genRotateOp");e.angle<0;)e.angle=e.angle+360;e.angle=e.angle%360;var t=Math.round(e.angle);return new o({type:e.type,rotateAngle:t})},r.genBlurOp=function(e){i.verifyOptions(e,"radius sigma","nos::genBlurOp"),i.verifyParamType("radius",e.radius,"number","nos::genBlurOp"),i.verifyParamMin("radius",e.radius,1,"nos::genBlurOp"),i.verifyParamMax("radius",e.radius,50,"nos::genBlurOp"),i.verifyParamType("sigma",e.sigma,"number","nos::genBlurOp"),i.verifyParamMin("sigma",e.sigma,0,"nos::genBlurOp");var t=Math.round(e.radius),n=Math.round(e.sigma);return new o({type:e.type,blurRadius:t,blurSigma:n})},r.genCropOp=function(e){i.verifyOptions(e,"x y width height","nos::genCropOp"),i.verifyParamType("x",e.x,"number","nos::genCropOp"),i.verifyParamMin("x",e.x,0,"nos::genCropOp"),i.verifyParamType("y",e.y,"number","nos::genCropOp"),i.verifyParamMin("y",e.y,0,"nos::genCropOp"),i.verifyParamType("width",e.width,"number","nos::genCropOp"),i.verifyParamMin("width",e.width,0,"nos::genCropOp"),i.verifyParamType("height",e.height,"number","nos::genCropOp"),i.verifyParamMin("height",e.height,0,"nos::genCropOp");var t=Math.round(e.x),n=Math.round(e.y),s=Math.round(e.width),r=Math.round(e.height);return new o({type:e.type,cropX:t,cropY:n,cropWidth:s,cropHeight:r})},r.genThumbnailOp=(s={cover:"z",contain:"x",crop:"y"},function(e){i.verifyOptions(e,"mode","nos::genThumbnailOp"),i.verifyParamValid("mode",e.mode,Object.keys(s),"nos::genThumbnailOp"),"contain"===e.mode?i.verifyParamAtLeastPresentOne(e,"width height","nos::genThumbnailOp"):i.verifyOptions(e,"width height","nos::genThumbnailOp"),i.undef(e.width)&&(e.width=0),i.undef(e.height)&&(e.height=0),i.verifyParamType("width",e.width,"number","nos::genThumbnailOp"),i.verifyParamMin("width",e.width,0,"nos::genThumbnailOp"),i.verifyParamType("height",e.height,"number","nos::genThumbnailOp"),i.verifyParamMin("height",e.height,0,"nos::genThumbnailOp");var t=Math.round(e.width),n=Math.round(e.height),r=new o({type:e.type,thumbnailMode:s[e.mode],thumbnailWidth:t,thumbnailHeight:n});if("crop"===e.mode&&i.notundef(e.axis)){i.undef(e.axis.x)&&(e.axis.x=5),i.undef(e.axis.y)&&(e.axis.y=5),i.verifyParamMin("axis.x",e.axis.x,0,"nos::genThumbnailOp"),i.verifyParamMax("axis.x",e.axis.x,10,"nos::genThumbnailOp"),i.verifyParamMin("axis.y",e.axis.y,0,"nos::genThumbnailOp"),i.verifyParamMax("axis.y",e.axis.y,10,"nos::genThumbnailOp");var a=Math.round(e.axis.x),c=Math.round(e.axis.y);r.thumbnailAxisX=a,r.thumbnailAxisY=c}return i.notundef(e.enlarge)&&(i.verifyParamType("enlarge",e.enlarge,"boolean","nos::genThumbnailOp"),e.enlarge&&(r.thumbnailEnlarge=1)),r.thumbnailToStatic=this.options.thumbnailToStatic?1:0,r}),r.getNosOriginUrl=function(e){i.verifyOptions(e,"safeShortUrl",!0,"","nos::getNosOriginUrl"),i.verifyParamType("safeShortUrl",e.safeShortUrl,"string","nos::getNosOriginUrl"),/^http(s)?:/.test(e.safeShortUrl)&&~e.safeShortUrl.indexOf("im_url=1")?(this.processCallback(e),this.sendCmd("getNosOriginUrl",{nosFileUrlTag:{safeUrl:e.safeShortUrl}},e.callback)):e.done(new c("参数 “safeShortUrl” 内容非文件安全短链",{callFunc:"nos: getNosOriginUrl"}),e)}},function(e,t,n){"use strict";var s=n(1),i=s.chunkSize,r=(n(0),n(49)),o={mp4:"video/mp4",avi:"video/x-msvideo",wmv:"video/x-ms-wmv",mpeg:"video/mpeg",mov:"video/quicktime",aac:"audio/x-aac",wma:"audio/x-ms-wma",wav:"audio/x-wav",mp3:"audio/mp3"};e.exports=function(e,t,n){var a={file:e.data[t],fileSize:e.data[t].size,fileUoloadedSize:0,percentage:0};function c(t){var n=a.fileUoloadedSize+t.loaded,s=Math.floor(1e4*n/a.fileSize)/100;if(parseInt(s)>=100&&(s=100,c=function(){}),a.percentage!==s){a.percentage=s;var i={docId:e.docId,total:a.fileSize,loaded:n,percentage:s,percentageText:s+"%"};e.fileInput&&(i.fileInput=e.fileInput),e.blob&&(i.blob=e.blob),e.uploadprogress(i)}}function u(t){try{t=JSON.parse(t)}catch(e){return void n.onError(e)}if(t.errMsg||t.errCode)n.onError(t);else if(t.offset<a.fileSize)delete m.onaftersend,a.fileUoloadedSize=t.offset,n.sn=function(e,t,n,s,o){var a=t.offset,d=t.offset+i;return n.data=o.file.slice(a,d),n.query.offset=t.offset,n.query.complete=d>=o.fileSize,n.query.context=t.context,n.onuploading=c,n.onload=u,n.onerror=l,r(e,n)}(e.url,t,m,0,a);else{var o=function(e){n.onError(e)},d=s.genFileUrl(e.nosToken);"image"===e.type?r(d+"?imageInfo",{onload:function(n){try{n=JSON.parse(n),e.uploaddone(null,{docId:t.docId,w:n.Width,h:n.Height,orientation:n.Orientation||"",type:n.Type,size:n.Size||a.fileSize})}catch(e){o(e)}},onerror:o}):"video"===e.type||"audio"===e.type?r(d+"?vinfo",{onload:function(n){try{(n=JSON.parse(n)).GetVideoInfo&&n.GetVideoInfo.VideoInfo&&(n=n.GetVideoInfo.VideoInfo),e.uploaddone(null,{docId:t.docId,w:n.Width,h:n.Height,dur:n.Duration,orientation:n.Rotate,audioCodec:n.AudioCodec,videoCodec:n.VideoCodec,container:n.Container,size:n.Size||a.fileSize})}catch(e){o(e)}},onerror:o}):e.uploaddone(null,{docId:t.docId,size:a.fileSize})}}function l(e){try{if(e.result)var t=JSON.parse(e.result);else t=e;n.onError(t)}catch(e){n.onError(e)}}var d=e.data.file&&e.data.file.type;if(!d||d.indexOf("/")<0){var f=(e.fileInputName||"").split(".").pop();if(!f)return;"image"===e.type&&(d="image/"+("jpg"===f?"jpeg":f)),"audio"!==e.type&&"video"!==e.type||(d=o[f])}var m={query:{offset:0,complete:i>=a.fileSize,version:"1.0"},headers:{"Content-Type":d||"application/octet-stream","x-nos-token":e.nosToken.token},method:"POST",timeout:0,onaftersend:function(){e.beginupload(n)},onuploading:c,onload:u,onerror:l};return m.data=a.file.slice(0,i),r(e.url,m)}},function(e,t,n){"use strict";var s=n(49);e.exports=function(e,t){return t.method="POST",t.headers=t.headers||{},t.headers["Content-Type"]="multipart/form-data",t.timeout=0,t.type=t.type||"json",s(e,t)}},function(e,t,n){"use strict";var s,i,r=n(19),o=n(49),a=(s=/json/i,i=/post/i,function(e,t){var n=(t=t||{}).data=t.data||{},a=t.headers=t.headers||{},c=r.checkWithDefault(a,"Accept","application/json"),u=r.checkWithDefault(a,"Content-Type","application/json");return s.test(c)&&(t.type="json"),i.test(t.method)&&s.test(u)&&(t.data=JSON.stringify(n)),o(e,t)});e.exports=a},function(e,t,n){"use strict";var s=n(19),i=n(88),r=n(64),o={};function a(e){this.init(),r.call(this,e)}var c=r.prototype,u=a.prototype=Object.create(c);u.init=function(){var e="NEJ-AJAX-DATA:",t=!1;function n(t){var n=t.data;if(0===n.indexOf(e)){var s=(n=JSON.parse(n.replace(e,""))).key,i=o[s];i&&(delete o[s],n.result=decodeURIComponent(n.result||""),i.onLoad(n))}}return function(){!function(){if(!t){t=!0;var e=s.getGlobal();e.postMessage?s.on(e,"message",n):i.addMsgListener(n)}}()}}(),u.doSend=function(){var e=this.options,t=s.url2origin(e.url),n=e.proxyUrl||t+"/res/nej_proxy_frame.html",r=o[n];if(s.isArray(r))r.push(this.doSend.bind(this,e));else{if(!r)return o[n]=[this.doSend.bind(this,e)],void s.createIframe({src:n,onload:function(e){var t=o[n];o[n]=s.target(e).contentWindow,t.forEach((function(e){try{e()}catch(e){__f__("log","error:",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:6")}}))}});if(!this.aborted){var a=this.key=s.uniqueID();o[a]=this;var c=s.fetch({method:"GET",url:"",data:null,headers:{},timeout:0},e);c.key=a,i.postMessage(r,{data:c}),this.afterSend()}}},u.abort=function(){this.aborted=!0,delete o[this.key],c.abort.call(this)},e.exports=a},function(e,t,n){"use strict";var s=n(19),i=n(64),r=n(88),o="NEJ-UPLOAD-RESULT:",a={};function c(e){this.init(),i.call(this,e)}var u=i.prototype,l=c.prototype=Object.create(u);l.init=function(){var e=!1;function t(e){var t=e.data;if(0===t.indexOf(o)){var n=(t=JSON.parse(t.replace(o,""))).key,s=a[n];s&&(delete a[n],t.result=decodeURIComponent(t.result||""),s.onLoad(t.result))}}return function(){!function(){if(!e){e=!0;var n=s.getGlobal();n.postMessage?s.on(n,"message",t):(r.addMsgListener(t),r.startTimer())}}()}}(),l.doSend=function(){var e=this,t=e.options,n=e.key="zoro-ajax-upload-iframe-"+s.uniqueID();a[n]=e;var i=e.form=s.html2node('<form style="display:none;"></form>');"undefined"==typeof document?__f__("log","error: document is undefined"," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:6"):document.body.appendChild(i),i.target=n,i.method="POST",i.enctype="multipart/form-data",i.encoding="multipart/form-data";var r=t.url,o=s.genUrlSep(r);i.action=r+o+"_proxy_=form";var c=t.data,u=[],l=[];function d(){u.forEach((function(e,t){var n=l[t];n.parentNode&&(e.name=n.name,s.isFunction(e.setAttribute)&&e.setAttribute("form",n.getAttribute("form")),n.parentNode.replaceChild(e,n))}))}c&&s.getKeys(c,t.putFileAtEnd).forEach((function(e){var t=c[e];if(t.tagName&&"INPUT"===t.tagName.toUpperCase()){if("file"===t.type){var n=t,r=n.cloneNode(!0);n.parentNode.insertBefore(r,n);var o=s.dataset(n,"name");o&&(n.name=o),i.appendChild(n),s.isFunction(n.setAttribute)&&(n.setAttribute("form",""),n.removeAttribute("form")),u.push(t),l.push(r)}}else{var a=s.html2node('<input type="hidden"/>');a.name=e,a.value=t,i.appendChild(a)}}));var f=e.iframe=s.createIframe({name:n,onload:function(){e.aborted?d():(s.on(f,"load",e.checkResult.bind(e)),i.submit(),d(),e.afterSend())}})},l.checkResult=function(){var e,t;try{if((t=((e=this.iframe.contentWindow.document.body).innerText||e.textContent||"").trim()).indexOf(o)>=0||e.innerHTML.indexOf(o)>=0)return}catch(e){return void __f__("log","error:","ignore error if not same domain,",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:6")}this.onLoad(t)},l.onLoad=function(e){u.onLoad.call(this,{status:200,result:e}),s.remove(this.form),s.remove(this.iframe),u.destroy.call(this)},l.destroy=function(){s.remove(this.iframe),s.remove(this.form)},l.abort=function(){this.aborted=!0,delete a[this.key],u.abort.call(this)},e.exports=c},function(e,t,n){var s;
/*!
   * EventEmitter v5.2.4 - git.io/ee
   * Unlicense - http://unlicense.org/
   * Oliver Caldwell - http://oli.me.uk/
   * @preserve
   */!function(t){"use strict";function i(){}var r=i.prototype,o=t.EventEmitter;function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}r.getListeners=function(e){var t,n,s=this._getEvents();if(e instanceof RegExp)for(n in t={},s)s.hasOwnProperty(n)&&e.test(n)&&(t[n]=s[n]);else t=s[e]||(s[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},r.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,s=this.getListenersAsObject(e),i="object"==typeof t;for(n in s)s.hasOwnProperty(n)&&-1===a(s[n],t)&&s[n].push(i?t:{listener:t,once:!1});return this},r.on=c("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=c("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var n,s,i=this.getListenersAsObject(e);for(s in i)i.hasOwnProperty(s)&&-1!==(n=a(i[s],t))&&i[s].splice(n,1);return this},r.off=c("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var s,i,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(s=n.length;s--;)r.call(this,t,n[s]);else for(s in t)t.hasOwnProperty(s)&&(i=t[s])&&("function"==typeof i?r.call(this,s,i):o.call(this,s,i));return this},r.removeEvent=function(e){var t,n=typeof e,s=this._getEvents();if("string"===n)delete s[e];else if(e instanceof RegExp)for(t in s)s.hasOwnProperty(t)&&e.test(t)&&delete s[t];else delete this._events;return this},r.removeAllListeners=c("removeEvent"),r.emitEvent=function(e,t){var n,s,i,r,o=this.getListenersAsObject(e);for(r in o)if(o.hasOwnProperty(r))for(n=o[r].slice(0),i=0;i<n.length;i++)!0===(s=n[i]).once&&this.removeListener(e,s.listener),s.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,s.listener);return this},r.trigger=c("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=o,i},void 0===(s=function(){return i}.call(t,n,t,e))||(e.exports=s)}(this||{})},function(e,t,n){"use strict";var s=n(19),i=n(64);function r(e){e.onuploading&&this.on("uploading",e.onuploading),i.call(this,e)}var o=i.prototype,a=r.prototype=Object.create(o);a.doSend=function(){var e=this.options,t=e.headers,n=this.xhr=new XMLHttpRequest;if("multipart/form-data"===t["Content-Type"]){delete t["Content-Type"],n.upload.onprogress=this.onProgress.bind(this),n.upload.onload=this.onProgress.bind(this);var i=e.data;e.data=new window.FormData,i&&s.getKeys(i,e.putFileAtEnd).forEach((function(t){var n=i[t];n.tagName&&"INPUT"===n.tagName.toUpperCase()?"file"===n.type&&[].forEach.call(n.files,(function(t){e.data.append(s.dataset(n,"name")||n.name||t.name||"file-"+s.uniqueID(),t)})):e.data.append(t,n)}))}else t["x-nos-token"]&&(n.upload.onprogress=this.onProgress.bind(this),n.upload.onload=this.onProgress.bind(this));n.onreadystatechange=this.onStateChange.bind(this),0!==e.timeout&&(this.timer=setTimeout(this.onTimeout.bind(this),e.timeout)),n.open(e.method,e.url,!e.sync),Object.keys(t).forEach((function(e){n.setRequestHeader(e,t[e])})),e.cookie&&"withCredentials"in n&&(n.withCredentials=!0),n.send(e.data),this.afterSend()},a.onProgress=function(e){e.lengthComputable&&e.loaded<=e.total&&this.emit("uploading",e)},a.onStateChange=function(){var e=this.xhr;4===e.readyState&&this.onLoad({status:e.status,result:e.responseText||""})},a.getResponseHeader=function(e){var t=this.xhr;return t?t.getResponseHeader(e):""},a.destroy=function(){clearTimeout(this.timer);try{this.xhr.onreadystatechange=s.f,this.xhr.abort()}catch(e){__f__("log","error:","ignore error ajax destroy,",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:12")}o.destroy.call(this)},e.exports=r},function(e,t,n){"use strict";var s=n(1),i=n(0),r=n(7),o=n(21).upload,a=n(21).chunkUpload,c=n(21).abort,u=i.supportFormData;function l(e){var t=this;t.options=i.copy(e),i.verifyOptions(e,"url fileName"),i.verifyParamPresentJustOne(e,"blob fileInput"),i.verifyCallback(e,"beginupload uploadprogress uploaddone"),e.fileInput&&(e.fileInput=i.verifyFileInput(e.fileInput)),e.type&&i.verifyFileType(e.type),e.timeout?i.verifyParamType("timeout",e.timeout,"number"):e.timeout=6e5,i.verifyFileUploadCallback(e),e.data={},e.params&&i.merge(e.data,e.params);var n=e.fileName,c=e.fileInput;if(u){if(c){var l=e.type?i.filterFiles(c.files,e.type):[].slice.call(c.files,0);if(!l||!l.length)return void e.uploaddone(r.newWrongFileTypeError("未读取到"+e.type+"类型的文件, 请确保文件选择节点的文件不为空, 并且请确保选择了"+e.type+"类型的文件"));e.data[n]=l[0];var d=c.files[0].size}else if(e.blob){if(e.data[n]=e.blob,"file"!==e.type&&e.blob.type&&-1===e.blob.type.indexOf(e.type))return void e.uploaddone(r.newWrongFileTypeError("未读取到"+e.type+"类型的文件, 请确保选择了"+e.type+"类型的文件"));d=e.blob.size}if(e.maxSize&&d>e.maxSize)return void e.uploaddone(r.newFileTooLargeError("上传文件大小超过"+e.maxSize+"限制"));if(!e.commonUpload)return d>s.chunkMaxSize?void e.uploaddone(r.newFileTooLargeError("直传文件大小超过"+s.chunkMaxSize+"限制")):void(t.sn=a(e,n,t));if(d>s.commonMaxSize)return void e.uploaddone(r.newFileTooLargeError("普通上传文件大小超过"+s.commonMaxSize+"限制"))}else i.dataset(c,"name",n),e.data.input=c;var f={data:e.data,onaftersend:function(){e.beginupload(t)},onuploading:function(t){var n=Math.floor(1e4*t.loaded/t.total)/100,s={docId:e.docId,total:t.total,loaded:t.loaded,percentage:n,percentageText:n+"%"};e.fileInput&&(s.fileInput=e.fileInput),e.blob&&(s.blob=e.blob),e.uploadprogress(s)},onload:function(n){n.docId=e.docId,n.Error?t.onError(n):e.uploaddone(null,n)},onerror:function(n){try{if(n.result)var s=JSON.parse(n.result);else s=n;t.onError(s)}catch(s){__f__("log","error: ignore error if could not parse obj.result",s," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:12"),e.uploaddone(new r(n.message,n.code),t.options)}}};u||(f.mode="iframe"),f.putFileAtEnd=!0,t.sn=o(e.url,f)}l.prototype.onError=function(e){var t,n,s,i=this.options;n=(t=(e=e||{}).Error||e||{}).Code||t.code||"unknown",s=t.Message||t.message||"未知错误",i.uploaddone(new r(n+"("+s+")",n))},l.prototype.abort=function(){c(this.sn)},e.exports=l},function(e,t,n){var s,i,r;!function(n,o){"use strict";i=[],void 0===(r="function"==typeof(s=function(e){return function(t){t=t||{},function(){t.arrayAccessForm=t.arrayAccessForm||"none",t.emptyNodeForm=t.emptyNodeForm||"text",t.jsAttributeFilter=t.jsAttributeFilter,t.jsAttributeConverter=t.jsAttributeConverter,t.attributeConverters=t.attributeConverters||[],t.datetimeAccessFormPaths=t.datetimeAccessFormPaths||[],t.arrayAccessFormPaths=t.arrayAccessFormPaths||[],void 0===t.enableToStringFunc&&(t.enableToStringFunc=!0),void 0===t.skipEmptyTextNodesForObj&&(t.skipEmptyTextNodesForObj=!0),void 0===t.stripWhitespaces&&(t.stripWhitespaces=!0),void 0===t.useDoubleQuotes&&(t.useDoubleQuotes=!0),void 0===t.ignoreRoot&&(t.ignoreRoot=!1),void 0===t.escapeMode&&(t.escapeMode=!0),void 0===t.attributePrefix&&(t.attributePrefix="_"),void 0===t.selfClosingElements&&(t.selfClosingElements=!0),void 0===t.keepCData&&(t.keepCData=!1),void 0===t.jsDateUTC&&(t.jsDateUTC=!1)}(),function(){function e(e){var t=String(e);return 1===t.length&&(t="0"+t),t}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var n={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function s(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!==t||(t=e.nodeName),t}function i(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):e}function r(e,n,s){switch(t.arrayAccessForm){case"property":e[n]instanceof Array?e[n+"_asArray"]=e[n]:e[n+"_asArray"]=[e[n]]}if(!(e[n]instanceof Array)&&t.arrayAccessFormPaths.length>0){for(var i=!1,r=0;r<t.arrayAccessFormPaths.length;r++){var o=t.arrayAccessFormPaths[r];if("string"==typeof o){if(o===s){i=!0;break}}else if(o instanceof RegExp){if(o.test(s)){i=!0;break}}else if("function"==typeof o&&o(n,s)){i=!0;break}}i&&(e[n]=[e[n]])}}function o(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),s=t[5].split(".");if(n.setHours(t[3],t[4],s[0]),s.length>1&&n.setMilliseconds(s[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]),r=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";i=0+("-"===r?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function a(e,i){for(var a={__cnt:0},u=e.childNodes,l=0;l<u.length;l++){var d=u.item(l),f=s(d);d.nodeType!==n.COMMENT_NODE&&(a.__cnt++,null==a[f]?(a[f]=c(d,i+"."+f),r(a,f,i+"."+f)):(a[f]instanceof Array||(a[f]=[a[f]],r(a,f,i+"."+f)),a[f][a[f].length]=c(d,i+"."+f)))}for(var m=0;m<e.attributes.length;m++){var p=e.attributes.item(m);a.__cnt++;for(var h=p.value,g=0;g<t.attributeConverters.length;g++){var v=t.attributeConverters[g];v.test.call(null,p.name,p.value)&&(h=v.convert.call(null,p.name,p.value))}a[t.attributePrefix+p.name]=h}var y=e.prefix;return y&&(a.__cnt++,a.__prefix=y),a["#text"]&&(a.__text=a["#text"],a.__text instanceof Array&&(a.__text=a.__text.join("\n")),t.escapeMode&&(a.__text=a.__text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")),t.stripWhitespaces&&(a.__text=a.__text.trim()),delete a["#text"],"property"===t.arrayAccessForm&&delete a["#text_asArray"],a.__text=function(e,n,s){if(t.datetimeAccessFormPaths.length>0)for(var i=s.split(".#")[0],r=0;r<t.datetimeAccessFormPaths.length;r++){var a=t.datetimeAccessFormPaths[r];if("string"==typeof a){if(a===i)return o(e)}else if(a instanceof RegExp){if(a.test(i))return o(e)}else if("function"==typeof a&&a(i))return o(e)}return e}(a.__text,0,i+".#text")),a.hasOwnProperty("#cdata-section")&&(a.__cdata=a["#cdata-section"],delete a["#cdata-section"],"property"===t.arrayAccessForm&&delete a["#cdata-section_asArray"]),1===a.__cnt&&a.__text?a=a.__text:0===a.__cnt&&"text"===t.emptyNodeForm?a="":a.__cnt>1&&void 0!==a.__text&&t.skipEmptyTextNodesForObj&&(t.stripWhitespaces&&""===a.__text||""===a.__text.trim())&&delete a.__text,delete a.__cnt,t.keepCData||a.hasOwnProperty("__text")||!a.hasOwnProperty("__cdata")?(t.enableToStringFunc&&(a.__text||a.__cdata)&&(a.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),a):a.__cdata?a.__cdata:""}function c(e,i){return e.nodeType===n.DOCUMENT_NODE?function(e){for(var i={},r=e.childNodes,o=0;o<r.length;o++){var a=r.item(o);if(a.nodeType===n.ELEMENT_NODE){var u=s(a);t.ignoreRoot?i=c(a,u):i[u]=c(a,u)}}return i}(e):e.nodeType===n.ELEMENT_NODE?a(e,i):e.nodeType===n.TEXT_NODE||e.nodeType===n.CDATA_SECTION_NODE?e.nodeValue:null}function u(e,n,s,r){var o="<"+(e&&e.__prefix?e.__prefix+":":"")+n;if(s)for(var a=0;a<s.length;a++){var c=s[a],u=e[c];t.escapeMode&&(u=i(u)),o+=" "+c.substr(t.attributePrefix.length)+"=",t.useDoubleQuotes?o+='"'+u+'"':o+="'"+u+"'"}return o+(r?" />":">")}function l(e,t){return"</"+(e&&e.__prefix?e.__prefix+":":"")+t+">"}function d(e,n){return"property"===t.arrayAccessForm&&(s=n.toString(),i="_asArray",-1!==s.indexOf(i,s.length-i.length))||0===n.toString().indexOf(t.attributePrefix)||0===n.toString().indexOf("__")||e[n]instanceof Function;var s,i}function f(e){var t=0;if(e instanceof Object)for(var n in e)d(e,n)||t++;return t}function m(e){var n=[];if(e instanceof Object)for(var s in e)-1===s.toString().indexOf("__")&&0===s.toString().indexOf(t.attributePrefix)&&n.push(s);return n}function p(e){var n="";return e instanceof Object?n+=function(e){var n="";return e.__cdata&&(n+="<![CDATA["+e.__cdata+"]]>"),e.__text&&(t.escapeMode?n+=i(e.__text):n+=e.__text),n}(e):null!==e&&(t.escapeMode?n+=i(e):n+=e),n}function h(e,n,s){var i="";if(t.jsAttributeFilter&&t.jsAttributeFilter.call(null,n,e))return i;if(t.jsAttributeConverter&&(e=t.jsAttributeConverter.call(null,n,e)),null!=e&&""!==e||!t.selfClosingElements)if("object"==typeof e)if("[object Array]"===Object.prototype.toString.call(e))i+=function(e,t,n){var s="";if(0===e.length)s+=u(e,t,n,!0);else for(var i=0;i<e.length;i++)s+=h(e[i],t,m(e[i]));return s}(e,n,s);else if(e instanceof Date)i+=u(e,n,s,!1),i+=t.jsDateUTC?e.toUTCString():e.toISOString(),i+=l(e,n);else{var r=f(e);r>0||e.__text||e.__cdata?(i+=u(e,n,s,!1),i+=g(e),i+=l(e,n)):t.selfClosingElements?i+=u(e,n,s,!0):(i+=u(e,n,s,!1),i+=l(e,n))}else i+=u(e,n,s,!1),i+=p(e),i+=l(e,n);else i+=u(e,n,s,!0);return i}function g(e){var t="",n=f(e);if(n>0)for(var s in e)if(!d(e,s)){var i=e[s],r=m(i);t+=h(i,s,r)}return t+p(e)}function v(t){if(void 0===t)return null;if("string"!=typeof t)return null;var n=null,s=null;if(e)n=new e,s=n.parseFromString(t,"text/xml");else if(window&&window.DOMParser){n=new window.DOMParser;var i=null,r=window.ActiveXObject||"ActiveXObject"in window;if(!r)try{i=n.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(e){i=null}try{s=n.parseFromString(t,"text/xml"),null!==i&&s.getElementsByTagNameNS(i,"parsererror").length>0&&(s=null)}catch(e){s=null}}else 0===t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),(s=new ActiveXObject("Microsoft.XMLDOM")).async="false",s.loadXML(t);return s}this.asArray=function(e){return null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?o(e):e},this.xml2dom=function(e){return v(e)},this.dom2js=function(e){return c(e,null)},this.js2dom=function(e){var t=this.js2xml(e);return v(t)},this.xml2js=function(e){var t=v(e);return null!=t?this.dom2js(t):null},this.js2xml=function(e){return g(e)},this.getVersion=function(){return"3.1.1"}}})?s.apply(t,i):s)||(e.exports=r)}()},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(17).fn,a=n(0),c=n(183),u=n(7),l=n(1),d=n(89),f=n(182),m=n(87);o.sendText=function(e){return this.processCallback(e),e.msg=new this.message.TextMessage(e),this.sendMsg(e)},o.previewFile=function(e){if(a.verifyOptions(e,"done","msg::previewFile"),e.type||(e.type="file"),a.verifyParamPresentJustOne(e,"dataURL blob fileInput filePath wxFilePath fileObject","msg::previewFile"),a.exist(e.maxSize)&&a.verifyParamType("maxSize",e.maxSize,"number","api::previewFile"),a.exist(e.commonUpload)&&a.verifyParamType("commonUpload",e.commonUpload,"boolean","api::previewFile"),e.nosSurvivalTime?(a.verifyParamType("nosSurvivalTime",e.nosSurvivalTime,"number","api::Base.getInstance"),a.verifyParamMin("nosSurvivalTime",e.nosSurvivalTime,86400,"api::Base.getInstance")):e.nosSurvivalTime=this.nosSurvivalTime,e.filePath=e.filePath||e.wxFilePath,delete e.wxFilePath,e.dataURL)e.blob=m.fromDataURL(e.dataURL);else if(e.blob);else if(e.fileInput){if(e.fileInput=a.verifyFileInput(e.fileInput,"msg::previewFile"),e.fileInput.files){if(!e.fileInput.files.length)return void e.done(u.newNoFileError("请选择"+e.type+"文件",{callFunc:"msg::previewFile",fileInput:e.fileInput}),e);e.fileSize=e.fileInput.files[0].size}e.fileInputName=a.getFileName(e.fileInput)}this.processCallback(e);var t=JSON.stringify(d.genResponseBody(e.type)||{}).replace(/"/gi,'\\"'),n=null,s=e.transcode?"getNosTokenTrans":"getNosToken";if(e.transcode){a.verifyOptions(e,"fileInput","msg::previewFile");var i=a.getFileInfo(e.fileInput);n={transToken:{name:i.name,type:i.transcodeType,transType:"png"===e.transcode?11:10,size:i.size,body:t}}}else n=t;this[s]({responseBody:n,nosToken:{nosScene:e.nosScene||this.nosScene,nosSurvivalTime:e.nosSurvivalTime},callback:function(t,n){t?e.done(t):(e.transcode?(e.nosToken=n.nosToken,e.docId=n.docId):e.nosToken=n,this._doPreviewFile(e))}.bind(this)})},o._doPreviewFile=function(e){var t,n=this,s=e.uploaddone,i=l.genUploadUrl(e.nosToken.bucket),o=l.genChunkUploadUrl(e.nosToken);e.commonUpload||!o||l.isNodejs||l.isRN?(e.commonUpload=!0,t=i):(this.logger.info("use chunkUrl: ",o),t=o);var c=this.assembleUploadParams(e.nosToken);function m(t,i,r){if(e.uploaddone=s,t)e.done(t,e.callback.options);else{if(i=d.parseResponse(i,n.options.exifOrientation),r||(i.url=l.genDownloadUrl(e.nosToken,c.Object),e.nosToken.shortUrl&&(i._url_safe=e.nosToken.shortUrl)),a.exist(e.fileInputName))i.name=e.fileInputName;else if(e.blob){var o=e.blob.name;if(i.name=o||"blob-"+i.md5,!o){var u=e.blob.type;i.ext=u.slice(u.lastIndexOf("/")+1)}}else e.filePath?i.name=e.filePath:e.fileObject&&(i.name=e.fileObject.fileName);if(!i.ext){var f=i.name.lastIndexOf(".");i.ext=-1===f?"unknown":i.name.slice(f+1)}i.size=i.size||0,e.done(null,a.copy(i))}}if(l.isWeixinApp)a.verifyOptions(e,"filePath","msg::_doPreviewFile"),n.fileQuickTransfer(e,m,(function(){var s=wx.uploadFile({url:t,filePath:e.filePath,name:"file",formData:c,fail:function(e){n.protocol.logger.log("error:","api::msg:upload file failed",e)},success:function(e){if(200===e.statusCode)try{m(null,JSON.parse(e.data))}catch(t){n.protocol.logger.log("error:","parse wx upload file res error",t),m({code:"PARSE_WX_UPLOAD_FILE_RES_ERROR",str:e.data,msg:e.errMsg})}else m({code:e.statusCode,msg:e.errMsg})}});"function"==typeof e.uploadprogress&&s.onProgressUpdate((function(t){e.uploadprogress({total:t.totalBytesExpectedToSend,loaded:t.totalBytesSent,percentage:t.progress,percentageText:t.progress+"%"})}))}));else if(l.isNodejs){var p={url:t,name:"file",formData:c,success:function(e){if(200===e.statusCode)try{m(null,JSON.parse(e.data))}catch(t){n.protocol.logger.log("error:","parse nodejs upload file res error",t),m({code:"PARSE_NODEJS_UPLOAD_FILE_RES_ERROR",str:e.data,msg:e.errMsg})}else m({code:e.statusCode,msg:e.errMsg})},fail:function(e){n.protocol.logger.log("error:","api::msg:upload file failed",e)}};if(e.filePath)p.filePath=e.filePath;else{if("object"!==(0,r.default)(e.fileObject))throw new u("Nodejs上传fileObject参数类型应如 {fileName:..,fileData:..} ");p.fileData=e.fileObject.fileData}n.fileQuickTransfer(e,m,(function(){f.uploadFile(p)}))}else if(l.isRN){var h={url:t,name:"file",formData:c,filePath:e.filePath,success:function(e){if(e.ok&&200===e.status)try{e.md5=e.headers.map&&e.headers.map.etag&&e.headers.map.etag[0]||"UNKNOWN",m(null,e)}catch(t){n.protocol.logger.log("error:","parse React Native upload file res error",t),m({code:"PARSE_React_Native_UPLOAD_FILE_RES_ERROR",res:e})}else m({code:e.status,msg:e.statusText})},fail:function(e){n.protocol.logger.log("error:","api::msg:upload file failed",e)}};n.fileQuickTransfer(e,m,(function(){f.uploadFile(h)}))}else e.uploaddone=m,e.url=t,e.params=c,e.fileName="file",n.fileQuickTransfer(e,m,(function(){return new f(e)}))},o.fileQuickTransfer=function(e,t,n){var s=this;e=e||{},t instanceof Function||(t=function(){}),n instanceof Function||(n=function(){});var i=e.fastPass;if(i)try{i=JSON.parse(i),e.fastPass=i}catch(e){s.protocol.logger.error("快传参数解析失败")}var r=e.fileInputName||e.name||e.blob&&e.blob.name||"",o=e.fileSize||e.size||e.blob&&e.blob.size||0,a=i?((i.md5||e.digest||"")+"").trim():"",c=e.type||e.blob&&e.blob.type;if(a&&o>=l.threshold){var u=!0,d={name:r,md5:a,ext:r.slice(r.lastIndexOf(".")+1),type:c};switch(c){case"image":i&&i.w&&i.h?(d.w=i.w,d.h=i.h):(u=!1,s.protocol.logger.error("快传 image 文件缺少参数 w 或 h"));break;case"video":i&&i.w&&i.h&&i.dur?(d.w=i.w,d.h=i.h,d.dur=i.dur):(u=!1,s.protocol.logger.error("快传 video 文件缺少参数 w 或 h 或 dur"));break;case"audio":i&&i.dur?d.dur=i.dur:(u=!1,s.protocol.logger.error("快传 audio 文件缺少参数 dur"))}if(!u)return void n();var f={fileQuickTransfer:{md5:a}};return o&&(f.fileQuickTransfer.size=o),this.protocol.sendCmd("fileQuickTransfer",f,(function(e,i,r){!e&&r&&r.fileQuickTransfer&&r.fileQuickTransfer.url||(s.protocol.logger.error("misc::fileQuickTransfer: not found",e,i,r),n()),r&&r.fileQuickTransfer&&r.fileQuickTransfer.threshold&&(l.threshold=r.fileQuickTransfer.threshold||0),r&&r.fileQuickTransfer&&r.fileQuickTransfer.url&&(d.size=o||r.fileQuickTransfer.size,d.url=r.fileQuickTransfer.url,r.fileQuickTransfer._url_safe&&(d._url_safe=r.fileQuickTransfer._url_safe),t(e,d,!0))}))}n()},o.sendFile=function(e){if(e.type||(e.type="file"),a.verifyParamPresentJustOne(e,"dataURL blob fileInput file filePath wxFilePath fileObject","msg::sendFile"),a.exist(e.maxSize)&&a.verifyParamType("maxSize",e.maxSize,"number","api::previewFile"),a.exist(e.commonUpload)&&a.verifyParamType("commonUpload",e.commonUpload,"boolean","api::previewFile"),this.processCallback(e),e.filePath=e.filePath||e.wxFilePath,delete e.wxFilePath,e.dataURL)this._previewAndSendFile(e);else if(e.blob)this._previewAndSendFile(e);else if(e.fileInput){if(e.fileInput=a.verifyFileInput(e.fileInput,"msg::sendFile"),e.fileInput.files&&!e.fileInput.files.length)return void e.done(u.newNoFileError("请选择"+e.type+"文件",{callFunc:"msg::sendFile",fileInput:e.fileInput}),e.callback.options);this._previewAndSendFile(e)}else if(e.filePath||e.fileObject)this._previewAndSendFile(e);else if(e.file){var t,n=e.file._url_safe;return n&&(t=e.file.url,e.file.url=n,delete e.file._url_safe),e.msg=new this.message.FileMessage(e),this.sendMsg(e,t)}},o._previewAndSendFile=function(e){var t=this;a.verifyCallback(e,"uploaddone beforesend","msg::_previewAndSendFile");var n=e.done;e.done=function(s,i){if(e.done=n,s)e.uploaddone(s,e.callback.options),e.done(s,e.callback.options);else{if(/chatroom/.test(e.scene))return;var r;e.uploaddone(null,a.copy(i));var o=i._url_safe;o&&(r=i.url,i.url=o,delete i._url_safe),e.file=i,e.msg=new t.message.FileMessage(e),e.beforesend(t.sendMsg(e,r))}},t.previewFile(e)},o.assembleUploadParams=function(e){return e?{Object:decodeURIComponent(e.objectName),"x-nos-token":e.token,"x-nos-entity-type":"json"}:null},o.deleteFile=function(e){a.verifyParamPresentJustOne(e,"docId","msg::deleteFile"),this.removeFile({docId:e.docId,callback:function(t,n){t?e.error&&e.error(t,n):e.success&&e.success(n)}})},o.getFile=function(e){a.verifyParamPresentJustOne(e,"docId","msg::getFile"),this.fetchFile({docId:e.docId,callback:function(t,n){t?e.error&&e.error(t,n):e.success&&e.success(n.info)}})},o.getFileList=function(e){var t=e.fromDocId,n=void 0===t?"":t,s=e.limit,i=void 0===s?10:s,r={limit:i};n&&(r.fromDocId=n),this.fetchFileList({fileListParam:r,callback:function(t,n){t?(i>30&&(t.message=t.message+"::文档条数超过限制:30"),e.error&&e.error(t,n)):e.success&&e.success(n)}})},o.sendGeo=function(e){return this.processCallback(e),e.msg=new this.message.GeoMessage(e),this.sendMsg(e)},o.sendTipMsg=function(e){return this.processCallback(e),e.msg=new this.message.TipMessage(e),this.sendMsg(e)},o.sendCustomMsg=function(e){return this.processCallback(e),e.msg=new this.message.CustomMessage(e),this.sendMsg(e)},o.sendRobotMsg=function(e){return this.processCallback(e),e.msg=new this.message.RobotMessage(e),this.sendMsg(e)},o.sendMsg=function(e,t){var n,s=this.protocol,i=e.msg,r={},o=!!e.isLocal;if(o&&(e.time&&(i.time=e.time),e.idClient&&(i.idClient=e.idClient),e.localFrom&&(n=e.localFrom+"")),e.resend&&("out"!==e.flow||"fail"!==e.status))return a.onError("只能重发发送失败的消息");e.callback.options.idClient=i.idClient,this.beforeSendMsg(e,r);var c=e.rtnMsg=this.formatReturnMsg(i,n);return t&&!this.options.keepNosSafeUrl&&c.file&&(c.file._url_safe=c.file.url,c.file.url=t,"audio"===c.type&&(c.file.mp3Url=t+(~t.indexOf("?")?"&":"?")+"audioTrans&type=mp3")),c.hasOwnProperty("chatroomId")&&!c.chatroomId?a.onError("聊天室未连接"):(o&&(c.status="success",c.isLocal=!0),s.storeSendMsg&&(r.promise=s.storeSendMsg(c)),e.cbaop=function(e){if(e)return 7101===e.code&&(c.isInBlackList=!0),"server"!==e.from?(c.status="fail",s.updateSendMsgError&&s.updateSendMsgError(c),c):void 0},o||(t&&!this.options.keepNosSafeUrl&&e.callback&&(e.callback.originUrl=t),r.msg=i,this.sendCmd(e.cmd,r,e.callback)),this.afterSendMsg(e),o&&setTimeout((function(){c=a.simpleClone(c),e.done(null,c)}),0),a.copy(c))},o.beforeSendMsg=function(){},o.afterSendMsg=function(){},o.formatReturnMsg=function(e,t){return e=a.copy(e),this.protocol.completeMsg(e),e.status="sending",t&&(e.from=t),this.message.reverse(e)},o.resendMsg=function(e){return a.verifyOptions(e,"msg","msg::resendMsg"),this.trimMsgFlag(e),e.resend=!0,this._sendMsgByType(e)},o.forwardMsg=function(e){return a.verifyOptions(e,"msg","msg::forwardMsg"),this.trimMsgFlag(e),this.beforeForwardMsg(e),e.forward=!0,e.msg.idClient=a.guid(),this._sendMsgByType(e)},o.trimMsgFlag=function(e){e&&e.msg&&(e.msg=a.copy(e.msg),delete e.msg.resend,delete e.msg.forward)},o.beforeForwardMsg=function(){},o._sendMsgByType=function(e){switch(a.verifyOptions(e,"msg","msg::_sendMsgByType"),a.verifyParamValid("msg.type",e.msg.type,this.message.validTypes,"msg::_sendMsgByType"),a.merge(e,e.msg),e.type){case"text":return this.sendText(e);case"image":case"audio":case"video":case"file":return this.sendFile(e);case"geo":return this.sendGeo(e);case"custom":return this.sendCustomMsg(e);case"tip":return this.sendTipMsg(e);default:throw new u("不能发送类型为 "+e.type+" 的消息")}},o.parseRobotTemplate=function(e){if(/<template[^>\/]+\/>/.test(e))return{raw:e,json:[{type:"text",name:"",text:""}]};if(!/<template[^>\/]+>/.test(e))return{raw:e,json:[{type:"text",name:"",text:e}]};var t=new c({escapeMode:!1});e=e.replace(/<template [^>]+>/,"<template>");var n=t.xml2js(e);n=n.template.LinearLayout,Array.isArray(n)||(n=[n]);var s=[];return n=n.forEach((function(e){e.image&&(s=s.concat(r(e))),e.text&&(s=s.concat(i(e))),e.link&&(s=s.concat(function(e){if(e.link){var t=e.link;Array.isArray(t)||(t=[t]),t=t.map((function(e){return e.image&&(e.image=r(e)),e.text&&(e.text=i(e)),"url"===e._type?(e.type="url",e.style=e._style||"",e.target=e._target,delete e._target,delete e._style):"block"===e._type&&(e.type="block",e.style=e._style||"",e.params=e._params||"",e.target=e._target,delete e._params,delete e._target,delete e._style),delete e._type,e})),e.link=t}return e.link}(e)))})),{raw:e,json:s};function i(e){return Array.isArray(e.text)||(e.text=[e.text]),e.text=e.text.map((function(e){return{type:"text",name:e._name,text:e.__text}})),e.text}function r(e){return Array.isArray(e.image)||(e.image=[e.image]),e.image=e.image.map((function(e){return{type:"image",name:e._name,url:e._url}})),e.image}}},function(e,t,n){"use strict";var s=n(17).fn;s.isConnected=function(){return!!this.protocol&&this.protocol.isConnected()},s.connect=function(){this.protocol.appLogin=0,this.protocol.connect(!0)},s.disconnect=function(e){e=e||{},this.protocol.disconnect(e.done)}},function(e,t,n){"use strict";var s=n(34),i=n(0),r=n(1),o=n(14);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.merge(this,{options:e,debug:!1,api:"log",style:"color:blue;",log:i.emptyFunc,info:i.emptyFunc,warn:i.emptyFunc,error:i.emptyFunc}),this.prefix=e.prefix||"",this.setDebug(e.debug)}var c=a.prototype,u=["Chrome","Safari","Firefox"];c.setDebug=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(t.debug=e,e.style&&(t.style=e.style),i.exist(console))if(t.debug){var n=r.isRN?d:function(){},o=console;t.debug=function(){var e=t.formatArgs(arguments);-1!==u.indexOf(s.name)&&i.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,t.style)),t._log("debug",e)},t.log=function(){var e=t.formatArgs(arguments);-1!==u.indexOf(s.name)&&i.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,t.style)),t._log("log",e)},t.info=function(){var e=t.formatArgs(arguments);-1!==u.indexOf(s.name)&&i.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,t.style)),t._log("info",e)},t.warn=function(){var e=t.formatArgs(arguments);-1!==u.indexOf(s.name)&&i.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,t.style)),t._log("warn",e)},t.error=function(){var e=t.formatArgs(arguments);-1!==u.indexOf(s.name)&&i.isString(e[0])&&(e[0]="%c"+e[0],e.splice(1,0,t.style)),t._log("error",e)},t._log=function(e,s){/error|warn|info/.test(e)&&n(JSON.stringify(s)+"\r\n");var r=t.options.logFunc,a=null;if(r&&(r[e]&&(a=r[e]),i.isFunction(a)))a.apply(r,s);else if(o[e])try{o[e].apply?t.chrome(e,s):t.ie(e,s)}catch(e){}},t.chrome=function(e,n){-1!==u.indexOf(s.name)?o[e].apply(o,n):t.ie(e,n)},t.ie=function(e,t){t.forEach((function(t){o[e](JSON.stringify(t,null,4))}))}}else r.isRN&&(t.info=function(){var e=t.formatArgs(arguments);d(JSON.stringify(e))},t.warn=function(){var e=t.formatArgs(arguments);d(JSON.stringify(e))},t.error=function(){var e=t.formatArgs(arguments);d(JSON.stringify(e))})},c.formatArgs=function(e){e=[].slice.call(e,0);var t=new Date,n="[NIM LOG "+l(t.getMonth()+1)+"-"+l(t.getDate())+" "+l(t.getHours())+":"+l(t.getMinutes())+":"+l(t.getSeconds())+":"+l(t.getMilliseconds(),3)+" "+this.prefix.toUpperCase()+"]  ";return i.isString(e[0])?e[0]=n+e[0]:e.splice(0,0,n),e.forEach((function(t,n){(i.isArray(t)||i.isObject(t))&&(e[n]=i.simpleClone(t))})),e};var l=function(e,t){t=t||2;for(var n=""+e;n.length<t;)n="0"+n;return n};function d(e){if(r.isRN&&o.rnfs&&o.rnfs.writeFile&&o.rnfs.appendFile&&o.rnfs.DocumentDirectoryPath){var t=o.rnfs,n=void 0,s=t.size/2-256;t.nimPromise=t.nimPromise.then((function(){return n=i(t.nimIndex),t.exists(n)})).then((function(s){return s?t.appendFile(n,e):t.writeFile(n,e)})).then((function(){return t.stat(n)})).then((function(e){if(e.size>s)return t.nimIndex++,t.nimIndex>1&&(t.nimIndex=t.nimIndex%2),t.unlink(i(t.nimIndex)).catch((function(e){return Promise.resolve()}))})).catch((function(e){__f__("error",e," at js_sdk\\NIM_Weixin_SDK_v7.3.0\\NIM_Web_SDK_weixin_v7.3.0.js:12")}))}function i(e){return o.rnfs.DocumentDirectoryPath+"/nimlog_"+e+".log"}}e.exports=a},function(e,t,n){"use strict";var s=n(1);"undefined"!=typeof window&&(window.console||s.isWeixinApp||(window.console={log:function(){},info:function(){},warn:function(){},error:function(){}}))},function(e,t,n){"use strict";var s=Object.prototype.hasOwnProperty,i="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)s.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e,t){var n=i?i+e:e,s=this._events[n];if(t)return!!s;if(!s)return[];if(s.fn)return[s.fn];for(var r=0,o=s.length,a=new Array(o);r<o;r++)a[r]=s[r].fn;return a},a.prototype.emit=function(e,t,n,s,r,o){var a=i?i+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,s),!0;case 5:return l.fn.call(l.context,t,n,s,r),!0;case 6:return l.fn.call(l.context,t,n,s,r,o),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,m=l.length;for(u=0;u<m;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,s);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){var s=new o(t,n||this),r=i?i+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],s]:this._events[r].push(s):(this._events[r]=s,this._eventsCount++),this},a.prototype.once=function(e,t,n){var s=new o(t,n||this,!0),r=i?i+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],s]:this._events[r].push(s):(this._events[r]=s,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,s){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==t||s&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||s&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[o]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,e.exports=a},function(e,t,n){"use strict";t.__esModule=!0;var s,i=n(72),r=(s=i)&&s.__esModule?s:{default:s};t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";(function(t){var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(96),a=n(95),c=n(65),u=n(93),l=n(92);e.exports={polyfill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t||window;if("object"!==(void 0===e?"undefined":(0,r.default)(e)))throw new Error("polyfill target is not an Object");var n={localStorage:o,XMLHttpRequest:a,FormData:c,WebSocket:u,Object:Object,navigator:l,location:Object.create(null)};for(var s in n)e[s]||(e[s]=n[s]);e.navigator.product="WeixinApp"},localStorage:o,XMLHttpRequest:a,FormData:c,WebSocket:u}}).call(this,n(51))},function(e,t,n){"use strict";var s=n(190).polyfill;try{s()}catch(e){}try{s(GameGlobal)}catch(e){}try{window=window||{},s(window)}catch(e){}try{localStorage=localStorage||n(96)}catch(e){}try{XMLHttpRequest=XMLHttpRequest||n(95)}catch(e){}try{FormData=FormData||n(65)}catch(e){}try{WebSocket=WebSocket||n(93)}catch(e){}try{navigator=navigator||n(92)}catch(e){}},,function(e,t,n){"use strict";var s=n(75).fn,i=n(0);s.queueOffer=function(e){i.verifyOptions(e,"elementKey elementValue","msg::queueOffer"),e.transient?e.transient=!0:e.transient=!1,this.processCallback(e),this.sendCmd("queueOffer",e,e.callback)},s.queuePoll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.elementKey=e.elementKey||"",this.processCallback(e),this.sendCmd("queuePoll",e,e.callback)},s.queueList=function(e){this.processCallback(e),this.sendCmd("queueList",e,e.callback)},s.peak=function(e){this.processCallback(e),this.sendCmd("peak",e,e.callback)},s.queueDrop=function(e){this.processCallback(e),this.sendCmd("queueDrop",e,e.callback)},s.queueChange=function(e){i.verifyOptions(e,"elementMap","msg::queueOffer"),e.needNotify?(e.needNotify=!0,i.verifyOptions(e,"notifyExt","msg::queueOffer")):e.needNotify=!1,this.processCallback(e),this.sendCmd("queueChange",e,e.callback)}},function(e,t,n){"use strict";var s=n(0),i=s.undef,r=s.verifyOptions,o=s.verifyParamType,a=n(99),c=n(75).fn;c.updateMyChatroomMemberInfo=function(e){r(e,"member needNotify","member::updateMyChatroomMemberInfo"),o("needNotify",e.needNotify,"boolean","member::updateMyChatroomMemberInfo"),e.needSave=e.needSave||!1,o("needSave",e.needSave,"boolean","member::updateMyChatroomMemberInfo"),this.processCustom(e),this.processCallback(e),e.chatroomMember=new a(e.member),this.sendCmd("updateMyChatroomMemberInfo",e)},c.getChatroomMembers=function(e){r(e,"guest","member::getChatroomMembers"),o("guest",e.guest,"boolean","member::getChatroomMembers"),i(e.time)?e.time=0:o("time",e.time,"number","member::getChatroomMembers"),i(e.limit)?e.limit=100:o("limit",e.limit,"number","member::getChatroomMembers"),this.processCallback(e),e.type=e.guest?1:0,!e.guest&&e.onlyOnline&&(e.type=2),this.sendCmd("getChatroomMembers",e)},c.getChatroomMembersInfo=function(e){r(e,"accounts","member::getChatroomMembersInfo"),o("accounts",e.accounts,"array","member::getChatroomMembersInfo"),this.processCallback(e),this.sendCmd("getChatroomMembersInfo",e)},c.markChatroomIdentity=function(e){r(e,"identity","member::markChatroomIdentity"),e.type={manager:1,common:2,black:-1,mute:-2}[e.identity],delete e.identity,isNaN(e.type)?r(e,"identity",'member::markChatroomIdentity. The valid value of the identity is "manager" or "common" or "black" or "mute".'):this.markChatroomMember(e)},c.markChatroomManager=function(e){e.type=1,this.markChatroomMember(e)},c.markChatroomCommonMember=function(e){e.type=2,this.markChatroomMember(e)},c.markChatroomBlacklist=function(e){e.type=-1,this.markChatroomMember(e)},c.markChatroomGaglist=function(e){e.type=-2,this.markChatroomMember(e)},c.markChatroomMember=function(e){r(e,"account type isAdd","member::markChatroomMember"),o("isAdd",e.isAdd,"boolean","member::markChatroomMember"),i(e.level)?e.level=0:o("level",e.level,"number","member::markChatroomMember"),this.processCustom(e),this.processCallback(e),this.sendCmd("markChatroomMember",e)},c.kickChatroomMember=function(e){r(e,"account","member::kickChatroomMember"),this.processCustom(e),this.processCallback(e),this.sendCmd("kickChatroomMember",e)},c.updateChatroomMemberTempMute=function(e){r(e,"account duration needNotify","member::updateChatroomMemberTempMute"),o("duration",e.duration,"number","member::updateChatroomMemberTempMute"),o("needNotify",e.needNotify,"boolean","member::updateChatroomMemberTempMute"),this.processCustom(e),this.processCallback(e),this.sendCmd("updateChatroomMemberTempMute",e)},c.getRobotList=function(e){i(e.timetag)&&(e.timetag=0),this.processCallback(e),this.sendCmd("syncRobot",e)}},function(e,t,n){"use strict";var s=n(0),i=s.undef,r=n(75).fn;r.beforeSendMsg=function(e){e.cmd="sendMsg"};var o={text:0,image:1,audio:2,video:3,geo:4,notification:5,file:6,tip:10,robot:11,custom:100};r.getHistoryMsgs=function(e){s.verifyOptions(e),i(e.timetag)?e.timetag=0:s.verifyParamType("timetag",e.timetag,"number","msg::getHistoryMsgs"),i(e.limit)?e.limit=100:s.verifyParamType("limit",e.limit,"number","msg::getHistoryMsgs"),i(e.reverse)?e.reverse=!1:s.verifyParamType("reverse",e.reverse,"boolean","msg::getHistoryMsgs"),i(e.msgTypes)?e.msgTypes=[]:Array.isArray(e.msgTypes)?(e.msgTypes=e.msgTypes.map((function(e){return o[e]})),e.msgTypes=e.msgTypes.filter((function(e){return"number"==typeof e}))):"number"==typeof o[e.msgTypes]?e.msgTypes=[o[e.msgTypes]]:e.msgTypes=[],this.processCallback(e),this.sendCmd("getHistoryMsgs",e,(function(t,n,s){Array.isArray(s)&&(s=s.map((function(e){return o[e.type]&&(e.type=o[e.type]),e}))),e.callback(t,n,s)}))}},function(e,t,n){"use strict";var s=n(32),i=n(0),r={welcome:"00",text:"01",link:"03"},o={"01":"text","02":"image","03":"answer",11:"template"};function a(e){i.verifyOptions(e,"content","msg::RobotMessage");var t=e.content;switch(t.type){case"welcome":i.undef(e.body)&&(this.body="欢迎消息");break;case"text":i.verifyOptions(t,"content","msg::RobotMessage"),i.undef(e.body)&&(this.body=t.content);break;case"link":i.verifyOptions(t,"target","msg::RobotMessage")}t.type&&(t.type=r[t.type]),t={param:t,robotAccid:e.robotAccid},this.attach=JSON.stringify(t),e.type="robot",s.call(this,e)}a.prototype=Object.create(s.prototype),a.reverse=function(e){var t=s.reverse(e);if("robot"===t.type){var n=JSON.parse(e.attach);if(n.param&&(n.param.type=o[n.param.type]||"unknown"),n.robotMsg){var r=(n=i.merge(n,n.robotMsg)).message;"bot"===n.flag?n.message=r.map((function(e){return e.type=o[e.type]||"unknown",e})):n.flag,delete n.robotMsg}t.content=n}return t},e.exports=a},function(e,t,n){"use strict";var s=n(32),i=n(0);function r(e){i.verifyOptions(e,"tip","msg::TipMessage"),e.type="tip",s.call(this,e),this.attach=e.tip}r.prototype=Object.create(s.prototype),r.reverse=function(e){var t=s.reverse(e);return t.tip=e.attach,t},e.exports=r},function(e,t,n){"use strict";var s=n(32),i=n(0);function r(e){i.verifyOptions(e,"content","msg::CustomMessage"),e.type="custom",s.call(this,e),"string"!=typeof e.content&&(e.content=JSON.stringify(e.content)),this.attach=e.content}r.prototype=Object.create(s.prototype),r.reverse=function(e){var t=s.reverse(e);return t.content=e.attach,t},e.exports=r},function(e,t,n){"use strict";var s=n(0).notundef,i=n(32),r={301:"memberEnter",302:"memberExit",303:"blackMember",304:"unblackMember",305:"gagMember",306:"ungagMember",307:"addManager",308:"removeManager",309:"addCommon",310:"removeCommon",311:"closeChatroom",312:"updateChatroom",313:"kickMember",314:"addTempMute",315:"removeTempMute",316:"updateMemberInfo",317:"updateQueue",318:"muteRoom",319:"unmuteRoom",320:"batchUpdateQueue"};function o(){}o.prototype=Object.create(i.prototype),o.reverse=function(e){var t=i.reverse(e);if(e.attach=e.attach?""+e.attach:"",e.attach){var n=JSON.parse(e.attach);if(t.attach={type:r[n.id]},s(n.data)){var o=n.data;if(s(o.operator)&&(t.attach.from=o.operator),s(o.opeNick)&&(t.attach.fromNick=o.opeNick),s(o.target)&&(t.attach.to=o.target),s(o.tarNick)&&(t.attach.toNick=o.tarNick),s(o.muteDuration)&&(t.attach.duration=parseInt(o.muteDuration,10)),"memberEnter"===t.attach.type&&(s(o.muted)?t.attach.gaged=1==+o.muted:t.attach.gaged=!1,s(o.tempMuted)?t.attach.tempMuted=1==+o.tempMuted:t.attach.tempMuted=!1,s(o.muteTtl)?t.attach.tempMuteDuration=+o.muteTtl:t.attach.tempMuteDuration=0),s(o.ext)&&(t.attach.custom=o.ext),s(o.queueChange)){var a=JSON.parse(o.queueChange);switch(a._e){case"OFFER":t.attach.queueChange={type:"OFFER",elementKey:a.key,elementValue:a.content};break;case"POLL":t.attach.queueChange={type:"POLL",elementKey:a.key,elementValue:a.content};break;case"DROP":t.attach.queueChange={type:"DROP"};break;case"PARTCLEAR":case"BATCH_UPDATE":t.attach.queueChange={type:a._e,elementKv:a.kvObject}}}}}else t.attach={};return t},e.exports=o},function(e,t,n){"use strict";var s=n(32),i=n(0);function r(e){e.type="geo",i.verifyOptions(e,"geo","msg::GeoMessage"),i.verifyOptions(e.geo,"lng lat title",!0,"geo.","msg::GeoMessage"),i.verifyParamType("geo.lng",e.geo.lng,"number","msg::GeoMessage"),i.verifyParamType("geo.lat",e.geo.lat,"number","msg::GeoMessage"),i.verifyParamType("geo.title",e.geo.title,"string","msg::GeoMessage"),s.call(this,e),this.attach=JSON.stringify(e.geo)}r.prototype=Object.create(s.prototype),r.reverse=function(e){var t=s.reverse(e);return e.attach=e.attach?""+e.attach:"",t.geo=e.attach?JSON.parse(e.attach):{},t},e.exports=r},function(e,t,n){"use strict";var s=n(74),i=n(0);function r(){}r.prototype=Object.create(s.prototype),r.verifyFile=function(e,t){i.verifyOptions(e,"dur w h",!0,"file.",t)},e.exports=r},function(e,t,n){"use strict";var s=n(74),i=n(0);function r(){}r.prototype=Object.create(s.prototype),r.verifyFile=function(e,t){i.verifyOptions(e,"dur",!0,"file.",t)},e.exports=r},function(e,t,n){"use strict";var s=n(0),i=n(74);function r(){}r.prototype=Object.create(i.prototype),r.verifyFile=function(e,t){s.verifyOptions(e,"w h",!0,"file.",t)},e.exports=r},function(e,t,n){"use strict";var s=n(32),i=n(0);function r(e){i.verifyOptions(e,"text","msg::TextMessage"),e.type="text",s.call(this,e),this.attach=e.text,this.body=""}r.prototype=Object.create(s.prototype),r.reverse=function(e){var t=s.reverse(e);return t.text=e.attach,t},e.exports=r},function(e,t,n){"use strict";var s=n(0),i=function(e){this.account=e.account},r=i.prototype,o=r.Message=n(32),a=r.TextMessage=n(204),c=r.FileMessage=n(74),u=r.GeoMessage=n(200),l=r.NotificationMessage=n(199),d=r.CustomMessage=n(198),f=r.TipMessage=n(197),m=r.RobotMessage=n(196);r.validTypes=o.validTypes,r.reverse=function(e){var t;switch(o.getType(e)){case"text":t=a.reverse(e);break;case"image":case"audio":case"video":case"file":t=c.reverse(e);break;case"geo":t=u.reverse(e);break;case"notification":t=l.reverse(e);break;case"custom":t=d.reverse(e);break;case"tip":t=f.reverse(e);break;case"robot":t=m.reverse(e);break;default:t=o.reverse(e)}return o.setExtra(t,this.account),t},r.reverseMsgs=function(e,t){var n,i,r=this;return e.map((function(e){return e=r.reverse(e),t&&((n=t.modifyObj)&&(e=s.merge(e,n)),i=t.mapper,s.isFunction(i)&&(e=i(e))),e}))},e.exports=i},function(e,t,n){"use strict";var s=n(58).fn,i=n(99);s.onChatroomMembersInfo=s.onChatroomMembers=function(e){e.error||(e.obj.members=i.reverseMembers(e.content.members))},s.onMarkChatroomMember=function(e){e.error||(e.obj.member=i.reverse(e.content.chatroomMember))},s.onSyncRobot=function(e){!e.error&&this.options.onrobots?this.options.onrobots(null,e.content):this.ontions.onrobots(e.error,{})}},function(e,t,n){"use strict";var s=n(58).fn,i=n(0);s.completeMsg=function(e){e.chatroomId=this.chatroom&&this.chatroom.id,e.from=this.options.account,e.fromClientType="Web",e.time||(e.time=+new Date)},s.onMsg=function(e){var t=this.message.reverse(e.content.msg);this.checkMsgUnique(t)&&(this.msgBuffer.push(t),this.msgFlushTimer||this.startMsgFlushTimer())},s.startMsgFlushTimer=function(){var e=this,t=e.options;e.msgFlushTimer=setTimeout((function(){var n=e.msgBuffer.splice(0,t.msgBufferSize);e.options.onmsgs(n),e.msgBuffer.length?e.startMsgFlushTimer():delete e.msgFlushTimer}),t.msgBufferInterval)},s.checkMsgUnique=i.genCheckUniqueFunc("idClient"),s.onSendMsg=function(e){var t=e.obj.msg;e.error?t.status="fail":(t=e.content.msg).status="success",t=this.message.reverse(t),e.obj=t},s.onHistoryMsgs=function(e){e.error||(e.obj||(e.obj={}),e.obj.msgs=this.message.reverseMsgs(e.content.msgs))}},function(e,t,n){"use strict";var s=n(58).fn,i=n(14),r=n(0);s.assembleLogin=function(){var e=this.options;this.sdkSession=this.genSessionKey();var t={appKey:e.appKey,account:e.account,deviceId:i.deviceId,chatroomId:e.chatroomId,session:this.sdkSession,appLogin:this.appLogin||0};return{type:1,login:t=r.merge(t,r.filterObj(e,"chatroomNick chatroomAvatar chatroomCustom chatroomEnterCustom isAnonymous")),imLogin:this.assembleIMLogin()}},s.afterLogin=function(e){var t=e.chatroom;this.chatroom=t,this.notifyLogin()},s.kickedReasons=["","chatroomClosed","managerKick","samePlatformKick","silentlyKick","blacked"],s.kickedMessages=["","聊天室关闭了","被房主或者管理员踢出","不允许同一个帐号在多个地方同时登录","悄悄被踢","被拉黑了"]},function(e,t,n){"use strict";var s=n(58).fn,i=n(1),r=n(21);s.refreshSocketUrl=function(){this.socketUrlsBackup=this.socketUrlsBackup||[],this.socketUrls=this.socketUrlsBackup.slice(0),this.logger.info("link::refreshSocketUrl"),this.connectToUrl(this.getNextSocketUrl()),this.getNosChunkUploadUrl()},s.getNosChunkUploadUrl=function(){if(!i.isWeixinApp&&null==i.chunkUploadUrl){var e=this,t=i.lbsUrl;e.logger.info("link::getNosChunkUploadUrl: ajax webconf "+t),r(t,{onload:function(e){e=JSON.parse(e),i.chunkUploadUrl=i.chunkUploadUrl||e["nos-chunk"]||""},onerror:function(t){e.logger.error("link::getNosChunkUploadUrl: ajax get webconf error",t)}})}}},function(e,t,n){"use strict";n(130);var s=n(75);n(100)(s),e.exports=s},function(e,t,n){"use strict";var s=n(0),i=s.notundef;function r(e){s.verifyOptions(e,"type","event::MsgEventSubscribe"),s.verifyParamType("type",e.type,"number","event::MsgEventSubscribe"),s.findObjIndexInArray([1,2,3],e.type)<0&&s.verifyParamMin("type",e.type,1e5,"event::MsgEventSubscribe"),this.type=e.type,i(e.subscribeTime)?(s.verifyParamType("subscribeTime",e.subscribeTime,"number","event::MsgEventSubscribe"),s.verifyParamMin("subscribeTime",e.subscribeTime,60,"event::MsgEventSubscribe"),s.verifyParamMax("subscribeTime",e.subscribeTime,2592e3,"event::MsgEventSubscribe"),this.subscribeTime=e.subscribeTime):this.subscribeTime=2592e3,i(e.sync)?(s.verifyParamType("sync",e.sync,"boolean","event::MsgEventSubscribe"),this.sync=e.sync):this.sync=!0}r.prototype.assembleEvent=function(e){return{type:this.type,subscribeTime:this.subscribeTime,sync:!0===this.sync?1:0}},e.exports=r},function(e,t,n){"use strict";var s=n(0),i=s.notundef,r=n(7);function o(e){if(s.verifyOptions(e,"type value","event::MsgEvent"),s.verifyParamType("type",e.type,"number","event::MsgEvent"),s.verifyParamType("value",e.value,"number","event::MsgEvent"),this.type=e.type,this.value=e.value,this.idClient=s.guid(),i(e.custom)&&(this.custom=""+e.custom),this.validTime=e.validTime||604800,s.verifyParamType("validTime",this.validTime,"number","event::MsgEvent"),s.verifyParamMin("validTime",this.validTime,60,"event::MsgEvent"),s.verifyParamMax("validTime",this.validTime,604800,"event::MsgEvent"),i(e.broadcastType)){if(s.verifyParamType("broadcastType",e.broadcastType,"number","event::MsgEvent"),[1,2].indexOf(e.broadcastType)<0)throw new r('参数错误"broadcastType":只能为1或2');this.broadcastType=e.broadcastType}else this.broadcastType=2;i(e.sync)?(s.verifyParamType("sync",e.sync,"boolean","event::MsgEvent"),this.sync=e.sync):this.sync=!1}o.prototype.assembleEvent=function(){return{type:this.type,value:this.value,idClient:this.idClient,custom:this.custom||"",validTime:this.validTime,broadcastType:this.broadcastType,sync:!0===this.sync?1:0}},e.exports=o},function(e,t,n){"use strict";var s,i=n(2),r=(s=i)&&s.__esModule?s:{default:s},o=n(8).fn,a=n(0),c=n(212),u=n(211);function l(e){return"object"===(void 0===e?"undefined":(0,r.default)(e))&&(e.msgEventSubscribes?e=e.msgEventSubscribes:e.msgEventSubscribe?e=e.msgEventSubscribe:e.accounts?e=e.accounts:e.msgEvent&&(e=e.msgEvent).time&&(e.time=+e.time),1===e.sync?e.sync=!0:0===e.sync&&(e.sync=!1)),e}o.batchSendEventsCmds=function(e,t,n){var s=this,i=a.dropArrayDuplicates(t.accounts);i=a.reshape2d(i,100);var r=[];i.forEach((function(n){r.push(new Promise((function(i,r){var o=a.simpleClone(t);o.accounts=n,s.sendCmdWithResp(e,o,(function(e,t){e?r(e):i(l(t))}))})))})),Promise.all(r).then((function(e){var t=null;if(e.length>0)if(e[0].msgEventSubscribe){var s=e[0].msgEventSubscribe;s=l(s);var i=[];e.forEach((function(e){i=i.concat(e.accounts)})),t={accounts:i,msgEventSubscribe:s}}else t=[],e.forEach((function(e){t=t.concat(e)}));n(null,t)}),(function(e){n(e,null)}))},o.publishEvent=function(e){var t=new c(e);t=t.assembleEvent(),this.processCallback(e),this.sendCmdWithResp("publishEvent",{msgEvent:t},(function(t,n){t||(n=l(n)),e.callback(t,n)}))},o.subscribeEvent=function(e){a.verifyOptions(e,"accounts","event::subscribeEvent");var t=new u(e);a.verifyParamType("accounts",e.accounts,"array","event::subscribeEvent"),this.processCallback(e),t=t.assembleEvent(),this.batchSendEventsCmds("subscribeEvent",{msgEventSubscribe:t,accounts:e.accounts},(function(t,n){!t&&n&&(n={failedAccounts:n}),e.callback(t,n)}))},o.unSubscribeEventsByAccounts=function(e){a.verifyOptions(e,"accounts","event::unSubscribeEventsByAccounts"),a.verifyParamType("accounts",e.accounts,"array","event::unSubscribeEventsByAccounts");var t=new u(e);t=t.assembleEvent(),this.processCallback(e),this.batchSendEventsCmds("unSubscribeEventsByAccounts",{msgEventSubscribe:t,accounts:e.accounts},(function(t,n){!t&&n&&(n={failedAccounts:n}),e.callback(t,n)}))},o.unSubscribeEventsByType=function(e){var t=new u(e);t=t.assembleEvent(),this.processCallback(e),this.sendCmdWithResp("unSubscribeEventsByType",{msgEventSubscribe:t},(function(t,n){e.callback(t)}))},o.querySubscribeEventsByAccounts=function(e){a.verifyOptions(e,"accounts","event::querySubscribeEventsByAccounts"),a.verifyParamType("accounts",e.accounts,"array","event::querySubscribeEventsByAccounts");var t=new u(e);t=t.assembleEvent(),this.processCallback(e),this.batchSendEventsCmds("querySubscribeEventsByAccounts",{msgEventSubscribe:t,accounts:e.accounts},(function(t,n){!t&&n&&(n={msgEventSubscribes:n}),e.callback(t,n)}))},o.querySubscribeEventsByType=function(e){var t=new u(e);t=t.assembleEvent(),this.processCallback(e),this.sendCmdWithResp("querySubscribeEventsByType",{msgEventSubscribe:t},(function(t,n){t||(n={msgEventSubscribes:l(n)}),e.callback(t,n)}))}},function(e,t,n){"use strict";var s=n(8).fn,i=n(105),r=n(0),o=r.undef;s.getPushNotificationMultiportConfig=function(){return this.protocol.getPushNotificationMultiportConfig()},s.updatePushNotificationMultiportConfig=function(e){r.verifyOptions(e),o(e.shouldPushNotificationWhenPCOnline)&&(e.shouldPushNotificationWhenPCOnline=!0),e.donnop=new i(e),this.processCallback(e),this.sendCmd("updateDonnop",e)}},function(e,t,n){"use strict";var s=n(8).fn;s.clearDB=function(e){var t=this.db;this.processCallback(e);var n=e.done;t.enable?t.clear().then(n,n):n()},s.removeDB=function(e){var t=this.db;this.processCallback(e);var n=e.done;t.enable?t.destroy().then(n,n):n()},s.closeDB=function(e){var t=this.db;this.processCallback(e);var n=e.done;t.enable?t.close().then(n,n):n()}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0);s.audioToText=function(e){i.verifyOptions(e,"url","audio::audioToText"),e.audioToText=i.filterObj(e,"url"),this.processCallback(e),this.sendCmd("audioToText",e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var s=n(8).fn,i=n(0),r=n(1);s.getChatroomAddress=function(e){i.verifyOptions(e,"chatroomId","chatroom::getChatroomAddress"),e.isWeixinApp=r.isWeixinApp,e.type=r.ipVersion,this.processCallback(e),this.sendCmd("getChatroomAddress",e)}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0),r=i.undef,o=i.notundef,a=n(60);s.markSysMsgRead=function(e){var t,n=this.db,s=Promise.resolve(),r=this.protocol;i.verifyOptions(e,"sysMsgs","sysmsg::markSysMsgRead");var o=e.sysMsgs;function a(){e.done(t,e)}i.isArray(o)||(o=[o]),n.enable?s=n.markSysMsgRead(o).then((function(e){o=e,r.onUpdateSysMsg(e)})):(o=o.filter((function(e){return!e.read}))).length&&(r.options.autoMarkRead||r.markSysMsgRead(o,!0),o.forEach((function(e){e.read=!0})),r.onUpdateSysMsg(o)),s.then((function(){return r.reduceSysMsgUnread(o)})).then(a,(function(e){t=e,a()}))},s.sendCustomSysMsg=function(e){i.verifyOptions(e,"scene to content","sysmsg::sendCustomSysMsg"),i.verifyParamValid("scene",e.scene,this.message.validScenes,"sysmsg::sendCustomSysMsg"),this.processCallback(e);var t="sendCustomSysMsg";return"p2p"===e.scene?e.type="customP2p":"superTeam"===e.scene?(e.type="customSuperTeam",t="sendSuperTeamCustomSysMsg"):e.type="customTeam",e.sysMsg=new a(e),e.filter&&(t="sendFilterCustomSysMsg"),this.sendCmd(t,{sysMsg:e.sysMsg,single:!0},e.callback),this.formatReturnSysMsg(e.sysMsg)},s.formatReturnSysMsg=function(e){return e=i.copy(e),this.protocol.completeSysMsg(e),e.status="sending",a.reverse(e)},s.getLocalSysMsgs=function(e){var t,n=this.db,s=[];function c(){e.sysMsgs=s,e.done(t,e)}i.verifyOptions(e),e.category&&i.verifyParamValid("category",e.category,a.validCategories,"sysmsg::getLocalSysMsgs"),e.type&&i.verifyParamValid("type",e.type,a.validTypes,"sysmsg::getLocalSysMsgs"),r(e.limit)&&(e.limit=100),i.verifyParamType("limit",e.limit,"number","sysmsg::getLocalSysMsgs"),i.verifyParamMax("limit",e.limit,100,"sysmsg::getLocalSysMsgs"),o(e.reverse)?i.verifyParamType("reverse",e.reverse,"boolean","sysmsg::getLocalSysMsgs"):e.reverse=!1,this.processCallback(e),n.enable?n.getSysMsgs(e).then((function(e){s=e,c()}),(function(e){t=e,c()})):c()},s.updateLocalSysMsg=function(e){var t,n=this.db,s=null;if(i.verifyOptions(e,"idServer","sysmsg::updateLocalSysMsg"),this.processCallback(e),n.enable){var r=i.filterObj(e,"idServer state localCustom");n.updateSysMsg(r).then((function(e){s=e,o()}),(function(e){t=e,o()}))}else o();function o(){e.sysMsg=s,e.done(t,e)}},s.deleteLocalSysMsg=function(e){var t,n=this.db;function s(){e.done(t,e)}i.verifyOptions(e,"idServer","sysmsg::deleteLocalSysMsg"),this.processCallback(e),n.enable?n.deleteSysMsg(e.idServer).then((function(){s()}),(function(e){t=e,s()})):s()},s.deleteAllLocalSysMsgs=function(e){var t,n=this,s=n.db;function i(){n.protocol.onUpdateSysMsgUnread({}),e.done(t,e)}n.processCallback(e),s.enable&&s.deleteAllSysMsgs().then((function(){i()}),(function(e){t=e,i()}))}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0),r=i.undef,o=i.notundef,a=n(14),c=n(59),u=n(60),l=n(7);s.beforeSendMsg=function(e){var t,n=this.protocol,s=e.msg;switch(s.to===this.account&&(s.fromDeviceId=a.deviceId),s.userUpdateTime=n.myInfo&&n.myInfo.updateTime,s.getScene()){case"p2p":t="sendMsg";break;case"team":t="sendTeamMsg";break;case"superTeam":t="sendSuperTeamMsg"}e.filter&&(t="sendFilterMsg",s.filter=!0),e.cmd=t},s.afterSendMsg=function(e){var t=e.rtnMsg;if(!t||!this.options.shouldIgnoreMsg(t)){var n=c.genSessionByMsg(t);this.protocol.onUpdateSession(n)}},s.beforeForwardMsg=function(e){i.verifyOptions(e,"msg scene to","msg::beforeForwardMsg"),e.msg.scene=e.scene,e.msg.to=e.to},s.markMsgRead=function(e){var t=this.protocol;!e||this.db.enable||t.options.autoMarkRead?this.logger.warn("api::markMsgRead: 不需要标记消息为已收到 (没有消息, 或者启用了数据库, 或者启用了自动标记已收到)"):t.markMsgRead(e,!0)},s.sendMsgReceipt=function(e){if(i.verifyOptions(e),this.processCallback(e),e.msg){i.verifyOptions(e,"msg","msg::sendMsgReceipt");var t=e.msg;i.verifyOptions(t,"target idClient time",!0,"msg.","msg::sendMsgReceipt"),this.protocol.shouldSendMsgReceipt(t)?this.sendCmd("sendMsgReceipt",{msgReceipt:{to:t.target,idClient:t.idClient,time:t.time}},e.callback):e.done()}else e.done()},s.isMsgRemoteRead=function(e){return this.protocol.isMsgRemoteRead(e)},s.deleteMsg=function(e){i.verifyOptions(e,"msg","msg::deleteMsg");var t=e.msg;if("team"!==t.scene&&"out"!==t.flow||"success"!==t.status||t.from===t.to||t.isLocal)return e.done(l.newParamError("只能删除自己发送给别人的, 并且发送成功的非本地消息",{callFunc:"msg::deleteMsg"}),e);i.verifyOptions(t,["scene","to","from","time","idClient","idServer"],!0,"msg.","msg::deleteMsg"),i.verifyParamValid("msg.scene",t.scene,this.message.validScenes,"msg::deleteMsg");var n=i.simpleClone(t),s="deleteMsg";this.processPs(n),this.processCallback(e),o(e.opeAccount)?n.opeAccount=e.opeAccount:r(n.opeAccount)&&(n.opeAccount=n.from),"p2p"===n.scene?n.type="deleteMsgP2p":"superTeam"===n.scene?(n.type="deleteMsgSuperTeam",s="deleteSuperTeamMsg"):n.type="deleteMsgTeam",n.deletedIdClient=n.idClient,n.deletedIdServer=n.idServer,n=new u(n),this.sendCmd(s,{sysMsg:n,msg:t},e.callback)};var d={text:0,image:1,audio:2,video:3,geo:4,notification:5,file:6,tip:10,robot:11,custom:100};s.getHistoryMsgs=function(e){var t;switch(i.verifyOptions(e,"scene to","msg::getHistoryMsgs"),i.verifyParamValid("scene",e.scene,this.message.validScenes,"msg::getHistoryMsgs"),void 0===e.beginTime&&(e.beginTime=0),i.verifyParamType("beginTime",e.beginTime,"number","msg::getHistoryMsgs"),void 0===e.endTime&&(e.endTime=0),i.verifyParamType("endTime",e.endTime,"number","msg::getHistoryMsgs"),void 0!==e.lastMsgId&&null!==e.lastMsgId||(e.lastMsgId="0"),void 0===e.limit&&(e.limit=100),i.verifyParamType("limit",e.limit,"number","msg::getHistoryMsgs"),i.verifyParamMax("limit",e.limit,100,"msg::getHistoryMsgs"),o(e.reverse)?i.verifyParamType("reverse",e.reverse,"boolean","msg::getHistoryMsgs"):e.reverse=!1,o(e.asc)?i.verifyParamType("asc",e.asc,"boolean","msg::getHistoryMsgs"):e.asc=!1,r(e.msgTypes)?e.msgTypes=[]:Array.isArray(e.msgTypes)?(e.msgTypes=e.msgTypes.map((function(e){return d[e]})),e.msgTypes=e.msgTypes.filter((function(e){return"number"==typeof e}))):"number"==typeof d[e.msgTypes]?e.msgTypes=[d[e.msgTypes]]:e.msgTypes=[],this.processCallback(e),e.asc&&(e.cbaop=function(e,t){e||(t.msgs=t.msgs.reverse())}),e.scene){case"p2p":t="getHistoryMsgs";break;case"team":t="getTeamHistoryMsgs";break;case"superTeam":t="getSuperTeamHistoryMsgs"}var n={scene:e.scene,to:e.to,beginTime:e.beginTime,endTime:e.endTime,lastMsgId:e.lastMsgId,limit:e.limit,reverse:e.reverse,msgTypes:e.msgTypes};this.sendCmd(t,n,e.callback)},s.searchHistoryMsgs=function(e){var t;switch(i.verifyOptions(e,"scene to keyword","msg::searchHistoryMsgs"),i.verifyParamValid("scene",e.scene,this.message.validScenes,"msg::searchHistoryMsgs"),void 0===e.beginTime&&(e.beginTime=0),i.verifyParamType("beginTime",e.beginTime,"number","msg::searchHistoryMsgs"),void 0===e.endTime&&(e.endTime=0),i.verifyParamType("endTime",e.endTime,"number","msg::searchHistoryMsgs"),void 0===e.limit&&(e.limit=100),i.verifyParamType("limit",e.limit,"number","msg::searchHistoryMsgs"),i.verifyParamMax("limit",e.limit,100,"msg::searchHistoryMsgs"),o(e.reverse)?i.verifyParamType("reverse",e.reverse,"boolean","msg::searchHistoryMsgs"):e.reverse=!1,o(e.asc)?i.verifyParamType("asc",e.asc,"boolean","msg::searchHistoryMsgs"):e.asc=!1,this.processCallback(e),e.asc&&(e.cbaop=function(e,t){e||(t.msgs=t.msgs.reverse())}),e.scene){case"p2p":t="searchHistoryMsgs";break;case"team":t="searchTeamHistoryMsgs"}var n=i.filterObj(e,"scene to beginTime endTime keyword limit reverse");this.sendCmd(t,n,e.callback)},s.getLocalMsgs=function(e){var t=this.db,n=null,s=[];i.verifyOptions(e);var a=!1;o(e.start)&&(a=!0,i.verifyParamType("start",e.start,"number","msg::getLocalMsgs"));var c=!1;function u(){var t=i.simpleClone(e);t.msgs=s,delete t.callback,delete t.done,e.done(n,t)}o(e.end)&&(c=!0,i.verifyParamType("end",e.end,"number","msg::getLocalMsgs")),a&&c&&e.end<=e.start&&i.onParamError("参数 end 必须晚于 start"),r(e.limit)&&(e.limit=100),i.verifyParamType("limit",e.limit,"number","msg::getLocalMsgs"),i.verifyParamMin("limit",e.limit,1,"msg::getLocalMsgs"),this.processCallback(e),t.enable?t.getMsgs(e).then((function(e){s=e,u()}),(function(e){(e=e||{}).message=e.message||"msg::getLocalMsgs:db error",u()})):u()},s.getLocalMsgByIdClient=function(e){var t=this.db,n=null,s=null;function r(){e.msg=s,e.done(n,e)}i.verifyOptions(e,"idClient","msg::getLocalMsgByIdClient"),this.processCallback(e),t.enable?t.getMsgByIdClient(e.idClient).then((function(e){e&&(s=e),r()}),(function(e){n=e,r()})):r()},s.getLocalMsgsByIdClients=function(e){var t,n=this.db,s=[];function r(){e.msgs=s,e.done(t,e)}i.verifyOptions(e,"idClients","msg::getLocalMsgByIdClient"),i.verifyParamType("idClients",e.idClients,"array","msg::getLocalMsgByIdClient"),this.processCallback(e),n.enable?n.getMsgsByIdClients(e.idClients).then((function(e){s=e.filter((function(e){return!!e})),r()}),(function(e){t=e,r()})):r()},s.updateLocalMsg=function(e){var t,n=this.db,s=null;if(i.verifyOptions(e,"idClient","msg::updateLocalMsg"),this.processCallback(e),n.enable){var r=i.filterObj(e,"idClient localCustom");n.updateMsg(r).then((function(e){s=e,o()}),(function(e){t=e,o()}))}else o();function o(){e.msg=s,e.done(t,e)}},s.deleteLocalMsg=function(e){var t;i.verifyOptions(e,"msg","msg::deleteLocalMsg");var n=e.msg;function s(){e.done(t,e)}i.verifyOptions(n,"idClient sessionId",!0,"msg.","msg::deleteLocalMsg"),this.processCallback(e),this.protocol.deleteLocalMsg(n).then(s,(function(e){t=e,s()}))},s.deleteLocalMsgsBySession=function(e){var t,n=this,s=n.db;function r(e){t=e,o()}function o(){e.done(t,e)}i.verifyOptions(e,"scene to","msg::deleteLocalMsgsBySession"),i.verifyParamValid("scene",e.scene,n.message.validScenes,"msg::deleteLocalMsgsBySession"),e.sessionId=e.scene+"-"+e.to,e.delLastMsg=!0===e.delLastMsg,n.processCallback(e),s.enable?s.deleteMsgsBySessionId(e).then((function(){e.delLastMsg?s.updateSession({id:e.sessionId,lastMsg:null}).then((function(t){n.protocol.onUpdateSession(t),e.session=t,o()}),r):o()}),r):(e.delLastMsg&&n.protocol.onUpdateSession({id:e.sessionId,lastMsg:null}),o())},s.deleteLocalMsgs=function(e){var t,n=this,s=n.db,r=!1!==e.updateSession;function a(){e.done(t,e)}i.verifyOptions(e,"sessionId","msg::deleteLocalMsgsBySession"),o(e.start)&&i.verifyParamType("start",e.start,"number","msg::deleteLocalMsgs"),o(e.end)&&i.verifyParamType("end",e.end,"number","msg::deleteLocalMsgs"),o(e.end)&&o(e.start)&&e.end<=e.start&&i.onParamError("参数 end 必须大于 start"),n.processCallback(e),s.enable?s.deleteMsgsBySessionId(e).then((function(){a(),r&&n.protocol.checkAndUpdateLocalSessionByMsg(e.sessionId)}),(function(e){t=e,a()})):a()},s.deleteAllLocalMsgs=function(e){var t,n=this.db;function s(){e.done(t,e)}this.processCallback(e),n.enable&&n.deleteAllMsgs().then((function(){s()}),(function(e){t=e,s()}))},s.saveMsgsToLocal=function(e){this.db.enable||e.done(null,[]),i.verifyOptions(e,"msgs done","msg::saveMsgsToLocal"),i.verifyParamType("msgs",e.msgs,"Array","msg::saveMsgsToLocal"),this.db.putMsg(e.msgs).then((function(t,n){n?e.done(n):e.done(null,t)}))},s.clearServerHistoryMsgs=function(e){i.verifyOptions(e,"account","msg::clearServerHistoryMsgs");var t=!(!1===e.delRoam);this.processCallback(e),this.sendCmd("clearServerHistoryMsgs",{clearMsgsParams:{account:e.account,delRoam:t?1:0}},e.callback)}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0),r=i.undef,o=i.notundef,a=n(82);s.setCurrSession=function(e){this.resetSessionUnread(e),this.protocol.setCurrSession(e)},s.resetAllSessionUnread=function(){for(var e in this.protocol.sessionSet)this.protocol.sessionSet[e].unread>0&&this.resetSessionUnread(e)},s.resetSessionUnread=function(e){if(this.protocol.resetSessionUnread(e),this.options.syncSessionUnread){var t=this.protocol.findSession(e);if(t)if(t.lastMsg)if(t.scene&&t.to){var n=t.lastMsg.time;if(t&&t.ack&&t.ack>=n)this.logger.warn("api::resetSessionUnread: session ack not needs "+e);else if("superTeam"===t.scene)this.sendCmd("markSuperTeamSessionAck",{to:t.to,timetag:n});else{var s={scene:"p2p"===t.scene?0:1,to:t.to,timetag:n};this.sendCmd("markSessionAck",s)}}else this.logger.warn("api::resetSessionUnread: session.scene|to undefined "+e);else this.logger.warn("api::resetSessionUnread: session.lastMsg undefined "+e);else this.logger.warn("api::resetSessionUnread: session undefined "+e)}},s.resetCurrSession=function(){this.protocol.setCurrSession("")},s.insertLocalSession=function(e){var t,n;function s(){e.session=n,e.done(t,e)}i.verifyOptions(e,"scene to","scene::insertLocalSession"),i.verifyParamValid("scene",e.scene,this.message.validScenes,"scene::insertLocalSession"),this.processCallback(e),this.protocol.insertLocalSession(e).then((function(e){n=e,s()}),(function(e){t=e,s()}))},s.getLocalSessions=function(e){var t,n=this,s=n.db,a=[];function c(){e.sessions=a,e.done(t,e)}i.verifyOptions(e),r(e.limit)&&(e.limit=100),i.verifyParamType("limit",e.limit,"number","scene::getLocalSessions"),i.verifyParamMax("limit",e.limit,100,"scene::getLocalSessions"),o(e.reverse)?i.verifyParamType("reverse",e.reverse,"boolean","scene::getLocalSessions"):e.reverse=!1,n.processCallback(e),s.enable?s.getSessions(e).then((function(e){a=e,n.protocol.mergeSessions(a),c()}),(function(e){t=e,c()})):c()},s.getLocalSession=function(e){var t,n=this.db,s=null;if(i.verifyOptions(e,"sessionId","scene::getLocalSession"),i.verifyParamType("sessionId",e.sessionId,"string","scene::getLocalSession"),n.enable)return this.processCallback(e),void n.getSession(e.sessionId).then((function(e){e&&(s=e),r()}),(function(e){t=e,r()}));function r(){e.done(t,s)}this.protocol.sessionSet&&this.protocol.sessionSet[e.sessionId]&&(s=this.protocol.sessionSet[e.sessionId]),r()},s.getLocalSessionsByMsgType=function(e){var t=this.db,n=e.exclude,s=[],r=a.validTypes.slice(0);if(o(n)){if("string"==typeof n)n=[n];else if(!Array.isArray(n))return void i.onParamInvalidType("exclude",["string","string array"],"","exclude::getLocalSessionsByMsgType");n=n.filter((function(e){return r.indexOf(e)>-1})),r=r.filter((function(e){return-1===n.indexOf(e)}))}this.processCallback(e),r&&0!==r.length&&t.enable?t.getSessions().then((function(i){n&&0!==n.length?(i.map((function(e,o){var a,c,u;e.lastMsg&&n.indexOf(e.lastMsg.type)>-1&&(a=o,c=e.id,u=t.getMsgs({sessionId:c,limit:1,types:r}).then((function(e){return e&&e[0]?i[a].lastMsg=e[0]:i[a].lastMsg=null,Promise.resolve()})),s.push(u))})),Promise.all(s).then((function(t){var s=i.filter((function(e){return e.lastMsg}));e.done(null,{exclude:n,sessions:s})}))):e.done(null,{exclude:n,sessions:i})})):e.done(null,{exclude:n,sessions:[]})},s.updateLocalSession=function(e){var t,n=this,s=n.db;i.verifyOptions(e,"id","scene::updateLocalSession"),n.processCallback(e);var r=i.filterObj(e,"id localCustom");function o(){n.protocol.onUpdateSession(r),e.session=r,e.done(t,e)}s.enable?s.updateSession(r).then((function(e){r=e,o()}),(function(e){t=e,o()})):o()},s.deleteLocalSession=function(e){var t,n=this,s=n.db;function r(){e.done(t,e)}i.verifyOptions(e,"id","session::deleteLocalSession"),n.processCallback(e),s.enable?s.deleteSession(e.id).then((function(){n.protocol.deleteLocalSession(e.id),r()}),(function(e){t=e,r()})):r()},s.deleteSession=function(e){i.verifyOptions(e,"scene to","session::deleteSession"),this.processCallback(e),e.sessions=[{scene:e.scene,to:e.to}],this.deleteSessions(e)},s.deleteSessions=function(e){i.verifyOptions(e,"sessions","session::deleteSessions"),i.verifyParamType("sessions",e.sessions,"array","session::deleteSessions"),e.sessions.forEach((function(e,t){i.verifyOptions(e,"scene to",!0,"sessions["+t+"].","session::deleteSessions")})),this.processCallback(e),this.sendCmd("deleteSessions",{sessions:e.sessions.map((function(e){return e.scene+"|"+e.to}))},e.callback)},s.getServerSessions=function(e){o(e.minTimestamp)&&i.verifyParamType("minTimestamp",e.minTimestamp,"number","session::deleteSessions"),o(e.maxTimestamp)&&i.verifyParamType("maxTimestamp",e.maxTimestamp,"number","session::deleteSessions"),o(e.needLastMsg)&&(e.needLastMsg=!1===e.needLastMsg?0:1),o(e.limit)&&(i.verifyParamType("limit",e.limit,"number","session::deleteSessions"),i.verifyParamMax("limit",e.limit,100,"scene::getLocalSessions")),this.processCallback(e),this.sendCmd("getServerSessions",{sessionReqTag:e},e.callback)},s.getServerSession=function(e){i.verifyOptions(e,"scene to","scene::getServerSession"),i.verifyParamValid("scene",e.scene,this.message.validScenes,"scene::getServerSession"),i.verifyParamType("to",e.to,"string","to::getServerSession");var t=e.scene+"|"+e.to;"superTeam"===e.scene&&(t="super_team|"+e.to),this.processCallback(e),this.sendCmd("getServerSession",{session:{id:t}},e.callback)},s.updateServerSession=function(e){i.verifyOptions(e,"scene to","scene::updateServerSession"),i.verifyParamValid("scene",e.scene,this.message.validScenes,"scene::updateServerSession"),i.verifyParamType("to",e.to,"string","to::updateServerSession"),o(e.extra)&&i.verifyParamType("extra",e.extra,"string","extra::updateServerSession");var t=e.scene+"|"+e.to;"superTeam"===e.scene&&(t="super_team|"+e.to),this.processCallback(e),this.sendCmd("updateServerSession",{session:{id:t,ext:e.extra||""}},e.callback)},s.deleteServerSessions=function(e){var t=this;i.verifyOptions(e,"sessions","scene::deleteServerSessions"),i.verifyParamType("sessions",e.sessions,"array","sessions::deleteServerSessions");var n=[];e.sessions.forEach((function(e){i.verifyParamValid("scene",e.scene,t.message.validScenes,"scene::deleteServerSessions"),i.verifyParamType("to",e.to,"string","to::deleteServerSessions");var s=e.scene+"|"+e.to;"superTeam"===e.scene&&(s="super_team|"+e.to),n.push({id:s})})),this.processCallback(e),this.sendCmd("deleteServerSessions",{sessions:n},e.callback)}},function(e,t,n){"use strict";var s,i=n(149),r=(s=i)&&s.__esModule?s:{default:s},o=n(8).fn,a=n(0),c=a.undef,u=n(107),l=n(78);o.addSuperTeamMembers=function(e){a.verifyOptions(e,"teamId accounts","superTeam::addSuperTeamMembers"),a.verifyParamType("accounts",e.accounts,"array","superTeam::addSuperTeamMembers");var t=a.deduplicate(e.accounts);this.processPs(e),this.processCallback(e);var n={teamId:e.teamId,accounts:t,ps:e.ps};this.sendCmd("addSuperTeamMembers",n,e.callback)},o.removeSuperTeamMembers=function(e){a.verifyOptions(e,"teamId accounts","team::removeSuperTeamMembers"),a.verifyParamType("accounts",e.accounts,"array","team::removeSuperTeamMembers");var t=a.deduplicate(e.accounts);this.processCallback(e);var n={teamId:e.teamId,accounts:t};this.sendCmd("removeSuperTeamMembers",n,e.callback)},o.leaveSuperTeam=function(e){a.verifyOptions(e,"teamId","superTeam::leaveSuperTeam"),this.processCallback(e);var t={teamId:e.teamId};this.sendCmd("leaveSuperTeam",t,e.callback)},o.getSuperTeam=function(e){var t,n=this,s=n.db;function i(){n.sendCmd("getSuperTeam",{teamId:e.teamId},e.callback)}a.verifyOptions(e,"teamId","team::getSuperTeam"),n.processCallback(e),e.cbaop=function(e,s){e||n.logger.log("api::getSuperTeam: cbaop "+t,s)},t=e.teamId,s.enable&&!e.sync?s.getSuperTeam(t).then((function(s){s?(n.logger.log("api::getSuperTeam: db.getSuperTeam "+t,s),e.done(null,s)):i()}),i):i()},o.getSuperTeams=function(e){var t=this,n=t.db,s=0;function i(){t.sendCmd("getSuperTeams",{timetag:s,NOTSTORE:"timetag"},e.callback)}a.verifyOptions(e),t.processCallback(e),n.enable?n.getSuperTeamsTimetag().then((function(e){s=e,i()}),i):i()},o.updateSuperTeam=function(e){a.verifyOptions(e,"teamId","superTeam::updateSuperTeam"),e.action="update",this.processCallback(e),e.team=new u(e),this.sendCmd("updateSuperTeam",{team:e.team,single:!0},e.callback)},o.updateInfoInSuperTeam=function(e){a.verifyOptions(e,"teamId","superTeam::updateInfoInSuperTeam"),this.processCallback(e),this.sendCmd("updateInfoInSuperTeam",{superTeamMember:new l(e),single:!0},e.callback)},o.getSuperTeamMembersByJoinTime=function(e){var t=this,n=(t.db,e.joinTime),s=e.reverse,i=e.limit,r=e.teamId;s=!!s,c(n)&&(n=0),c(i)&&(i=100),a.verifyOptions(e,"teamId","superTeam::getSuperTeamMembersByJoinTime"),a.verifyParamType("joinTime",n,"number","api::superTeam::getSuperTeamMembersByJoinTime"),a.verifyParamType("limit",i,"number","api::superTeam::getSuperTeamMembersByJoinTime"),t.processCallback(e),t.sendCmd("getSuperTeamMembersByJoinTime",{teamId:r,limit:i,joinTime:n,reverse:s,timetag:0,NOTSTORE:"timetag"},e.callback)},o.getAllSuperTeamMembers=function(e){var t=this,n=this.db;function s(n){n=n||0,t.sendCmd("getSuperTeamMembers",{teamId:e.teamId,timetag:n,NOTSTORE:"timetag"},e.callback)}a.verifyOptions(e,"teamId","superTeam::getAllSuperTeamMembers"),t.processCallback(e),function(e){var t=this.db;if(!t.enable)return Promise.resolve(!1);var n=t.getSuperTeam(e),s=t.getSuperTeamMembersTimetag(e);return Promise.all([n,s]).then((function(e){var t=(0,r.default)(e,2),n=t[0],s=t[1],i=n&&n.memberUpdateTime,o={timetag:s=s||0};return i&&s>=i&&(o.valid=!0),Promise.resolve(o)}),(function(){return Promise.resolve({timetag:0})}))}.bind(this)(e.teamId).then((function(i){var r=i.valid,o=i.timetag;r?(t.logger.info("getAllSuperTeamMembers from local db"),n.getSuperTeamMembers(e.teamId).then((function(t){var n={teamId:e.teamId,members:t};e.done(null,n)}),(function(){return s()}))):s(o)}))},o.applySuperTeam=function(e){a.verifyOptions(e,"teamId","team::applySuperTeam"),a.verifyOptions(e,"teamId","team::applySuperTeam"),this.processPs(e),this.processCallback(e);var t={teamId:e.teamId,ps:e.ps};this.sendCmd("applySuperTeam",t,e.callback)},o.passSuperTeamApply=function(e){a.verifyOptions(e,"idServer teamId from","team::passSuperTeamApply"),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from};this.sendCmd("passSuperTeamApply",t,e.callback)},o.rejectSuperTeamApply=function(e){a.verifyOptions(e,"idServer teamId from","team::rejectSuperTeamApply"),this.processPs(e),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from,ps:e.ps};this.sendCmd("rejectSuperTeamApply",t,e.callback)},o.acceptSuperTeamInvite=function(e){a.verifyOptions(e,"idServer teamId from","team::acceptSuperTeamInvite"),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from};this.sendCmd("acceptSuperTeamInvite",t,e.callback)},o.rejectSuperTeamInvite=function(e){a.verifyOptions(e,"idServer teamId from","team::rejectSuperTeamInvite"),this.processPs(e),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from,ps:e.ps};this.sendCmd("rejectSuperTeamInvite",t,e.callback)},o.addSuperTeamManagers=function(e){a.verifyOptions(e,"teamId accounts","team::addSuperTeamManagers"),a.verifyParamType("accounts",e.accounts,"array","team::addSuperTeamManagers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("addSuperTeamManagers",t,e.callback)},o.removeSuperTeamManagers=function(e){a.verifyOptions(e,"teamId accounts","team::removeSuperTeamManagers"),a.verifyParamType("accounts",e.accounts,"array","team::removeSuperTeamManagers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("removeSuperTeamManagers",t,e.callback)},o.updateSuperTeamMembersMute=function(e){a.verifyOptions(e,"teamId accounts mute","team::updateSuperTeamMembersMute"),a.verifyParamType("accounts",e.accounts,"array","team::updateSuperTeamMembersMute"),a.verifyArrayMax("accounts",e.accounts,10),this.processCallback(e),e.mute=e.mute?1:0,this.sendCmd("updateSuperTeamMembersMute",e)},o.updateSuperTeamMute=function(e){a.verifyOptions(e,"teamId mute","team::updateSuperTeamMute"),e.mute=e.mute?1:0,this.processCallback(e),this.sendCmd("updateSuperTeamMute",e)},o.updateNickInSuperTeam=function(e){a.verifyOptions(e,"teamId account","team::updateNickInSuperTeam"),this.processCallback(e),this.sendCmd("updateNickInSuperTeam",{superTeamMember:new l(e),single:!0},e.callback)},o.transferSuperTeam=function(e){a.verifyOptions(e,"teamId account leave","team::transferSuperTeam"),a.verifyParamType("leave",e.leave,"boolean","team::transferSuperTeam"),this.processCallback(e);var t={teamId:e.teamId,account:e.account,leave:e.leave};this.sendCmd("transferSuperTeam",t,e.callback)}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0),r=i.undef,o=n(62),a=n(52);s.createTeam=function(e){i.verifyOptions(e,"type name","team::createTeam"),r(e.accounts)?e.accounts=[]:i.verifyParamType("accounts",e.accounts,"array","team::createTeam"),e.action="create",this.processPs(e),this.processCallback(e),e.team=new o(e);var t={team:e.team,accounts:e.accounts.slice(0),ps:e.ps};this.sendCmd("createTeam",t,e.callback)},s.updateTeam=function(e){i.verifyOptions(e,"teamId","team::updateTeam"),e.action="update",this.processCallback(e),e.team=new o(e),this.sendCmd("updateTeam",{team:e.team,single:!0},e.callback)},s.addTeamMembers=function(e){i.verifyOptions(e,"teamId accounts","team::addTeamMembers"),i.verifyParamType("accounts",e.accounts,"array","team::addTeamMembers"),this.processPs(e),i.notexist(e.custom)&&(e.custom=""),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0),ps:e.ps,attach:e.custom};this.sendCmd("addTeamMembers",t,e.callback)},s.removeTeamMembers=function(e){i.verifyOptions(e,"teamId accounts","team::removeTeamMembers"),i.verifyParamType("accounts",e.accounts,"array","team::removeTeamMembers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("removeTeamMembers",t,e.callback)},s.acceptTeamInvite=function(e){i.verifyOptions(e,"idServer teamId from","team::acceptTeamInvite"),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from};this.sendCmd("acceptTeamInvite",t,e.callback)},s.rejectTeamInvite=function(e){i.verifyOptions(e,"idServer teamId from","team::rejectTeamInvite"),this.processPs(e),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from,ps:e.ps};this.sendCmd("rejectTeamInvite",t,e.callback)},s.applyTeam=function(e){i.verifyOptions(e,"teamId","team::applyTeam"),this.processPs(e),this.processCallback(e);var t={teamId:e.teamId,ps:e.ps};this.sendCmd("applyTeam",t,e.callback)},s.passTeamApply=function(e){i.verifyOptions(e,"idServer teamId from","team::passTeamApply"),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from};this.sendCmd("passTeamApply",t,e.callback)},s.rejectTeamApply=function(e){i.verifyOptions(e,"idServer teamId from","team::rejectTeamApply"),this.processPs(e),this.processCallback(e);var t={idServer:e.idServer,teamId:e.teamId,from:e.from,ps:e.ps};this.sendCmd("rejectTeamApply",t,e.callback)},s.addTeamManagers=function(e){i.verifyOptions(e,"teamId accounts","team::addTeamManagers"),i.verifyParamType("accounts",e.accounts,"array","team::addTeamManagers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("addTeamManagers",t,e.callback)},s.removeTeamManagers=function(e){i.verifyOptions(e,"teamId accounts","team::removeTeamManagers"),i.verifyParamType("accounts",e.accounts,"array","team::removeTeamManagers"),this.processCallback(e);var t={teamId:e.teamId,accounts:e.accounts.slice(0)};this.sendCmd("removeTeamManagers",t,e.callback)},s.updateInfoInTeam=function(e){i.verifyOptions(e,"teamId","team::updateInfoInTeam"),this.processCallback(e),this.sendCmd("updateInfoInTeam",{teamMember:new a(e),single:!0},e.callback)},s.updateNickInTeam=function(e){i.verifyOptions(e,"teamId account","team::updateNickInTeam"),this.processCallback(e),this.sendCmd("updateNickInTeam",{teamMember:new a(e),single:!0},e.callback)},s.updateMuteStateInTeam=function(e){i.verifyOptions(e,"teamId account mute","team::updateMuteStateInTeam"),this.processCallback(e),e.mute=e.mute?1:0,this.sendCmd("updateMuteStateInTeam",e)},s.getMutedTeamMembers=function(e){i.verifyOptions(e,"teamId","team::getMutedTeamMembers"),this.processCallback(e),this.sendCmd("getMutedTeamMembers",e)},s.leaveTeam=function(e){i.verifyOptions(e,"teamId","team::leaveTeam"),this.processCallback(e);var t={teamId:e.teamId};this.sendCmd("leaveTeam",t,e.callback)},s.transferTeam=function(e){i.verifyOptions(e,"teamId account leave","team::transferTeam"),i.verifyParamType("leave",e.leave,"boolean","team::transferTeam"),this.processCallback(e);var t={teamId:e.teamId,account:e.account,leave:e.leave};this.sendCmd("transferTeam",t,e.callback)},s.dismissTeam=function(e){i.verifyOptions(e,"teamId","team::dismissTeam"),this.processCallback(e);var t={teamId:e.teamId};this.sendCmd("dismissTeam",t,e.callback)},s.getTeam=function(e){var t,n=this,s=n.db;function r(){n.sendCmd("getTeam",{teamId:e.teamId},e.callback)}i.verifyOptions(e,"teamId","team::getTeam"),n.processCallback(e),e.cbaop=function(e,s){e||n.logger.log("api::getTeam: cbaop "+t,s)},t=e.teamId,s.enable&&!e.sync?s.getTeam(t).then((function(s){s&&s.validToCurrentUser?(n.logger.log("api::getTeam: db.getTeam "+t,s),e.done(null,s)):r()}),r):r()},s.getTeams=function(e){var t=this,n=t.db,s=0;function r(){t.sendCmd("getTeams",{timetag:s,NOTSTORE:"timetag"},e.callback)}i.verifyOptions(e),t.processCallback(e),n.enable?n.getTeamsTimetag().then((function(e){s=e,r()}),r):r()},s.getTeamMembers=function(e){var t=this,n=0;i.verifyOptions(e,"teamId","team::getTeamMembers"),t.processCallback(e),t.sendCmd("getTeamMembers",{teamId:e.teamId,timetag:n,NOTSTORE:"timetag"},e.callback)},s.getTeamMemberByTeamIdAndAccount=function(e){var t=this,n=0;i.verifyParamType("teamId",e.teamId,"numeric or numeric string","team::getTeamMemberByTeamIdAndAccount"),i.verifyOptions(e,"account","team::getTeamMemberByTeamIdAndAccount"),t.processCallback(e),t.sendCmd("getTeamMembers",{teamId:e.teamId,timetag:n,NOTSTORE:"timetag"},(function(t,n,s){var i={};if(n&&n.members&&n.members.length)for(var r=0;r<n.members.length;r++)if(n.members[r].account===e.account){i[e.account]=n.members[r];break}e.callback(t,i,s)}))},s.getTeamMemberInvitorAccid=function(e){i.verifyParamType("teamId",e.teamId,"numeric or numeric string","team::getTeamMemberInvitorAccid"),r(e.accounts)||(i.verifyParamType("accounts",e.accounts,"array","team::getTeamMemberInvitorAccid"),e.accounts.length>200&&i.onParamError("accounts 参数数组长度不能超过200","team::getTeamMemberInvitorAccid"));var t={teamId:e.teamId};e.accounts.length&&(t.accounts=e.accounts.slice(0)),this.processCallback(e),this.sendCmd("getTeamMemberInvitorAccid",t,(function(t,n,s){e.callback(t,s&&s.accountsMap||{})}))},s.notifyForNewTeamMsg=function(e){i.verifyOptions(e,"teamIds","team::notifyForNewTeamMsg"),this.protocol.notifyForNewTeamMsg(e.teamIds).then((function(t){e.done(t.error||null,t.map,t.miss)}),(function(t){e.done(t)}))},s.getMyTeamMembers=function(e){i.verifyOptions(e,"teamIds","team::getMyTeamMembers");var t=this.processCallbackPromise(e);return this.sendCmd("getMyTeamMembers",e),t},s.getLocalTeams=function(e){var t,n=this.db,s=[];function r(){e.teams=s,e.done(t,e)}i.verifyOptions(e,"teamIds","team::getLocalTeams"),i.verifyParamType("teamIds",e.teamIds,"array","team::getLocalTeams"),this.processCallback(e),n.enable?n.getTeamsByTeamIds(e.teamIds).then((function(e){s=e.filter((function(e){return!!e})),r()}),(function(e){t=e,r()})):r()},s.getLocalTeamMembers=function(e){var t,n=this.db,s=[];function r(){e.members=s,e.done(t,e)}i.verifyOptions(e,"teamId accounts","team::getLocalTeamMembers"),i.verifyParamType("accounts",e.accounts,"array","team::getLocalTeamMembers"),this.processCallback(e),n.enable?n.getInvalidTeamMembers(e.teamId,e.accounts).then((function(e){s=e.filter((function(e){return!!e})),r()}),(function(e){t=e,r()})):r()},s.deleteLocalTeam=function(e){var t,n=this.db;function s(){e.done(t,e)}i.verifyOptions(e,"teamId","team::deleteLocalTeam"),this.processCallback(e),n.enable?n.deleteTeam(e.teamId).then((function(){s()}),(function(e){t=e,s()})):s()},s.muteTeamAll=function(e){i.verifyOptions(e,"teamId mute","team::muteTeamAll"),e.mute=e.mute?1:0,this.processCallback(e),this.sendCmd("muteTeamAll",e)},s.sendTeamMsgReceipt=function(e){i.verifyOptions(e,"teamMsgReceipts","team::sendTeamMsgReceipt"),this.processCallback(e),this.sendCmd("sendTeamMsgReceipt",e)},s.getTeamMsgReads=function(e){i.verifyOptions(e,"teamMsgReceipts","team::getTeamMsgReads"),this.processCallback(e),this.sendCmd("getTeamMsgReads",e)},s.getTeamMsgReadAccounts=function(e){i.verifyOptions(e,"teamMsgReceipt","team::getTeamMsgReadAccounts"),this.processCallback(e),this.sendCmd("getTeamMsgReadAccounts",e)}},function(e,t,n){"use strict";n(8).fn.getRobots=function(e){(e=e||{}).type="getRobots",this.processCallback(e),this.sendCmd("sync",{sync:{robots:0}},e.callback)}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0),r=i.notundef,o=n(150);s.friendRequest=function(e){i.verifyOptions(e,"type account","friend::friendRequest"),i.verifyParamValid("type",e.type,o.validTypes(),"friend::friendRequest"),this.processPs(e),this.processCallback(e);var t={account:e.account,type:o.getByteFromType(e.type),ps:e.ps};r(e.idServer)&&(t.idServer=e.idServer),this.sendCmd("friendRequest",t,e.callback)},s.addFriend=function(e){e.type="addFriend",this.friendRequest(e)},s.applyFriend=function(e){e.type="applyFriend",this.friendRequest(e)},s.passFriendApply=function(e){i.verifyOptions(e,"idServer","friend::passFriendApply"),e.type="passFriendApply",this.friendRequest(e)},s.rejectFriendApply=function(e){i.verifyOptions(e,"idServer","friend::rejectFriendApply"),e.type="rejectFriendApply",this.friendRequest(e)},s.deleteFriend=function(e){i.verifyOptions(e,"account","friend::deleteFriend");var t=!0===e.delAlias;this.processCallback(e),this.sendCmd("deleteFriend",{account:e.account,delFriendParams:{delAlias:t?1:0}},e.callback)},s.updateFriend=function(e){this.processCallback(e);var t=new o(e);this.sendCmd("updateFriend",{friend:t,single:!0},e.callback)},s.getFriends=function(e){var t=this,n=t.db,s=0;function r(){t.sendCmd("getFriends",{timetag:s,NOTSTORE:"timetag"},e.callback)}i.verifyOptions(e),t.processCallback(e),n.enable?n.getFriendsTimetag().then((function(e){s=e,r()}),r):r()}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0),r=i.objs2accounts,o=n(77);s.updateMyInfo=function(e){i.verifyOptions(e),this.processCallback(e),e.user=new o(e),delete e.user.account,this.sendCmd("updateMyInfo",{user:e.user,single:!0},e.callback)},s.getMyInfo=function(e){return(e=e||{}).account=this.account,this.getUser(e)},s.getUser=function(e){var t,n=this,s=n.db;function r(){n.sendCmd("getUsers",{accounts:[t],single:!0},e.callback)}i.verifyOptions(e,"account","user::getUser"),n.processCallback(e),e.cbaop=function(e,s){if(!e)return s=s[0]||null,n.logger.log("api::getUser: cbaop "+t,s),s},t=e.account,e.sync?r():s.enable?s.getUser(t).then((function(s){s?(n.logger.log("api::getUser: db.getUser "+t,s),e.done(null,s)):r()}),r):r()},s.getUsers=function(e){var t,n=this,s=n.db,o=[];function a(){n.sendCmd("getUsers",{accounts:t,single:!0},e.callback)}i.verifyOptions(e,"accounts","user::getUsers"),i.verifyParamType("accounts",e.accounts,"array","user::getUsers"),n.processCallback(e),e.cbaop=function(e,s){if(!e)return s=s.concat(o),n.logger.log("api::getUsers: cbaop "+t,s),s},t=i.deduplicate(e.accounts),i.verifyArrayMax("accounts",e.accounts,150,"user::getUsers"),e.sync?a():s.enable?s.getUsers(t).then((function(s){if(s&&s.length===t.length)n.logger.log("api::getUsers: db.getUsers",s),e.done(null,s);else{o=s;var i=r(s),c=[];t.forEach((function(e){-1===i.indexOf(e)&&c.push(e)})),t=c,a()}}),a):a()}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0);s.markInBlacklist=function(e){i.verifyOptions(e,"account isAdd","relation::markInBlacklist"),i.verifyParamType("isAdd",e.isAdd,"boolean","relation::markInBlacklist"),this.processCallback(e),this.sendCmd("markInBlacklist",{account:e.account,isAdd:e.isAdd},e.callback)},s.addToBlacklist=function(e){return e.isAdd=!0,this.markInBlacklist(e)},s.removeFromBlacklist=function(e){return e.isAdd=!1,this.markInBlacklist(e)},s.markInMutelist=function(e){i.verifyOptions(e,"account","relation::markInMutelist"),i.verifyParamType("isAdd",e.isAdd,"boolean","relation::markInMutelist"),this.processCallback(e),this.sendCmd("markInMutelist",{account:e.account,isAdd:e.isAdd},e.callback)},s.addToMutelist=function(e){return e.isAdd=!0,this.markInMutelist(e)},s.removeFromMutelist=function(e){return e.isAdd=!1,this.markInMutelist(e)},s.getRelations=function(e){var t=this,n=t.db,s=0;function r(){t.sendCmd("getRelations",{timetag:s,NOTSTORE:"timetag"},e.callback)}e=i.verifyOptions(e),t.processCallback(e),n.enable?n.getRelationsTimetag().then((function(e){s=e,r()}),r):r()}},function(e,t,n){"use strict";var s=n(8).fn,i=n(0);s.kick=function(e){i.verifyOptions(e,"deviceIds","link::kick"),this.processCallback(e),this.sendCmd("kick",{deviceIds:e.deviceIds.slice(0)},e.callback)}},function(e,t,n){"use strict";var s=n(16),i=n(101),r=n(146);s(s.S,"Promise",{try:function(e){var t=i.f(this),n=r(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";var s=n(16),i=n(5),r=n(3),o=n(148),a=n(145);s(s.P+s.R,"Promise",{finally:function(e){var t=o(this,i.Promise||r.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var s=n(3),i=n(5),r=n(9),o=n(10),a=n(4)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:s[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var s=n(13);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:s(e,i,t[i]);return e}},function(e,t,n){var s=n(3),i=n(147).set,r=s.MutationObserver||s.WebKitMutationObserver,o=s.process,a=s.Promise,c="process"==n(36)(o);e.exports=function(){var e,t,n,u=function(){var s,i;for(c&&(s=o.domain)&&s.exit();e;){i=e.fn,e=e.next;try{i()}catch(s){throw e?n():t=void 0,s}}t=void 0,s&&s.enter()};if(c)n=function(){o.nextTick(u)};else if(!r||s.navigator&&s.navigator.standalone)if(a&&a.resolve){var l=a.resolve();n=function(){l.then(u)}}else n=function(){i.call(s,u)};else{var d=!0,f=document.createTextNode("");new r(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(s){var i={fn:s,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e,t,n){var s=void 0===n;switch(t.length){case 0:return s?e():e.call(n);case 1:return s?e(t[0]):e.call(n,t[0]);case 2:return s?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return s?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return s?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var s=n(38),i=n(153),r=n(152),o=n(12),a=n(67),c=n(103),u={},l={};(t=e.exports=function(e,t,n,d,f){var m,p,h,g,v=f?function(){return e}:c(e),y=s(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(r(v)){for(m=a(e.length);m>b;b++)if((g=t?y(o(p=e[b])[0],p[1]):y(e[b]))===u||g===l)return g}else for(h=v.call(e);!(p=h.next()).done;)if((g=i(h,y,p.value,t))===u||g===l)return g}).BREAK=u,t.RETURN=l},function(e,t){e.exports=function(e,t,n,s){if(!(e instanceof t)||void 0!==s&&s in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var s,i,r,o,a=n(37),c=n(3),u=n(38),l=n(102),d=n(16),f=n(15),m=n(55),p=n(237),h=n(236),g=n(148),v=n(147).set,y=n(234)(),b=n(101),_=n(146),T=n(145),S=c.TypeError,C=c.process,M=c.Promise,w="process"==l(C),k=function(){},I=i=b.f,O=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(4)("species")]=function(e){e(k,k)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}(),P=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},x=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var s=e._v,i=1==e._s,r=0,o=function(t){var n,r,o,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&$(e),e._h=1),!0===a?n=s:(l&&l.enter(),n=a(s),l&&(l.exit(),o=!0)),n===t.promise?u(S("Promise-chain cycle")):(r=P(n))?r.call(n,c,u):c(n)):u(s)}catch(e){l&&!o&&l.exit(),u(e)}};n.length>r;)o(n[r++]);e._c=[],e._n=!1,t&&!e._h&&A(e)}))}},A=function(e){v.call(c,(function(){var t,n,s,i=e._v,r=j(e);if(r&&(t=_((function(){w?C.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(s=c.console)&&s.error&&s.error("Unhandled promise rejection",i)})),e._h=w||j(e)?2:1),e._a=void 0,r&&t.e)throw t.v}))},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},$=function(e){v.call(c,(function(){var t;w?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},R=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),x(t,!0))},E=function e(t){var n,s=this;if(!s._d){s._d=!0,s=s._w||s;try{if(s===t)throw S("Promise can't be resolved itself");(n=P(t))?y((function(){var i={_w:s,_d:!1};try{n.call(t,u(e,i,1),u(R,i,1))}catch(t){R.call(i,t)}})):(s._v=t,s._s=1,x(s,!1))}catch(t){R.call({_w:s,_d:!1},t)}}};O||(M=function(e){p(this,M,"Promise","_h"),m(e),s.call(this);try{e(u(E,this,1),u(R,this,1))}catch(e){R.call(this,e)}},(s=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(233)(M.prototype,{then:function(e,t){var n=I(g(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&x(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new s;this.promise=e,this.resolve=u(E,e,1),this.reject=u(R,e,1)},b.f=I=function(e){return e===M||e===o?new r(e):i(e)}),d(d.G+d.W+d.F*!O,{Promise:M}),n(35)(M,"Promise"),n(232)("Promise"),o=n(5).Promise,d(d.S+d.F*!O,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!O),"Promise",{resolve:function(e){return T(a&&this===o?M:this,e)}}),d(d.S+d.F*!(O&&n(151)((function(e){M.all(e).catch(k)}))),"Promise",{all:function(e){var t=this,n=I(t),s=n.resolve,i=n.reject,r=_((function(){var n=[],r=0,o=1;h(e,!1,(function(e){var a=r++,c=!1;n.push(void 0),o++,t.resolve(e).then((function(e){c||(c=!0,n[a]=e,--o||s(n))}),i)})),--o||s(n)}));return r.e&&i(r.v),n.promise},race:function(e){var t=this,n=I(t),s=n.reject,i=_((function(){h(e,!1,(function(e){t.resolve(e).then(n.resolve,s)}))}));return i.e&&s(i.v),n.promise}})},function(e,t,n){n(79),n(47),n(53),n(238),n(231),n(230),e.exports=n(5).Promise},function(e,t,n){e.exports={default:n(239),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var s,i=n(240),r=(s=i)&&s.__esModule?s:{default:s};t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default((function(e,n){return function s(i,o){try{var a=t[i](o),c=a.value}catch(e){return void n(e)}if(!a.done)return r.default.resolve(c).then((function(e){s("next",e)}),(function(e){s("throw",e)}));e(c)}("next")}))}}},function(e,t){!function(t){"use strict";var n,s=Object.prototype,i=s.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var d="suspendedStart",f="suspendedYield",m="executing",p="completed",h={},g={};g[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(A([])));y&&y!==s&&i.call(y,o)&&(g=y);var b=M.prototype=S.prototype=Object.create(g);C.prototype=b.constructor=M,M.constructor=C,M[c]=C.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,M):(e.__proto__=M,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},l.awrap=function(e){return{__await:e}},w(k.prototype),k.prototype[a]=function(){return this},l.AsyncIterator=k,l.async=function(e,t,n,s){var i=new k(_(e,t,n,s));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),b[c]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var s=t.pop();if(s in e)return n.value=s,n.done=!1,n}return n.done=!0,n}},l.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function s(s,i){return a.type="throw",a.arg=e,t.next=s,i&&(t.method="next",t.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&i.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var s=n.completion;if("throw"===s.type){var i=s.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,s){return this.delegate={iterator:A(e),resultName:t,nextLoc:s},"next"===this.method&&(this.arg=n),h}}}function _(e,t,n,s){var i=t&&t.prototype instanceof S?t:S,r=Object.create(i.prototype),o=new x(s||[]);return r._invoke=function(e,t,n){var s=d;return function(i,r){if(s===m)throw new Error("Generator is already running");if(s===p){if("throw"===i)throw r;return j()}for(n.method=i,n.arg=r;;){var o=n.delegate;if(o){var a=I(o,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(s===d)throw s=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);s=m;var c=T(e,t,n);if("normal"===c.type){if(s=n.done?p:f,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(s=p,n.method="throw",n.arg=c.arg)}}}(e,n,o),r}function T(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function S(){}function C(){}function M(){}function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){var t;this._invoke=function(n,s){function r(){return new Promise((function(t,r){!function t(n,s,r,o){var a=T(e[n],e,s);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,r,o)}),(function(e){t("throw",e,r,o)})):Promise.resolve(u).then((function(e){c.value=e,r(c)}),o)}o(a.arg)}(n,s,t,r)}))}return t=t?t.then(r,r):r()}}function I(e,t){var s=e.iterator[t.method];if(s===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=T(s,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,r=function t(){for(;++s<e.length;)if(i.call(e,s))return t.value=e[s],t.done=!1,t;return t.value=n,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){var s=function(){return this}()||Function("return this")(),i=s.regeneratorRuntime&&Object.getOwnPropertyNames(s).indexOf("regeneratorRuntime")>=0,r=i&&s.regeneratorRuntime;if(s.regeneratorRuntime=void 0,e.exports=n(242),i)s.regeneratorRuntime=r;else try{delete s.regeneratorRuntime}catch(e){s.regeneratorRuntime=void 0}},function(e,t,n){e.exports=n(243)},function(e,t,n){"use strict";var s=a(n(2)),i=a(n(106)),r=a(n(244)),o=a(n(241));function a(e){return e&&e.__esModule?e:{default:e}}var c=n(8).fn,u=n(0),l=u.isArray,d=n(52);c.mergeObjArray=function(e,t,n){return e||(e=[]),t?(l(t)||(t=[t]),t.length?(n=n||{},u.mergeObjArray(e,t,n)):e):e},c.cutObjArray=function(e,t,n){return e&&t?(l(t)||(t=[t]),t.length?(n=n||{},u.cutObjArray(e,t,n)):e):e},c.mergeLoginPorts=function(e,t){return this.mergeObjArray(e,t,{keyPath:"deviceId"})},c.cutLoginPorts=function(e,t){return this.cutObjArray(e,t,{keyPath:"deviceId",sortPath:"type"})},c.mergeRelations=function(e,t){return this.mergeObjArray(e,t,{keyPath:"account"})},c.cutRelations=function(e,t){return this.cutObjArray(e,t,{keyPath:"account"})},c.findRelation=function(e,t){return u.findObjInArray(e,{keyPath:"account",value:t})},c.mergeFriends=function(e,t){return this.mergeObjArray(e,t,{keyPath:"account"})},c.cutFriends=function(e,t){return this.cutObjArray(e,t,{keyPath:"account"})},c.cutFriendsByAccounts=function(e,t){l(t)||(t=[t]);var n=t.map((function(e){return{account:e}}));return this.cutFriends(e,n)},c.findFriend=function(e,t){return u.findObjInArray(e,{keyPath:"account",value:t})},c.mergeUsers=function(e,t){return this.mergeObjArray(e,t,{keyPath:"account"})},c.findUser=function(e,t){return u.findObjInArray(e,{keyPath:"account",value:t})},c.mergeTeams=function(e,t){return this.mergeObjArray(e,t,{keyPath:"teamId"})},c.cutTeams=function(e,t){return this.cutObjArray(e,t,{keyPath:"teamId"})},c.findTeam=function(e,t){return u.findObjInArray(e,{keyPath:"teamId",value:t})},c.assembleTeamOwner=d.assembleOwner,c.assembleTeamMembers=d.assembleMembers,c.genTeamMemberId=d.genId,c.mergeTeamMembers=function(e,t){return this.mergeObjArray(e,t)},c.cutTeamMembers=function(e,t){return this.cutObjArray(e,t)},c.cutTeamMembersByAccounts=function(e,t,n){l(n)||(n=[n]);var s=d.assembleMembers({teamId:t},n);return this.cutTeamMembers(e,s)},c.findTeamMember=function(e,t){return u.findObjInArray(e,{keyPath:"id",value:t})},c.mergeSessions=function(e,t){return this.mergeObjArray(e,t,{sortPath:"updateTime",desc:!0})},c.cutSessions=function(e,t){return this.cutObjArray(e,t)},c.cutSessionsByIds=function(e,t){l(t)||(t=[t]);var n=t.map((function(e){return{id:e}}));return this.cutSessions(e,n)},c.findSession=function(e,t){return u.findObjInArray(e,{keyPath:"id",value:t})},c.mergeMsgs=function(e,t){return this.mergeObjArray(e,t,{keyPath:"idClient",sortPath:"time"})},c.cutMsgs=function(e,t){return this.cutObjArray(e,t,{keyPath:"idClient"})},c.cutMsgsByIdClients=function(e,t){l(t)||(t=[t]);var n=t.map((function(e){return{idClient:e}}));return this.cutMsgs(e,n)},c.findMsg=function(e,t){return u.findObjInArray(e,{keyPath:"idClient",value:t})},c.mergeSysMsgs=function(e,t){return this.mergeObjArray(e,t,{keyPath:"idServer",desc:!0})},c.cutSysMsgs=function(e,t){return this.cutObjArray(e,t,{keyPath:"idServer"})},c.cutSysMsgsByIdServers=function(e,t){l(t)||(t=[t]);var n=t.map((function(e){return{idServer:e}}));return this.cutSysMsgs(e,n)},c.findSysMsg=function(e,t){return u.findObjInArray(e,{keyPath:"idServer",value:t})},c.searchLocal=function(e){var t,n,a,c=(t=(0,o.default)(r.default.mark((function e(t,n){var s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n?[m.getSessions(),d(),m.getTeams(),m.getSuperTeams()]:[m.getSessions()],e.abrupt("return",Promise.all(s).then((function(e){var s=e[0]||[],i={p2p:e[1]||[],team:e[2]||[],superTeam:e[3]||[]},r={};return n&&(Object.keys(i).forEach((function(e){i[e].forEach((function(t){var n=t.teamId||t.account;r[e+"-"+n]=t}))})),s.forEach((function(e){e.target=r[e.id]}))),_(t,s)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)}),l=(n=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return n=e.sent,e.abrupt("return",_(t,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),d=(a=(0,o.default)(r.default.mark((function e(){var t,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return",b);case 2:return e.next=4,f.db.getFriends();case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:return t=e.t0,n=f.protocol.userSet||{},b=t.map((function(e){return(0,i.default)({},e,n[e.account])})),e.abrupt("return",b);case 11:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)});if(u.verifyOptions(e,"keyword","searchLocal"),this.db.enable){var f=this,m=this.db,p=e.keyword+"",h=["account","nick","alias"],g=["id","scene","lastMsg.type","lastMsg.text","localCustom","target.account","target.nick","target.alias","target.name"],v="",y=e.keyPath,b=void 0;switch(y?(v=(y=(y+"").split(".")).shift(),y=y.join(".")):v="all",v){case"user":y&&(h=h.filter((function(e){return e===y||0===e.indexOf(y+".")}))),l(h).then((function(t){e.done(null,{sessions:[],users:t})}));break;case"session":y&&(g=g.filter((function(e){return e===y||0===e.indexOf(y+".")}))),c(g,!y||y.indexOf("target")>-1).then((function(t){e.done(null,{sessions:t,users:[]})}));break;case"all":d().then((function(){Promise.all([c(g,!0),l(h)]).then((function(t){e.done(null,{sessions:t[0],users:t[1]})}))}));break;default:e.done(null,{sessions:[],users:[],msg:'keyPath must start with "user" or "session"'})}}else e.done(null,{sessions:[],users:[],msg:"no db"});function _(e,t){var n=[];return t.forEach((function(t){for(var s=0;s<e.length;s++){var i=T(t,e[s].split("."));if(i&&i.indexOf(p)>-1){n.push(Object.assign({},t));break}}})),n}function T(e,t){if("object"===(void 0===e?"undefined":(0,s.default)(e))&&e)return 1===t.length?e[t[0]]:T(e[t.shift()],t)}}},function(e,t,n){"use strict";var s=n(33),i=n(0),r={welcome:"00",text:"01",link:"03"},o={"01":"text","02":"image","03":"answer",11:"template"};function a(e){i.verifyOptions(e,"content","msg::RobotMessage"),i.undef(e.robotAccid)&&(e.robotAccid=e.to);var t=e.content;switch(t.type){case"welcome":i.undef(e.body)&&(this.body="欢迎消息");break;case"text":i.verifyOptions(t,"content","msg::RobotMessage"),i.undef(e.body)&&(this.body=t.content);break;case"link":i.verifyOptions(t,"target","msg::RobotMessage")}t.type&&(t.type=r[t.type]),t={param:t,robotAccid:e.robotAccid},this.attach=JSON.stringify(t),e.type="robot",s.call(this,e)}a.prototype=Object.create(s.prototype),a.reverse=function(e){var t=s.reverse(e);if("robot"===t.type){var n=JSON.parse(e.attach);if(n.param&&(n.param.type=o[n.param.type]||"unknown"),n.robotMsg){var r=(n=i.merge(n,n.robotMsg)).message;"bot"===n.flag?n.message=r.map((function(e){return e.type=o[e.type]||"unknown",e})):n.flag,delete n.robotMsg}t.content=n}return t},e.exports=a},function(e,t,n){"use strict";var s=n(33),i=n(0);function r(e){i.verifyOptions(e,"tip","msg::TipMessage"),e.type="tip",s.call(this,e),this.body=e.tip}r.prototype=Object.create(s.prototype),r.reverse=function(e){var t=s.reverse(e);return t.text="",t.tip=e.body,e.attach&&(t.attach=e.attach),t},e.exports=r},function(e,t,n){"use strict";var s=n(33),i=n(0);function r(e){i.verifyOptions(e,"content","msg::CustomMessage"),e.type="custom",s.call(this,e),this.attach=e.content}r.prototype=Object.create(s.prototype),r.reverse=function(e){var t=s.reverse(e);return t.content=e.attach,t},e.exports=r},function(e,t,n){"use strict";var s=n(0).notundef,i=n(33),r=n(48).IM,o=n(62),a=n(77),c={0:"addTeamMembers",1:"removeTeamMembers",2:"leaveTeam",3:"updateTeam",4:"dismissTeam",5:"passTeamApply",6:"transferTeam",7:"addTeamManagers",8:"removeTeamManagers",9:"acceptTeamInvite",10:"updateTeamMute",101:"netcallMiss",102:"netcallBill",401:"addSuperTeamMembers",402:"removeSuperTeamMembers",403:"leaveSuperTeam",404:"updateSuperTeam",405:"dismissSuperTeam",406:"transferSuperTeam",407:"addSuperTeamManagers",408:"removeSuperTeamManagers",409:"updateSuperTeamMembersMute",410:"passSuperTeamApply",411:"acceptSuperTeamInvite"};function u(){}u.prototype=Object.create(i.prototype),u.reverse=function(e){var t=i.reverse(e);if(e.attach=e.attach?""+e.attach:"",e.attach){var n=JSON.parse(e.attach);if(t.attach={type:c[n.id]||n.id},s(n.data)){var u=n.data;s(u.tinfo)&&(t.attach.team=o.reverse(r.syncUnserialize(u.tinfo,"team"),!0)),s(u.ids)&&(t.attach.accounts=u.ids),s(u.id)&&(t.attach.account=u.id),s(u.uinfos)&&(t.attach.users=u.uinfos.map((function(e){return a.reverse(r.syncUnserialize(e,"user"))}))),s(u.mute)&&(t.attach.mute=1==+u.mute),s(u.attach)&&(t.attach.custom=u.attach),s(u.channel)&&(t.attach.channelId=u.channel),s(u.calltype)&&(t.attach.netcallType=u.calltype),s(u.duration)&&(t.attach.duration=u.duration),s(u.time)&&(t.attach.time=u.time),s(u.from)&&(t.attach.from=u.from),s(u.ext)&&(t.attach.ext=u.ext),t.attach.accounts&&t.attach.accounts.length<=2&&t.from===t.to&&t.attach.accounts.some((function(e){if(e!==t.to)return t.to=e,!0}))}}else t.attach={};return t},e.exports=u},function(e,t,n){"use strict";var s=n(33),i=n(0);function r(e){e.type="geo",i.verifyOptions(e,"geo","msg::GeoMessage"),i.verifyOptions(e.geo,"lng lat title",!0,"geo.","msg::GeoMessage"),i.verifyParamType("geo.lng",e.geo.lng,"number","msg::GeoMessage"),i.verifyParamType("geo.lat",e.geo.lat,"number","msg::GeoMessage"),i.verifyParamType("geo.title",e.geo.title,"string","msg::GeoMessage"),s.call(this,e),this.attach=JSON.stringify(e.geo)}r.prototype=Object.create(s.prototype),r.reverse=function(e){var t=s.reverse(e);return e.attach=e.attach?""+e.attach:"",t.geo=e.attach?JSON.parse(e.attach):{},t},e.exports=r},function(e,t,n){"use strict";var s=n(76),i=n(0);function r(){}r.prototype=Object.create(s.prototype),r.verifyFile=function(e,t){i.verifyOptions(e,"dur w h",!0,"file.",t)},e.exports=r},function(e,t,n){"use strict";var s=n(76),i=n(0);function r(){}r.prototype=Object.create(s.prototype),r.verifyFile=function(e,t){i.verifyOptions(e,"dur",!0,"file.",t)},e.exports=r},function(e,t,n){"use strict";var s=n(0),i=n(76);function r(){}r.prototype=Object.create(i.prototype),r.verifyFile=function(e,t){s.verifyOptions(e,"w h",!0,"file.",t)},e.exports=r},function(e,t,n){"use strict";var s=n(33),i=n(0);function r(e){i.verifyOptions(e,"text","msg::TextMessage"),e.type="text",s.call(this,e)}r.prototype=Object.create(s.prototype),r.reverse=function(e){return s.reverse(e)},e.exports=r},function(e,t,n){"use strict";var s=n(0),i=function(e){this.account=e.account},r=i.prototype,o=r.Message=n(33),a=r.TextMessage=n(254),c=r.FileMessage=n(76),u=r.GeoMessage=n(250),l=r.NotificationMessage=n(249),d=r.CustomMessage=n(248),f=r.TipMessage=n(247),m=r.RobotMessage=n(246);r.validScenes=o.validScenes,r.validTypes=o.validTypes,r.reverse=function(e){var t;switch(o.getType(e)){case"text":t=a.reverse(e);break;case"image":case"audio":case"video":case"file":t=c.reverse(e);break;case"geo":t=u.reverse(e);break;case"notification":t=l.reverse(e);break;case"custom":t=d.reverse(e);break;case"tip":t=f.reverse(e);break;case"robot":t=m.reverse(e);break;default:t=o.reverse(e)}return o.setExtra(t,this.account),t},r.reverseMsgs=function(e,t){var n,i,r=this;return e.map((function(e){return e=r.reverse(e),t&&((n=t.modifyObj)&&(e=s.merge(e,n)),i=t.mapper,s.isFunction(i)&&(e=i(e))),e}))},e.exports=i},function(e,t,n){"use strict";var s,i=n(14),r=(s=i)&&s.__esModule?s:{default:s},o=n(6).fn,a=n(0),c=r.default.clientTypeMap;function u(e){e=e||{};var t=a.copy(e);return t.clientType&&(t.clientType=c[t.clientType]||""),t.serverCustom&&(t.custom=JSON.parse(t.serverCustom),"string"==typeof t.custom[0]&&(t.custom=t.custom[0]),delete t.serverCustom),t}o.processEventService=function(e){var t=e.content,n=e.error,s=this.options||{};switch(n&&(n.callFunc="events::processEventService",this.onCustomError("事件服务解包失败","EVENT_SERVICE_ERROR",n)),e.cmd){case"pushEvent":if(a.isFunction(s.onpushevents)){var i={msgEvents:[u(t.msgEvent)]};s.onpushevents(i)}break;case"pushEvents":if(a.isFunction(s.onpushevents)){var r=t.msgEvents;r={msgEvents:r.map((function(e){return u(e)}))},s.onpushevents(r)}}}},function(e,t,n){"use strict";n(6).fn.processFilter=function(e){switch(e.cmd){case"sendFilterMsg":this.onSendMsg(e,!0);break;case"filterMsg":this.onMsg(e,!0);break;case"filterSysMsg":this.onSysMsg(e,!0);break;case"sendFilterCustomSysMsg":this.onSendSysMsg(e,!0)}}},function(e,t,n){"use strict";var s=n(6).fn;s.processChatroom=function(e){switch(e.cmd){case"getChatroomAddress":this.onChatroomAddress(e)}},s.onChatroomAddress=function(e){e.error||(e.obj.address=e.content.address)}},function(e,t,n){"use strict";var s=n(6).fn;s.syncSessionAck=function(e){var t=this,n=t.db;if(n.enable){var s=e.content.timetag,i=n.updateSessionAck(s).catch((function(e){return t.logger.error("sessionAck::syncSessionAck::updatetimetag db",e),Promise.reject(e)}));i.cmd="sessionAck",t.syncPromiseArray.push(i)}if(t.syncing&&t.syncResult){var r={};[[e.content.p2p,"p2p"],[e.content.team.m_map,"team"]].forEach((function(e){var n=e[0],s=e[1];Object.keys(n).forEach((function(e){r[s+"-"+e]=n[e];var i={id:s+"-"+e,ack:n[e]};t.cacheSyncedSession(i)}))})),t.syncResult.ackMap?t.syncResult.ackMap=Object.assign(t.syncResult.ackMap,r):t.syncResult.ackMap=r}else t.logger.warn("sessionAck::syncSessionAck: not in syncing or no syncResult",t.syncing,!!t.syncResult)},s.syncSuperTeamSessionAck=function(e){var t=this.db,n=this;if(t.enable){var s=e.content.timetag,i=t.updateSuperTeamSessionAck(s).catch((function(e){return n.logger.error("sessionAck::syncSuperTeamSessionAck::updatetimetag db",e),Promise.reject(e)}));i.cmd="superTeamSessionAck",n.syncPromiseArray.push(i)}if(n.syncResult){var r={},o=e.content.superTeam.m_map;Object.keys(o).forEach((function(e){r["superTeam-"+e]=o[e];var t={id:"superTeam-"+e,ack:o[e]};n.cacheSyncedSession(t)})),n.syncResult.ackMap?n.syncResult.ackMap=Object.assign(n.syncResult.ackMap,r):n.syncResult.ackMap=r}},s.onMarkSessionAck=function(e){e.error||this.storeSessionAck(e.obj)},s.syncMarkSessionAck=function(e){this.storeSessionAck(e.content)},s.storeSessionAck=function(e){if(this.options.syncSessionUnread){var t;switch(e.scene){case 0:t="p2p";break;case 1:t="team";break;case void 0:default:t="superTeam"}var n=t+"-"+e.to,s=e.timetag;if(s<=((this.findSession(n)||{}).ack||0))this.logger.warn("session::storeSessionAck: ack <= ackInMemory",s);else{var i={id:n,ack:s};this.mergeSession(i),this.logger.info("session::storeSessionAck:",i),this.markUnreadBySessionAck({sessionId:n,ack:i.ack})}}},s.markUnreadBySessionAck=function(e){var t=e.sessionId,n=e.ack,s=this,i=s.db;if(i.enable)s.pushMsgTask((function(){return i.getMsgCountAfterAck({shouldCountNotifyUnread:s.options.shouldCountNotifyUnread,sessionId:t,ack:n}).then((function(e){var r={id:t,unread:e,ack:n};return s.logger.log("session::markUnreadBySessionAck: db.getMsgCountAfterAck done"),s.cacheSyncedSession(r),i.updateSession(r)}))}));else{var r=s.findSession(t);if(r){var o=r.unreadMsgs;if(o&&o.length){for(var a=0,c=[],u=o.length-1;u>=0;u--){var l=o[u];if(!(l.time>n))break;a++,c.push(l)}r.unreadMsgs=c,r.unread=a,s.logger.info("session::markUnreadBySessionAck: unread "+a),s.syncing&&s.cacheSyncedSession(r)}}}}},function(e,t,n){var s=n(12),i=n(103);e.exports=n(5).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return s(t.call(e))}},function(e,t,n){n(53),n(47),e.exports=n(260)},function(e,t,n){e.exports={default:n(261),__esModule:!0}},function(e,t,n){var s=n(102),i=n(4)("iterator"),r=n(26);e.exports=n(5).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||r.hasOwnProperty(s(t))}},function(e,t,n){n(53),n(47),e.exports=n(263)},function(e,t,n){e.exports={default:n(264),__esModule:!0}},function(e,t,n){"use strict";var s,i=n(149),r=(s=i)&&s.__esModule?s:{default:s},o=n(6).fn,a=n(0),c=n(59),u=n(7);o.processSession=function(e){if(!e.error)switch(e.cmd){case"getServerSessions":this.onGetServerSessions(e);break;case"getServerSession":this.onGetServerSession(e);break;case"updateServerSession":this.onUpdateServerSession(e)}},o.onGetServerSessions=function(e){var t=this,n=e.content&&e.content.sessionReqTag,s=e.content&&e.content.sessionList,i=[];s.forEach((function(e){e.id=e.id.split("|").join("-"),0===e.id.indexOf("super_team")&&(e.id="superTeam"+e.id.slice(10)),e.updateTime=+e.updateTime,e.lastMsg&&i.push(t.parser.unserialize(JSON.parse(e.lastMsg),"msg").then((function(n){e.lastMsg=t.message.reverse(n)})))})),e.promise=Promise.all(i).then((function(){e.obj={sessionList:s,hasMore:"1"===n.hasMore},n.minTimestamp&&(e.obj.minTimestamp=+n.minTimestamp)}))},o.onGetServerSession=function(e){var t=this,n=e.content&&e.content.session;n&&(n.id=n.id.split("|").join("-"),0===n.id.indexOf("super_team")&&(n.id="superTeam"+n.id.slice(10)),n.updateTime=+n.updateTime,n.lastMsg?e.promise=t.parser.unserialize(JSON.parse(n.lastMsg),"msg").then((function(s){n.lastMsg=t.message.reverse(s),e.obj=n})):e.obj=n)},o.onUpdateServerSession=function(e){e.obj={}},o.onSyncUpdateServerSession=function(e){var t=this,n=this,s=e.content&&e.content.session;s&&(s.id=s.id.split("|").join("-"),0===s.id.indexOf("super_team")&&(s.id="superTeam"+s.id.slice(10)),s.updateTime=+s.updateTime,s.lastMsg?n.parser.unserialize(JSON.parse(s.lastMsg),"msg").then((function(e){s.lastMsg=n.message.reverse(e),t.options.onSyncUpdateServerSession(a.simpleClone(s))})):this.options.onSyncUpdateServerSession(a.simpleClone(s)))},o.mergeSession=function(e){e=a.copyWithNull(e);var t=this.sessionSet,n=e.id,s=t[n];return t[n]=a.merge(s,e),e=t[n],a.undef(e.unread)&&(e.unread=0),e},o.mergeSessions=function(e){var t=this;(e=e||[]).forEach((function(e){t.mergeSession(e)}))},o.deleteLocalSession=function(e){var t=this;a.isArray(e)||(e=[e]),e.forEach((function(e){delete t.sessionSet[e]}))},o.onDeleteSessions=function(e){e.obj=e.obj.sessions.map((function(e){return c.parse(e)}))},o.onUpdateSession=function(e){var t=this;return new Promise((function(n){e?(e=t.mergeSession(e),e=a.simpleClone(e),c.trim(e),c.isComplete(e)&&(t.logger.info("session::onUpdateSession:",e.id,a.simpleClone(e)),t.options.onupdatesession(e),n(e))):n(e)}))},o.setCurrSession=function(e){e=""+e,this.currSessionId=e,this.logger.info("session::setCurrSession:",e)},o.findSession=function(e){return this.sessionSet[e]},o.resetSessionUnread=function(e){e=""+e;var t=this.db;if(this.findSession(e)){if(t.enable&&t.resetSessionUnread(e),!this.options.autoMarkRead&&this.sessionUnreadMsgs&&this.sessionUnreadMsgs[e]){var n=this.sessionUnreadMsgs[e];this.markMsgRead(n,!0),this.sessionUnreadMsgs[e]=[]}this.onUpdateSession({id:e,unread:0})}else this.logger.warn("session::resetSessionUnread: no session "+e)},o.insertLocalSession=function(e){var t=this,n=t.db,s=t.sessionSet;return new Promise((function(i,r){var o=e.scene,l=e.to,d=o+"-"+l,f=t.findSession(d);if(f)r(u.sessionExist({callFunc:"session::insertLocalSession",session:f}));else{var m;if(a.isNumber(e.updateTime))m=e.updateTime;else{var p,h=[];for(var g in s)s.hasOwnProperty(g)&&(p=s[g],a.isNumber(p.updateTime)&&h.push(p.updateTime));m=Math.max.apply(Math,h)+1,m=Math.max(m,+new Date)}var v=Promise.resolve();n.enable&&(v=n.getMsgs({sessionId:d,limit:1})),v.then((function(e){if(a.isArray(e)&&1===e.length){var s=e[0];(f=c.genSessionByMsg(s)).updateTime=m}else f={id:d,scene:o,to:l,updateTime:m,lastMsg:null};n.enable?n.putSession(f).then(i,r):i(f),t.onUpdateSession(f)}))}}))},o.updateLocalSession=function(e,t){var n=this;return new Promise((function(s,i){var r=n.db;if(n.findSession(e.id)){var o=Promise.resolve(),c=a.filterObj(e,"id lastMsg localCustom unread");r.enable&&(o=r.updateSession(c)),o.then((function(e){return n.onUpdateSession(e,t)})).then(s,(function(e){i({callFunc:"session::updateLocalSession",event:e})}))}else i(u.sessionNotExist({sessionId:e.id,callFunc:"session::updateLocalSession"}))}))},o.checkAndUpdateLocalSessionByMsg=function(e){var t,n=this.db,s=this,i=this.options.syncSessionUnread&&e!==this.currSessionId,o=n.getMsgs({sessionId:e,limit:1}),a=n.getSession(e).then((function(r){if(r)return t=Object.assign({},r),r.ack=r.ack||0,i?n.getMsgs({sessionId:e,start:r.ack}):Promise.resolve();s.logger.error("can't find session that sessionId = "+e)}));return Promise.all([o,a]).then((function(i){var o,a,c=(0,r.default)(i,2),u=c[0],l=c[1],d={id:e};if(o=t.lastMsg?t.lastMsg.idClient:null,u&&u[0]?a=(u=u[0]).idClient:(a=null,u=null),o!==a&&(d.lastMsg=u),void 0!==l){var f=0;(l=l||[]).forEach((function(e){e.isUnreadable&&"in"===e.flow&&("notification"!==e.type||s.options.shouldCountNotifyUnread(msg))&&f++})),f!==t.unread&&(d.unread=f)}return Object.keys(d).length>1?(s.logger.log("session::checkAndUpdateLocalSessionByMsg::needUpdate newSession:",d),n.updateSession(d).then((function(e){return s.onUpdateSession(d)}))):Promise.resolve(200)}))}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0),r=n(60);s.splitSysMsgs=function(e,t){for(var n,s=e.length-1;s>=0;s--)n=e[s],r.isCustom(n)&&(e.splice(s,1),t.push(n))},s.onOfflineSysMsgs=function(e,t){var n=this,s=e.content.sysMsgs.map((function(e){return e=r.reverse(e),t&&(e.filter=!0),e}));s=s.reverse(),n.markSysMsgRead(s);var i=[];n.splitSysMsgs(s,i);var o=t?"offlineFilterSysMsgs":"offlineSysMsgs",a=t?"offlineFilterCustomSysMsgs":"offlineCustomSysMsgs";if(s.length){var c=n.putSysMsg(s,"offlineSysMsgs").then((function(e){(s=e).length&&(n.logger.info("sysmsg::onOfflineSysMsgs: ",o,s.length,s),n.syncResult[o]=n.syncResult[o]||[],n.syncResult[o]=n.syncResult[o].concat(s))})).catch((function(e){return n.logger.error("sysMsg::onOfflineSysMsgs: ",e),Promise.reject(e)}));c.cmd="sysMsgs",n.syncPromiseArray.push(c)}i.length&&(n.logger.info("sysmsg::onOfflineSysMsgs: ",a,i),n.syncResult[a]=n.syncResult[a]||[],n.syncResult[a]=n.syncResult[a].concat(i))},s.onSendSysMsg=function(e,t){var n=e.obj;this.completeSysMsg(n),e.error?n.status="fail":n.status="success",n=r.reverse(n),t&&(e.obj.filter=!0),e.obj=n},s.completeSysMsg=function(e){return e.from=this.account,e},s.onSysMsg=function(e,t){var n=r.reverse(e.content.sysMsg);this.markSysMsgRead(n),t&&(n.filter=!0),r.isCustom(n)?(this.logger.info("sysmsg::onSysMsg: on customSysMsg",n),this.options.oncustomsysmsg(n)):this.syncing?this.unhandledSysMsgs.push(n):this.handleSysMsg(n)},s.handleSysMsg=function(e){var t=this,n=e.type,s=e.from;t.sysMsgPromise=t.sysMsgPromise.then((function(){return t.putSysMsg(e,"onSysMsg")})).then((function(t){e=t[0]})).then((function(){if(e){var i,r=Promise.resolve();switch(n){case"addFriend":i={type:"addFriend",account:s},r=t.onFriendRequest(i);break;case"passFriendApply":i={type:"passFriendApply",account:s},r=t.onFriendRequest(i);break;case"deleteFriend":r=t.onDeleteFriend({account:s})}return i&&i.friend&&(e.friend=i.friend),r}})).then((function(){e&&(t.logger.info("sysmsg::handleSysMsg: ",n,e),setTimeout((function(){t.options.onsysmsg(e)}),0))}))},s.putSysMsg=function(e,t){if(i.isArray(e)||(e=[e]),e[0].filter)return Promise.resolve(e);var n=this,s=n.db,r=s.enable,o=Promise.resolve(),a=[];return(o=(o=o.then((function(){return r?s.putSysMsg(e):e})).then((function(t){var s=[];e.forEach((function(e){n.checkSysMsgUnique(e)&&s.push(e)})),e=s,a=r?t:e}))).then((function(){return n.getSysMsgUnread().then((function(s){return a.length||((a=e).backward=!0),n.updateSysMsgUnread(a,s,1).then((function(e){"offlineSysMsgs"===t&&(n.syncResult.sysMsgUnread=e),"onSysMsg"===t&&n.onUpdateSysMsgUnread(e)}))}))}))).then((function(){return e}))},s.checkSysMsgUnique=i.genCheckUniqueFunc("idServer"),s.getSysMsgUnread=function(){var e=this,t=e.db;return new Promise((function(n){t.enable?t.getSysMsgUnread().then((function(e){n(e)}),(function(){n(e.sysMsgUnread)})):n(e.sysMsgUnread)}))},s.updateSysMsgUnread=function(e,t,n){if(i.isArray(e)||(e=[e]),!e.length)return Promise.resolve(t);t=t||{};var s,o=this.db;return e.forEach((function(e){(n>0&&!e.read||n<0&&e.read)&&(s=e.type,t[s]=(t[s]||0)+n)})),t=r.completeUnread(t),this.sysMsgUnread=t,o.enable&&!e.backward?o.updateSysMsgUnread(t):Promise.resolve(t)},s.reduceSysMsgUnread=function(e){var t=this;return t.getSysMsgUnread().then((function(n){return t.updateSysMsgUnread(e,n,-1)})).then((function(e){t.onUpdateSysMsgUnread(e)}))},s.onUpdateSysMsgUnread=function(e){var t=this;setTimeout((function(){t.logger.info("sysmsg::onUpdateSysMsgUnread:",e),t.options.onupdatesysmsgunread(e)}),0)},s.updateSysMsg=function(e){var t=this,n=t.db;(n.enable?n.updateSysMsg(e):Promise.resolve(e)).then((function(e){t.onUpdateSysMsg(e)}))},s.onUpdateSysMsg=function(e){var t=this;setTimeout((function(){i.isArray(e)||(e=[e]),e.forEach((function(e){t.logger.info("sysmsg::onUpdateSysMsg:",e),t.options.onupdatesysmsg(e)}))}),0)},s.processUnsettledSysMsgs=function(){var e=this;e.unhandledSysMsgs.forEach((function(t){e.handleSysMsg(t)})),e.resetUnsettledSysMsgs()}},function(e,t,n){"use strict";var s=n(6).fn,i=n(60),r=n(59),o=n(0);s.onDeleteMsg=function(e){var t=this.db;if(delete e.obj.sysMsg,!e.error){var n=e.obj.msg;e.promise=this.deleteLocalMsg(n).then((function(){if(t.enable){var e="superTeam"===n.scene?"deleteSuperTeamMsg":"deleteMsg";t.getTimetag(e).then((function(s){s=s||0,n.time>=s&&t.updateTimetag(e,(new Date).getTime())}))}}))}},s.onMsgDeleted=function(e,t){if(!e.error){var n=this,s=n.db,r=i.reverse(e.content.sysMsg);r=n.processDeleteMsgSysMsg(r),t||n.markSysMsgRead(r),n.deleteLocalMsg(r.msg).then((function(){if(s.enable){var e=t?"deleteSuperTeamMsg":"deleteMsg";s.updateTimetag(e,r.time+1)}n.handleSysMsg(r)}))}},s.processDeleteMsgSysMsg=function(e){return e.msg={},["scene","from","to"].forEach((function(t){e.msg[t]=e[t]})),e.msg.idClient=e.deletedIdClient,e.msg.idServer=e.deletedIdServer,e.msg.time=e.deletedMsgTime,e.msg.fromNick=e.deletedMsgFromNick,e.opeAccount=e.opeAccount||e.from,e.msg.opeAccount=e.opeAccount,this.message.Message.setExtra(e.msg,this.account),e},s.onDeleteMsgOfflineRoaming=function(e){if(!e.error){var t=this,n=1==+e.content.type?"offline":"roaming",s=i.reverseSysMsgs(e.content.sysMsgs,{mapper:function(e){return t.processDeleteMsgSysMsg(e)}}),r=s&&s[0]&&"superTeam"===s[0].scene;t.logger.info("msg::onDeleteMsgOfflineRoaming: on delete "+n+" "+(r?"superTeam":""),s),"offline"===n&&t.markSysMsgRead(s);var o=e.content.timetag;r?(t.timetags.deleteSuperTeamMsg=o,t.syncResult.deleteSuperTeamMsgTimetag=o):(t.timetags.deleteMsg=o,t.syncResult.deleteMsgTimetag=o);var a=t.putSysMsg(s,"offlineSysMsgs").catch((function(e){return t.logger.error("msgDelete::onDeleteMsgOfflineRoaming: ",e),Promise.reject(e)}));a.cmd="deleteMsgSysMsgs "+n,t.syncPromiseArray.push(a),t.syncResult.deleteMsgSysMsgs=t.syncResult.deleteMsgSysMsgs||[],t.syncResult.deleteMsgSysMsgs.push({type:n,sysMsgs:s})}},s.deleteMsgOfflineRoaming=function(e,t){if(!e)return Promise.resolve();var n=this;n.logger.info("msg::deleteMsgOfflineRoaming: ",e,t);var s=n.db,i=[];return e.forEach((function(e){e.sysMsgs.forEach((function(e){var a=n.deleteLocalMsg(e.msg,{cbUpdateSession:function(e){e=n.mergeSession(e),e=o.simpleClone(e),r.trim(e);var i=o.findObjIndexInArray(t,{value:e.id});if(-1!==i&&(t[i]=o.merge({},t[i],e)),s.enable)return s.updateSession(e)}});i.push(a)}))})),Promise.all(i).then((function(){s.enable&&(n.syncResult.deleteMsgTimetag&&s.updateTimetag("deleteMsg",n.syncResult.deleteMsgTimetag),n.syncResult.deleteSuperTeamMsgTimetag&&s.updateTimetag("deleteSuperTeamMsg",n.syncResult.deleteSuperTeamMsgTimetag))}))},s.deleteLocalMsg=function(e,t){var n=this,s=n.db,i=(t=t||{}).cbUpdateSession||n.updateLocalSession.bind(n);if(s.enable&&e){var r=!1,o=null,a=null,c=e.sessionId;return s.getMsgs({sessionId:c,limit:1}).then((function(t){t&&t[0]&&t[0].idClient===e.idClient&&(r=!0)})).then((function(){return s.getMsgByIdClient(e.idClient)})).then((function(t){return a=t,s.deleteMsg(e.idClient)})).then((function(){if(r)return s.getMsgs({sessionId:c,limit:1})})).then((function(e){r&&e&&e[0]&&(o=e[0])})).then((function(){if(n.options.rollbackDelMsgUnread)return s.getSession(c)})).then((function(e){var t=e||{id:c};r&&(t.lastMsg=o);var s=e&&e.ack||0,u=!1;return e&&a&&s<a.time&&"in"===a.flow&&e.unread&&(n.logger.log("msgDelete::deleteLocalMsg:db.getSessions: ",e),t.unread=e.unread-1,u=!0),r||u?i(t):Promise.resolve()}))}var u=n.findSession(e.sessionId);if(n.options.rollbackDelMsgUnread&&e&&e.sessionId&&u){var l=u.ack||0;u&&l<e.time&&"in"===e.flow&&u.unread&&(n.logger.log("msgDelete::deleteLocalMsg:getSessions::no db: ",u),u.unread=u.unread-1,n.onUpdateSession(u))}return Promise.resolve()}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0);s.onOfflineMsgReceipts=function(e){var t,n=this,s=n.db,i=e.content.msgReceipts,r=[],o=Promise.resolve();i.forEach((function(e){t={id:"p2p-"+e.from,msgReceiptTime:+e.time},n.cacheSyncedSession(t)})),n.syncResult.msgReceipts=r,s.enable&&(o=s.updateMsgReceiptsTimetag(e.content.timetag)),o.cmd=r,n.syncPromiseArray.push(o)},s.shouldUpdateSessionFromMsgReceipt=function(e,t){return!e||!e.msgReceiptServerTime||t.time>e.msgReceiptServerTime},s.genSessionFromMsgReceipt=function(e,t){var n=t.time,s={id:t.sessionId,msgReceiptTime:n,msgReceiptServerTime:n};return e&&e.id===t.sessionId&&(s=i.merge({},e,s)),e&&e.updateTime||(s.updateTime=n),s},s.onMsgReceipt=function(e){var t=this,n=t.db,s=e.content.msgReceipt;s.time=+s.time;var i=s.idClient,r=Promise.resolve();n.enable&&i&&(r=n.getMsgByIdClient(i)),r.then((function(e){var n;if(e){if(!e.idServer)return void(t.msgReceiptTasks[i]=s);n=e.time}else n=s.time;s.msgReceiptTime=n,t.updateSessionMsgReceiptTime(s)}))},s.resolveMsgReceiptTask=function(e){var t=this.msgReceiptTasks[e.idClient];t&&(t.msgReceiptTime=e.time,this.updateSessionMsgReceiptTime(t))},s.updateSessionMsgReceiptTime=function(e){var t=this.db,n={id:"p2p-"+e.from,msgReceiptTime:e.msgReceiptTime,msgReceiptServerTime:e.time};t.enable&&t.putSession(n),this.onUpdateSession(n)},s.onSendMsgReceipt=function(e){if(!e.error){var t=e.obj.msgReceipt,n=+t.time,s=+e.content.msgReceipt.time;this.sessionSet["p2p-"+t.to].msgReceiptSendTime=Math.min(n,s)}},s.shouldSendMsgReceipt=function(e){if(e&&"p2p"===e.scene&&"success"===e.status){var t=this.sessionSet[e.sessionId];if(t){var n=t.msgReceiptSendTime;return!n||n<e.time}}return!1},s.isMsgRemoteRead=function(e){if(e&&"p2p"===e.scene&&"out"===e.flow&&"success"===e.status){var t=this.sessionSet[e.sessionId];if(t&&t.msgReceiptTime)return e.time<=t.msgReceiptTime}return!1}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0),r=i.undef,o=n(14),a=n(52),c=n(78),u=n(59),l=n(104);s.processMsg=function(e){switch(e.cmd){case"sendMsg":this.onSendMsg(e);break;case"msg":this.onMsg(e);break;case"sysMsg":this.onSysMsg(e);break;case"broadcastMsg":this.onBroadcastMsg(e);break;case"sendCustomSysMsg":this.onSendSysMsg(e);break;case"getHistoryMsgs":case"searchHistoryMsgs":this.onHistoryMsgs(e);break;case"syncSendMsg":this.onMsg(e);break;case"deleteSessions":this.onDeleteSessions(e);break;case"sendMsgReceipt":this.onSendMsgReceipt(e);break;case"msgReceipt":this.onMsgReceipt(e);break;case"onDeleteMsg":this.onDeleteMsg(e);break;case"onMsgDeleted":this.onMsgDeleted(e);break;case"onDeleteMsgOfflineRoaming":this.onDeleteMsgOfflineRoaming(e);break;case"onMarkSessionAck":this.onMarkSessionAck(e);break;case"syncMarkSessionAck":this.syncMarkSessionAck(e);break;case"syncUpdateServerSession":this.onSyncUpdateServerSession(e)}},s.checkIgnore=function(e){var t=this;e.forEach((function(e){e.ignore||(t.options.shouldIgnoreMsg(e)&&(e.ignore=!0),"notification"===e.type&&t.options.shouldIgnoreNotification(e)&&(e.ignore=!0))}))},s.filterIgnore=function(e){return e.filter((function(e){return!e.ignore}))},s.genSessionByMsgs=function(e){return this.checkIgnore(e),u.genSessionByMsgs(this.message.Message,e)},s.onRoamingMsgs=function(e){var t=this,n=t.message,s=n.Message,i=s.getMaxTimetag,r=n.reverseMsgs(e.content.msgs),o=i(r);r=s.sortMsgs(r);var a=(r=s.deduplication(r))[0],c=a.sessionId,u=t.genSessionByMsgs(r);t.cacheSyncedSession(u);var l=t.putMsg(r,"roamingMsgs").then((function(e){r=e,(r=t.filterIgnore(r)).length&&(t.logger.info("msg::onRoamingMsgs: putRoamingMsgs",c,r.length,r),t.syncResult.roamingMsgs=t.syncResult.roamingMsgs||[],t.syncResult.roamingMsgs.push({sessionId:c,scene:a.scene,to:a.target,msgs:r,timetag:o}),t.syncing||t.onSyncDone())})).catch((function(e){return t.logger.error("msg::onRoamingMsgs: ",e),Promise.reject(e)}));l.cmd="roamingMsgs-"+c,t.syncPromiseArray.push(l)},s.onOfflineMsgs=function(e,t){var n=this,s=n.message,i=s.Message,r=null;t&&(r={filter:!0});var o,a,c=s.reverseMsgs(e.content.msgs,{modifyObj:r}),u=[],l="",d=t?"offlineFilterMsgs":"offlineMsgs";function f(e){if(u.length){var t=i.getMaxTimetag(u),s=u[0].scene,r=u[0].target;n.markMsgRead(u),u=i.sortMsgs(u),u=i.deduplication(u);var o=n.genSessionByMsgs(u);n.cacheSyncedSession(o),(a=n.putMsg(u,"offlineMsgs").then((function(i){u=i,(u=n.filterIgnore(u)).length&&(n.logger.info("msg::onOfflineMsgs： toreLastSession",d,e,u.length,u),n.syncResult[d]=n.syncResult[d]||[],n.syncResult[d].push({sessionId:e,scene:s,to:r,msgs:u,timetag:t}))})).catch((function(e){return n.logger.error("msg::onOfflineMsgs: ",e),Promise.reject(e)}))).cmd="offlineMsgs-"+e,n.syncPromiseArray.push(a)}}c.forEach((function(e){(o=e.sessionId)!==l?(f(l),(u=[]).push(e),l=o):u.push(e)})),f(l)},s.completeMsg=function(e){return e.from=this.account,e.fromNick=this.myInfo&&this.myInfo.nick,e.fromClientType="Web",e.fromDeviceId=o.deviceId,e.time||(e.time=+new Date),e},s.onMsgs=function(e){var t=this;t.message.reverseMsgs(e.content.msgs,{mapper:function(e){t.handleMsg(e)}})},s.onMsg=function(e,t){var n=this.message.reverse(e.content.msg);t&&(n.filter=!0),this.syncing?(this.logger.log("msg::onMsg:is in syncing ..."),this.unhandledMsgs.push({type:"onMsg",msg:n})):this.handleMsg(n)},s.onBroadcastMsgs=function(e){var t=e.content.broadcastMsgs;t=t.sort((function(e,t){return e.broadcastId-t.broadcastId})),this.putBroadcastMsgs(t)},s.onBroadcastMsg=function(e){var t=e.content.broadcastMsg;t.time=t.timestamp,this.syncing?this.unhandledMsgs.push({type:"onBroadcastMsg",msg:t}):t&&this.putBroadcastMsg(t)},s.pushMsgTask=function(e){this.msgPromise=this.msgPromise.then((function(){return e()}))},s.handleMsg=function(e){var t=this,n=t.db,s=e.time;t.markMsgRead(e),t.msgPromise=t.msgPromise.then((function(){return t.putMsg(e,"onMsg")})).then((function(i){return t.logger.log("msg::handleMsg:putMsg: ",e),n.enable?"superTeam"===e.scene?n.updateSuperTeamRoamingMsgTimetag(s):n.updateRoamingMsgTimetag(s):("superTeam"===e.scene?t.timetags.superTeamRoamingMsgs=s:t.timetags.roamingMsgs=s,Promise.resolve())})).then((function(){if(t.logger.log("msg::handleMsg:updateRoamingMsgTimetag: ",s,e),e)return t.checkUserUpdate(e)})).then((function(){if(e){var n=e.type;switch(t.logger.log("msg::handleMsg:checkUserUpdate: "+e.scene+" "+n+" msg"+("notification"===n?" "+e.attach.type:""),e),n){case"notification":return t.onTeamNotificationMsg(e)}}})).then((function(){e&&!e.ignore&&(t.logger.info("msg::handleMsg:onmsg: ",e),setTimeout((function(){t.options.onmsg(i.copy(e))}),0))})).then(void 0,(function(e){e.callFunc="msg::handleMsg",t.onCustomError("消息处理错误",e)}))},s.putMsg=function(e,t){if(i.isArray(e)||(e=[e]),e[0].filter)return Promise.resolve(e);var n=this,s=n.db,o=s.enable,a=Promise.resolve(),c=n.message.Message.getLastMsg(e),u=c.flow,l=c.sessionId!==n.currSessionId,d=n.genSessionByMsgs(e);p(d);var f=!1,m=[];function p(e){"roamingMsgs"!==t&&"offlineMsgs"!==t||n.cacheSyncedSession(e)}return n.checkIgnore(e),n.logger.log("start"),a=(a=(a=a.then((function(){return o||n.options.autoMarkRead||"roamingMsgs"===t||!d||(n.sessionUnreadMsgs=n.sessionUnreadMsgs||{},n.sessionUnreadMsgs[d.id]=n.sessionUnreadMsgs[d.id]||[],n.sessionUnreadMsgs[d.id]=n.sessionUnreadMsgs[d.id].concat(e.filter((function(e){return n.options.shouldCountNotifyUnread(e)})))),"offlineMsgs"===t||"roamingMsgs"===t?Promise.reject(e):o?s.putMsg(e):e})).then((function(t){var s=[];return e.forEach((function(e){n.checkMsgUnique(e)&&s.push(e)})),e=s,m=o?t:e,Promise.resolve(e)}))).then((function(e){return e.length&&o&&d?new Promise((function(t,i){s.getSessions({sessionId:d.id}).then((function(i){if(i&&i.lastMsg){var r=i.lastMsg;d.lastMsg&&d.lastMsg.time<r.time&&(d.lastMsg=r)}n.logger.log("msg::putMsg:db.getSessions: ",d),m&&m.length?d?s.putSession(d).then((function(e){t(e)})):t(i):(f=!0,m=e,t(i))}))})):Promise.resolve(d)}))).then((function(e){if(d&&m.length){var i="roamingMsgs"===t,a=n.options.syncSessionUnread,c=d.id,h=n.findSession(c)||{},g=h.ack||0;if("offlineMsgs"===t||i&&a||"onMsg"===t&&"in"===u&&l){o&&e?(d=e,g=g||d.ack||0):(e=h)&&(d.unread=e.unread||0),p(d),d.unread=d.unread||0;var v=0;if(m.forEach((function(e){var t=n.options.shouldCountNotifyUnread(e),s=("notification"!==e.type||"notification"===e.type&&t)&&(r(e.isUnreadable)||e.isUnreadable);if(s&&a&&(s=e.time>g&&"out"!==e.flow),s&&(v++,a&&!o)){var i=h.unreadMsgs||[];i.push(e),d.unreadMsgs=i}})),d.unread+=v,n.logger.log("msg::putMsg:updateSession: ",d),p(d),o&&!f)return s.updateSession({id:d.id,unread:d.unread})}}})),"onMsg"===t?a=a.then((function(){e.length&&d&&(n.onUpdateSession(d),n.options.syncSessionUnread&&!l&&n.api.resetSessionUnread(n.currSessionId))})):"sendMsg"===t&&!l&&d&&d.lastMsg&&d.lastMsg.isLocal&&(n.onUpdateSession(d),n.api.resetSessionUnread(n.currSessionId)),a.then((function(){return Promise.resolve(e)})).catch((function(e){return e&&e.length?Promise.resolve(e):Promise.reject(e)}))},s.putBroadcastMsgs=function(e){var t=this,n=t.db,s=e.length;if(s>0){if(t.doMarkBroadcastMsgsRead(e),n.enable){var r=e[s-1].broadcastId;return n.updateBroadcastMsgTimetag(r),n.putBroadcastMsg(e).then((function(){return setTimeout((function(){t.doMarkMsgsRead(),t.options.onbroadcastmsgs(i.copy(e))}),0),Promise.resolve(e)}))}setTimeout((function(){t.options.onbroadcastmsgs(i.copy(e))}),0)}return e},s.putBroadcastMsg=function(e){var t=this,n=t.db;return t.doMarkBroadcastMsgsRead([e]),n.enable?(e.broadcastId&&n.updateBroadcastMsgTimetag(e.broadcastId),n.putBroadcastMsg(e).then((function(){return setTimeout((function(){t.options.onbroadcastmsg(i.copy(e))}),0),Promise.resolve(e)}))):(setTimeout((function(){t.options.onbroadcastmsg(i.copy(e))}),0),e)},s.doMarkBroadcastMsgsRead=function(e){e=e.map((function(e){return e.broadcastId})),this.sendCmd("batchMarkRead",{sid:7,cid:17,ids:e})},s.cacheSyncedSession=function(e){if(e&&this.syncResult){e=i.merge({},e),this.syncResult.sessions=this.syncResult.sessions||{};var t=e.id,n=this.syncResult.sessions[t];n&&n.ack<e.ack&&delete e.ack,n&&n.msgReceiptTime<e.msgReceiptTime&&delete e.msgReceiptTime,this.syncResult.sessions[t]=i.merge(n,e),this.mergeSession(this.syncResult.sessions[t])}},s.checkMsgUnique=i.genCheckUniqueFunc("idClient"),s.storeSendMsg=function(e){if(!this.syncing){var t=this.putMsg(e,"sendMsg");return this.msgPromise=this.msgPromise.then((function(){return t})),t}this.unhandledMsgs.push({type:"sendMsg",msg:e})},s.updateSendMsgError=function(e){if(!this.syncing){var t=this.updateMsg(e);return this.msgPromise=this.msgPromise.then((function(){return t})),t}this.unupdatedMsgs.push(e)},s.onSendMsg=function(e,t){var n=this,s=e.obj&&e.obj.msg||e.content.msg;if(e.obj)r();else{var i=n.db;i&&i.enable&&i.getMsgByIdClient(s.idClient).then((function(e){e&&(s=e,r())})).catch((function(e){return r()}))}function r(){n.completeMsg(s);var i=e.error&&7101===e.error.code;e.error&&!i||(s.idServer=e.content.msg.idServer,s.time=+e.content.msg.time),i&&(s.isInBlackList=!0),e.error?s.status="fail":s.status="success",s=n.message.reverse(s),t&&(s.filter=!0),e.obj=s,n.syncing?n.unupdatedMsgs.push(s):n.msgPromise=Promise.all([n.msgPromise,e.obj.promise]).then((function(e){return e.length||(s.resend=!0),n.updateMsg(s).then((function(){return n.options.syncSessionUnread&&n.currSessionId===s.sessionId&&n.api.resetSessionUnread(n.currSessionId),n.resolveMsgReceiptTask(s),s}))}))}},s.updateLocalMsg=function(e){var t=this.updateMsg(e);return this.msgPromise=this.msgPromise.then((function(){return t})),t},s.updateMsg=function(e){if(e.filter||this.options.shouldIgnoreMsg(e))return Promise.resolve(e);var t=this,n=t.db,s="success"===e.status,i=u.genSessionByMsg(e),r=!!e.isLocal;return n.enable?n.updateMsg(e).then((function(o){var a=n.updateSession(i),c=Promise.resolve();return s&&o&&!r&&(c=n.updateRoamingMsgTimetag(o.time),"superTeam"===e.scene&&(c=n.updateSuperTeamRoamingMsgTimetag(o.time))),t.onUpdateSession(i),Promise.all([a,c])})):(s&&!r&&(t.timetags.roamingMsgs=e.time),t.onUpdateSession(i),Promise.resolve(e))},s.updateRoamingMsgTimetag=function(e){var t=this.db;return t.enable?t.updateRoamingMsgTimetag(e):(this.timetags.roamingMsgs=e,Promise.resolve(e))},s.checkUserUpdate=function(e){var t=this,n=e.from;return n===t.account?Promise.resolve():new Promise((function(s){var r=t.userSet[n];if(r){var o=+r.updateTime,a=+e.userUpdateTime;!isNaN(o)&&!isNaN(a)&&i.isNumber(o)&&i.isNumber(a)&&o<a?c():s()}else c();function c(){t.api.getUser({account:n,sync:!0,done:function(e,n){e||setTimeout((function(){t.logger.log("user::checkUserUpdate: onupdateuser",n.account,n),t.options.onupdateuser(n)}),0),s()}})}}))},s.processUnsettledMsgs=function(){var e=this;e.unhandledMsgs.forEach((function(t){var n=t.msg;switch(t.type){case"onMsg":e.handleMsg(n);break;case"sendMsg":e.msgPromise=e.msgPromise.then((function(){return e.putMsg(n)}));break;case"onBroadcastMsg":e.msgPromise=e.msgPromise.then((function(){return e.putBroadcastMsg(n)}))}})),e.unupdatedMsgs.forEach((function(t){e.msgPromise=e.msgPromise.then((function(){return e.updateMsg(t)}))})),e.resetUnsettledMsgs()},s.onTeamNotificationMsg=function(e){this.db;var t=e.attach,n=t.type,s=e.from,i=e.to,r=e.time,o=t.team,a=t.account,c=t.accounts;switch(n){case"updateTeam":return o.updateTime=r,this.onUpdateTeam(o);case"addTeamMembers":return this.onAddTeamMembers(e,o,c);case"removeTeamMembers":return this.onRemoveTeamMembers(o,i,c);case"acceptTeamInvite":return this.onAddTeamMembers(e,o,[s]);case"passTeamApply":return this.onAddTeamMembers(e,o,[a]);case"addTeamManagers":return this.updateTeamManagers(e,i,c,!0,r);case"removeTeamManagers":return this.updateTeamManagers(e,i,c,!1,r);case"leaveTeam":return this.onRemoveTeamMembers(o,i,[s]);case"dismissTeam":return this.onDismissTeam(i,r);case"transferTeam":return this.transferTeam(e,o,s,a);case"updateTeamMute":return this.onUpdateTeamMembersMute(e,o,[a],t.mute);case"updateSuperTeam":return o.updateTime=r,this.onUpdateSuperTeam(o);case"addSuperTeamMembers":return this.onAddSuperTeamMembers(e,o,c);case"removeSuperTeamMembers":return this.onRemoveSuperTeamMembers(o,i,c);case"leaveSuperTeam":return this.onRemoveSuperTeamMembers(o,i,[s]);case"dismissSuperTeam":return this.onDismissSuperTeam(i,r);case"transferSuperTeam":return this.transferSuperTeam(e,o,s,a);case"addSuperTeamManagers":return this.updateSuperTeamManagers(e,i,c,!0,r);case"removeSuperTeamManagers":return this.updateSuperTeamManagers(e,i,c,!1,r);case"updateSuperTeamMembersMute":return this.onUpdateSuperTeamMembersMute(e,o,c,t.mute)}},s.onAddSuperTeamMembers=function(e,t,n){var s=this.db,r=(t.teamId,c.assembleMembers(t,n));e.attach.members=r;var o={team:t,accounts:n,members:r};if(this.logger.info("team::onAddSuperTeamMembers: ",o),this.options.onAddSuperTeamMembers(i.simpleClone(o)),s.enable){var a=s.putSuperTeamMembers(r),u=Promise.resolve();return n.indexOf(this.account)>-1&&t&&(u=s.putSuperTeam(t)),Promise.all([a,u])}},s.onRemoveSuperTeamMembers=function(e,t,n){var s=this.db,r={team:e,accounts:n};if(this.logger.info("team::onRemoveSuperTeamMembers:",r),this.options.onRemoveSuperTeamMembers(i.simpleClone(r)),s.enable){if(-1===n.indexOf(this.account)){var o=s.removeSuperTeamMembersByAccounts(t,n),a=Promise.resolve();return e&&(a=s.putSuperTeam(e)),Promise.all([o,a])}return s.leaveSuperTeam(t)}},s.onDismissSuperTeam=function(e,t){var n=this.db,s={teamId:e};if(this.logger.info("team::onDismissSuperTeam:",s),this.options.onDismissSuperTeam(s),n.enable)return n.dismissSuperTeam(e,t)},s.onAddTeamMembers=function(e,t,n){var s=this,r=s.db,o=t.teamId,c=a.assembleMembers(t,n);e.attach.members=c;var u={team:t,accounts:n,members:c};if(s.logger.info("team::onAddTeamMembers: ",u),s.options.onAddTeamMembers(i.simpleClone(u)),r.enable){var l,d=r.putTeam(t);return-1===n.indexOf(s.account)?l=r.putTeamMembers(c):(s.logger.warn("team::onAddTeamMembers: user join team",o),d=new Promise((function(e){s.api.getTeamMembers({teamId:o,sync:!0,done:function(){e()}})}))),Promise.all([l,d])}},s.onRemoveTeamMembers=function(e,t,n){var s=this.db,r={team:e,accounts:n};if(this.logger.info("team::onRemoveTeamMembers:",r),this.options.onRemoveTeamMembers(i.simpleClone(r)),s.enable){if(-1===n.indexOf(this.account)){var o=s.removeTeamMembersByAccounts(t,n),a=Promise.resolve();return e&&(a=s.putTeam(e)),Promise.all([o,a])}return s.leaveTeam(t)}},s.updateTeamManagers=function(e,t,n,s,r){var o=this.db,c=e.attach.members=n.map((function(e){return{id:a.genId(t,e),type:s?"manager":"normal",updateTime:r}})),u={teamId:""+t,memberUpdateTime:r};e.attach.team=u;var l={team:u,accounts:n,isManager:s,members:c};if(this.logger.info("team::updateTeamManagers:",l),this.options.onUpdateTeamManagers(i.simpleClone(l)),o.enable){var d=o.updateTeam(u),f=o.updateTeamManagers(t,n,s,r);return Promise.all([d,f])}},s.updateSuperTeamManagers=function(e,t,n,s,r){var o=this.db,c=e.attach.members=n.map((function(e){return{id:a.genId(t,e),teamId:t,account:e,type:s?"manager":"normal",updateTime:r}})),u={teamId:""+t,memberUpdateTime:r};e.attach.team=u;var l={team:u,accounts:n,isManager:s,members:c};if(this.logger.info("team::updateSuperTeamManagers:",l),this.options.onUpdateSuperTeamManagers(i.simpleClone(l)),o.enable){var d=o.updateSuperTeam(u),f=o.updateSuperTeamMembers(c);return Promise.all([d,f])}},s.onDismissTeam=function(e,t){var n=this.db,s={teamId:e};if(this.logger.info("team::onDismissTeam:",s),this.options.onDismissTeam(s),n.enable)return n.dismissTeam(e,t)},s.transferTeam=function(e,t,n,s){var r=this.db,o=t.teamId,c=t.memberUpdateTime,u={id:a.genId(o,n),type:"normal",updateTime:c},l={id:a.genId(o,s),type:"owner",updateTime:c};e.attach.members=[u,l];var d={team:t,from:u,to:l};if(this.logger.info("team::transferTeam:",d),this.options.onTransferTeam(i.simpleClone(d)),r.enable)return r.transferTeam(t,n,s)},s.transferSuperTeam=function(e,t,n,s){var r=this.db,o=t.teamId,a=t.memberUpdateTime,c={teamId:o,type:"normal",account:n,updateTime:a},u={teamId:o,type:"owner",account:s,updateTime:a};e.attach.members=[c,u];var l={team:t,from:c,to:u};if(this.logger.info("team::transferSuperTeam:",l),this.options.onTransferSuperTeam(i.simpleClone(l)),r.enable)return r.transferSuperTeam(t,c,u)},s.onUpdateTeamMembersMute=function(e,t,n,s){var r=this.db,o=n.map((function(e){return{id:a.genId(t.teamId,e),account:e,teamId:t.teamId,mute:s,updateTime:t.memberUpdateTime}}));e.attach.members=o;var c={team:t,accounts:n,members:o,mute:s};if(this.logger.info("team::onUpdateTeamMembersMute:",c),this.options.onUpdateTeamMembersMute(i.simpleClone(c)),r.enable){var u=r.updateTeamMembers(o),l=r.putTeam(t);return Promise.all([u,l])}},s.onUpdateSuperTeamMembersMute=function(e,t,n,s){var r=this.db,o=n.map((function(e){return{id:c.genId(t.teamId,e),account:e,teamId:t.teamId,mute:s,updateTime:t.memberUpdateTime}}));e.attach.members=o;var a={team:t,accounts:n,members:o,mute:s};if(this.logger.info("team::onUpdateSuperTeamMembersMute:",a),this.options.onUpdateSuperTeamMembersMute(i.simpleClone(a)),r.enable){var u=r.updateSuperTeamMembers(o),l=r.putSuperTeam(t);return Promise.all([u,l])}},s.onHistoryMsgs=function(e){e.error||(e.obj.msgs=this.message.reverseMsgs(e.content.msgs))},s.isFilterMsgs=function(e){return!!e[0].filter},s.splitMsgs=function(e,t,n,s){e.forEach((function(e){if(e.filter)s.push(e);else switch(e.scene){case"p2p":t.push(e);break;case"team":n.push(e)}}))},s.markMsgRead=function(e,t){if(i.isArray(e)||(e=[e]),this.db.enable||this.options.autoMarkRead||t){var n=[],s=[],r=[];this.splitMsgs(e,n,s,r),this.markP2pMsgsRead(n),this.markTeamMsgsRead(s),this.markFilterMsgsRead(r)}},s.markP2pMsgsRead=function(e){if(e.length){var t=l.idMap.msg.id,n=l.idMap.msg.msg;this.doMarkMsgsRead(t,n,e)}},s.markTeamMsgsRead=function(e){if(e.length){var t=l.idMap.team.id,n=l.idMap.team.teamMsg;this.doMarkMsgsRead(t,n,e)}},s.markFilterMsgsRead=function(e){if(e.length){var t=l.idMap.filter.id,n=l.idMap.filter.filterMsg;this.doMarkMsgsRead(t,n,e)}},s.markSysMsgRead=function(e,t){var n,s;i.isArray(e)||(e=[e]),(this.db.enable||this.options.autoMarkRead||t)&&(this.isFilterMsgs(e)?(n=l.idMap.filter.id,s=l.idMap.filter.filterSysMsg):"superTeam"===e[0].scene?(n=l.idMap.superTeam.id,s=l.idMap.superTeam.superTeamCustomSysMsg):(n=l.idMap.msg.id,s=l.idMap.msg.sysMsg),this.doMarkMsgsRead(n,s,e))},s.doMarkMsgsRead=function(e,t,n){n&&n.length&&(!n[0].attach||"netcallBill"!==n[0].attach.type&&"netcallMiss"!==n[0].attach.type||(e=9,t=11),this.sendCmd("batchMarkRead",{sid:e,cid:t,ids:n.map((function(e){return e.idServer}))}))}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0),r=n(105);s.processNotify=function(e){switch(e.cmd){case"syncOfflineNetcallMsgs":case"syncOfflineMsgs":this.onOfflineMsgs(e);break;case"batchMarkRead":break;case"syncOfflineSysMsgs":case"syncOfflineSuperTeamSysMsgs":this.onOfflineSysMsgs(e);break;case"syncRoamingMsgs":case"syncSuperTeamRoamingMsgs":this.onRoamingMsgs(e);break;case"syncOfflineFilterMsgs":this.onOfflineMsgs(e,!0);break;case"syncOfflineFilterSysMsgs":this.onOfflineSysMsgs(e,!0);break;case"syncMsgReceipts":this.onOfflineMsgReceipts(e);break;case"syncDonnop":this.onDonnop(e,!0);break;case"syncSessionAck":this.syncSessionAck(e);break;case"syncSuperTeamSessionAck":this.syncSuperTeamSessionAck(e);break;case"syncRobots":this.onRobots(e);break;case"syncBroadcastMsgs":this.onBroadcastMsgs(e);break;case"syncDeleteSuperTeamMsgOfflineRoaming":this.onDeleteMsgOfflineRoaming(e)}},s.onDonnop=function(e,t){if(!e.error){var n=this,s=n.db,i=r.reverse(e.content.donnop);n.mergeDonnop(i);var o=n.dbDonnop();if(t){var a=e.content.timetag;n.timetags.donnop=a,s.enable&&(o=o.then((function(){return n.db.updateDonnopTimetag(a)})).catch((function(e){return n.logger.error("notify::onDonnop: ",e),Promise.reject(e)}))),o.cmd="donnop",n.syncPromiseArray.push(o)}else n.onPushNotificationMultiportConfigUpdate()}},s.onUpdateDonnop=function(e){if(!e.error){var t=e.obj;t&&(this.mergeDonnop(i.filterObj(t,["shouldPushNotificationWhenPCOnline"])),this.dbDonnop(),this.onPushNotificationMultiportConfigUpdate())}},s.getPushNotificationMultiportConfig=function(){return i.merge({},this.pushNotificationMultiportConfig)},s.mergeDonnop=function(e){this.pushNotificationMultiportConfig=i.merge({},this.pushNotificationMultiportConfig,e)},s.dbDonnop=function(){return this.db.enable?this.db.setDonnop(this.pushNotificationMultiportConfig):Promise.resolve()},s.onPushNotificationMultiportConfigUpdate=function(){var e=this;setTimeout((function(){var t=e.getPushNotificationMultiportConfig();e.logger.info("link::onPushNotificationMultiportConfigUpdate:",t),e.options.onPushNotificationMultiportConfigUpdate(t)}))}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0),r=i.objs2accounts,o=i.teams2ids,a=n(107),c=n(78);s.processSuperTeam=function(e){var t,n,s,i=e.error;switch(void 0===e.obj&&(e.obj={}),e.cmd){case"sendSuperTeamMsg":this.onSendMsg(e);break;case"superTeamMsg":this.onMsg(e);break;case"sendSuperTeamCustomSysMsg":this.onSendSysMsg(e);break;case"superTeamCustomSysMsg":this.onSysMsg(e);break;case"syncSuperTeams":this.onSuperTeams(e);break;case"syncCreateSuperTeam":t=a.reverse(e.content.team),s=c.assembleOwner(t),this.logger.info("team::processTeam: sync createTeam",t,s),this.options.onSyncCreateSuperTeam(t,s),this.onCreateSuperTeam(t,s);break;case"getSuperTeamHistoryMsgs":case"searchSuperTeamHistoryMsgs":this.onHistoryMsgs(e);break;case"addSuperTeamMembers":case"removeSuperTeamMembers":case"leaveSuperTeam":case"addSuperTeamManagers":case"removeSuperTeamManagers":case"transferSuperTeam":break;case"updateInfoInSuperTeam":i||((n=e.obj).account=this.account,n.id=c.genId(n.teamId,n.account),n=c.reverse(n),e.obj=n,this.onUpdateSuperTeamMember(n));break;case"updateNickInTeam":e.obj=c.reverse(e.obj);break;case"syncUpdateSuperTeamMember":n=c.reverse(e.content.teamMember),this.onUpdateSuperTeamMember(n);break;case"updateSuperTeam":e.obj=a.reverse(e.obj,!0);break;case"getSuperTeam":e.error||(e.obj=a.reverse(e.content.team));break;case"getSuperTeams":this.onSuperTeams(e);break;case"syncSuperTeamMembers":this.onSyncSuperTeamMembers(e);break;case"getSuperTeamMembers":e.error||this.onGetAllSuperTeamMembers(e);break;case"getSuperTeamMembersByJoinTime":e.error||this.onSuperTeamMembers(e);break;case"onDeleteSuperTeamMsg":this.onDeleteMsg(e);break;case"onSuperTeamMsgDelete":this.onMsgDeleted(e,!0);break;case"onMarkSuperTeamSessionAck":this.onMarkSessionAck(e);break;case"syncMarkSuperTeamSessionAck":this.syncMarkSessionAck(e)}},s.onSuperTeams=function(e){e.content=e.content||{};var t,n=this,s=n.db,i=n.packetFromSync(e),r=e.content.teams||[],c=!0,u=[],l=[];if(e.error)switch(e.error.code){case 803:e.error=null,c=!1}var d=new Promise((function(d,m){var p,h;e.error?i&&m(e.error):(function(){c&&r.forEach((function(e){(e=a.reverse(e)).validToCurrentUser?u.push(e):l.push(e)})),n.logger.info("superTeam::onSuperTeams: parseData",o(u),u,"invalid",o(l),l),r.length?(c=!0,t=e.content.timetag):c=!1}(),s.enable?(p=d,h=m,e.promise=new Promise((function(e,r){function o(){i?(f(),e(),p()):s.getSuperTeams().then((function(t){u=t,f(),e(),p()})).then(void 0,(function(e){e.message="db.getSuperTeams error",e.callFunc="superTeam::afterMergeData",r(e),h(e)}))}c?s.mergeSuperTeams(u,l,t).then((function(){o()})).then(void 0,(function(e){var t={callFunc:"superTeam::onSuperTeams:mergeData",message:"db.mergeSuperTeams error",event:e};r(t),h(t)})):(n.logger.warn("superTeam::onSuperTeams:mergeData: no teams need merge"),o())})).then(void 0,(function(e){throw e.message="merge teams data error",e.callFunc="superTeam::mergeData",h(e),e}))):(f(),d()))})).catch((function(e){return n.logger.error("superTeam::onSuperTeams: ",e),Promise.reject(e)}));function f(){n.timetags.superTeams=t,u.invalid=l,i?(n.syncResult.superTeams=u,n.syncResult.invalidSuperTeams=l):(n.logger.info("superTeam::onSuperTeams: not in syncing, get teams",o(u),u),e.obj=u)}i&&(d.cmd="superteams",n.syncPromiseArray.push(d))},s.onCreateSuperTeam=function(e,t){var n=this.db;n.enable&&(n.putSuperTeam(e),n.putSuperTeamMembers(t))},s.onGetAllSuperTeamMembers=function(e){var t=this,n=this.db,s=e.raw.ser,i=t.superTeamMembersData[s].teamId;if(n.enable){var r=e.content&&e.content.timetag;e.promise=Promise.all(t.superTeamMembersData[s].pArr).then((function(){return n.getSuperTeamMembers(i).then((function(t){r&&n.updateSuperTeamMemberTimetag(i,r),e.obj={members:t,invalid:[],teamId:i}}))})).catch((function(e){return t.logger.error(e)}))}else e.obj={members:t.superTeamMembersData[s].members,invalid:t.superTeamMembersData[s].invalid,teamId:i};t.superTeamMembersData[s]=void 0},s.onSyncSuperTeamMembers=function(e){var t,n=this.db,s=[],i=[],o=e.content.members||[],a=e.raw.ser;if(e.obj&&(t=e.obj.teamId),t||(t=e.content.teamId),o.forEach((function(e){(e=c.reverse(e)).valid?i.push(e):s.push(e)})),this.logger.info("team::onSyncSuperTeamMembers: parseData",t,r(i),i,"invalid",r(s),s),n.enable){this.superTeamMembersData[a]=this.superTeamMembersData[a]||{teamId:t,pArr:[]};var u=Promise.resolve();e.content&&e.content.isAll&&(u=n.deleteSuperTeamMembers(t));var l=u.then((function(){return n.mergeSuperTeamMembers(t,i,s)})).then((function(){return Promise.resolve()}));this.superTeamMembersData[a].pArr.push(l)}else this.superTeamMembersData[a]=this.superTeamMembersData[a]||{teamId:t,members:[],invalid:[]},i.length&&(this.superTeamMembersData[a].members=this.api.mergeTeamMembers(this.superTeamMembersData[a].members,i)),s.length&&(this.superTeamMembersData[a].invalid=this.api.mergeTeamMembers(this.superTeamMembersData[a].invalid,s));e.raw=void 0},s.onSuperTeamMembers=function(e){var t,n=this.db,s=[],i=[],o=e.content.members||[];e.obj&&(t=e.obj.teamId),t||(t=e.content.teamId),o.forEach((function(e){(e=c.reverse(e)).valid?i.push(e):s.push(e)})),this.logger.info("team::onSyncSuperTeamMembers: parseData",t,r(i),i,"invalid",r(s),s),n.enable&&n.mergeSuperTeamMembers(t,i,s),e.obj={members:i,invalid:s,teamId:t}},s.onUpdateSuperTeamMember=function(e){e.updateTime||(e.updateTime=+new Date),this.logger.warn("superTeam::onUpdateSuperTeamMember: ",e),this.options.onUpdateSuperTeamMember(i.simpleClone(e));var t={teamId:e.teamId,memberUpdateTime:e.updateTime};this.onUpdateSuperTeam(t);var n=this.db;n.enable&&n.updateSuperTeamMember(e)},s.onUpdateSuperTeam=function(e){this.logger.info("superteam::onUpdateSuperTeam:",e),this.options.onUpdateSuperTeam(i.simpleClone(e));var t=this.db;t.enable&&t.updateSuperTeam(e)}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0),r=i.objs2accounts,o=i.teams2ids,a=n(62),c=n(52);s.processTeam=function(e){var t=e.error,n=void 0,s=void 0,i=void 0;switch(void 0===e.obj&&(e.obj={}),e.cmd){case"createTeam":if(n=e.obj.team,t||(n=e.content.team),n=a.reverse(n),e.obj.team=n,i=c.assembleOwner(n),e.obj.owner=i,!t){var r={team:n,owner:i};this.logger.info("team::processTeam: create team",r),this.onCreateTeam(n,i)}break;case"syncCreateTeam":n=a.reverse(e.content.team),i=c.assembleOwner(n),this.logger.info("team::processTeam: sync createTeam",n,i),this.options.onsynccreateteam(n,i),this.onCreateTeam(n,i);break;case"sendSuperTeamMsg":case"sendTeamMsg":this.onSendMsg(e);break;case"teamMsg":this.onMsg(e);break;case"teamMsgs":this.onMsgs(e);break;case"addTeamMembers":case"removeTeamMembers":case"leaveTeam":case"dismissTeam":case"addTeamManagers":case"removeTeamManagers":case"transferTeam":break;case"updateInfoInTeam":t||((s=e.obj).account=this.account,s.id=c.genId(s.teamId,s.account),s=c.reverse(s),e.obj=s,this.mergeMyTeamMembers(s),this.onUpdateTeamMember(s));break;case"updateNickInTeam":e.obj=c.reverse(e.obj);break;case"updateTeam":e.obj=a.reverse(e.obj,!0);break;case"applyTeam":e.error||(e.obj=a.reverse(e.content.team));break;case"passTeamApply":this.updateTeamSysMsgState(e,"passed");break;case"rejectTeamApply":this.updateTeamSysMsgState(e,"rejected");break;case"acceptTeamInvite":this.updateTeamSysMsgState(e,"passed"),e.error||(e.obj=a.reverse(e.content.team));break;case"rejectTeamInvite":this.updateTeamSysMsgState(e,"rejected");break;case"getTeam":e.error||(e.obj=a.reverse(e.content.team));break;case"getTeams":this.onTeams(e);break;case"getTeamMembers":this.onTeamMembers(e);break;case"syncTeams":this.onTeams(e);break;case"syncTeamMembers":this.onTeamMembers(e);break;case"getTeamHistoryMsgs":case"searchTeamHistoryMsgs":this.onHistoryMsgs(e);break;case"syncSendTeamMsg":this.onMsg(e);break;case"notifyTeamMsgReads":this.onTeamMsgReceipt(e);break;case"syncUpdateTeamMember":s=c.reverse(e.content.teamMember),this.onUpdateTeamMember(s),s.account===this.account&&this.mergeMyTeamMembers(s);break;case"updateMuteStateInTeam":break;case"getMyTeamMembers":e.error||(e.obj=c.reverseMembers(e.content.teamMembers));break;case"getMutedTeamMembers":e.error||(e.obj={teamId:e.obj.teamId,members:c.reverseMembers(e.content.teamMembers)});break;case"syncMyTeamMembers":this.onSyncMyTeamMembers(e)}},s.onCreateTeam=function(e,t){var n=this.db;n.enable&&(n.putTeam(e),n.putTeamMembers(t)),this.options.onCreateTeam(e,t)},s.onTeams=function(e){e.content=e.content||{};var t,n=this,s=n.db,i=n.packetFromSync(e),r=e.content.teams||[],c=!0,u=[],l=[];if(e.error)switch(e.error.code){case 803:e.error=null,c=!1}var d=new Promise((function(d,m){var p,h;e.error?i&&m(e.error):(function(){c&&r.forEach((function(e){(e=a.reverse(e)).validToCurrentUser?u.push(e):l.push(e)})),n.logger.info("team::onTeams: parseData",o(u),u,"invalid",o(l),l),r.length?(c=!0,t=e.content.timetag):c=!1}(),s.enable?(p=d,h=m,e.promise=new Promise((function(e,r){function o(){i?(f(),e(),p()):s.getTeams().then((function(t){u=t,f(),e(),p()})).catch((function(e){e.message="db.getTeams error",e.callFunc="team::afterMergeData",r(e),h(e)}))}c?s.mergeTeams(u,l,t).then((function(){o()})).catch((function(e){var t={callFunc:"team::onTeams:mergeData",message:"db.mergeTeams error",event:e};r(t),h(t)})):(n.logger.warn("team::onTeams:mergeData: no teams need merge"),o())})).then(void 0,(function(e){throw e.message="merge teams data error",e.callFunc="team::mergeData",h(e),e}))):(f(),d()))})).catch((function(e){return n.logger.error("team::onTeams: ",e),Promise.reject(e)}));function f(){n.timetags.teams=t,u.invalid=l,i?(n.syncResult.teams=u,n.syncResult.invalidTeams=l,n.syncing||n.onSyncDone()):(n.logger.info("team::onTeams: not in syncing, get teams",o(u),u),e.obj=u)}i&&(d.cmd="teams",n.syncPromiseArray.push(d))},s.onTeamMembers=function(e){e.content=e.content||{};var t,n,s=this,i=(s.db,s.packetFromSync(e)),o=e.content.members||[],a=!0,u=[],l=[];if(e.obj&&(n=e.obj.teamId),n||(n=e.content.teamId),n=""+n,e.error)switch(e.error.code){case 406:e.error=null,a=!1}var d=new Promise((function(d,f){e.error?i&&(s.logger.error("team::onTeamMember: team error:",n,e.error),f({callFunc:"team::onTeamMembers",event:e.error,message:"teamId-"+n+" 获取群成员错误"})):(function(){a&&o.forEach((function(e){(e=c.reverse(e)).valid?u.push(e):l.push(e)})),s.logger.warn("team::onTeamMembers: parseData",n,r(u),u,"invalid",r(l),l),o.length?(a=!0,t=e.content.timetag):a=!1}(),u.invalid=l,i?(s.syncTeamMembersResult[n]=u,s.syncTeamMembersResult[n+"-invalid"]=l,s.timetags["team-"+n]=t):(s.logger.info("team::onTeamMembers: not syncing, get members",n,r(u),u),e.obj={teamId:n,members:u}),d())}));i&&(d.cmd=n,s.syncTeamMembersPromiseArray.push(d))},s.onUpdateTeamMember=function(e){e.updateTime||(e.updateTime=+new Date),this.logger.info("team::onUpdateTeamMember: ",e),this.options.onupdateteammember(i.simpleClone(e));var t={teamId:e.teamId,memberUpdateTime:e.updateTime};this.onUpdateTeam(t);var n=this.db;n.enable&&n.updateTeamMember(e)},s.onUpdateTeam=function(e){this.logger.info("team::onUpdateTeam:",e),this.options.onUpdateTeam(i.simpleClone(e));var t=this.db;t.enable&&t.updateTeam(e)},s.onSyncMyTeamMembers=function(e){var t=this,n=t.db,s=c.reverseMembers(e.content.teamMembers);if(t.logger.info("team::onSyncMyTeamMembers:",s),n.enable){var i=n.putTeamMembers(s).then((function(){return n.updateMyTeamMembersTimetag(e.content.timetag)})).catch((function(e){return t.logger.error("team::syncMyTeamMember: ",e),Promise.reject(e)}));i.cmd="myTeamMembers",t.syncTeamMembersPromiseArray.push(i)}t.mergeMyTeamMembers(s)},s.mergeMyTeamMembers=function(e){i.isArray(e)||(e=[e]);var t=this.myTeamMembersMap=this.myTeamMembersMap||{};e.forEach((function(e){var n=e.teamId;t[n]=i.merge(t[n],e)})),this.logger.info("team::mergeMyTeamMembers:",t)},s.notifyForNewTeamMsg=function(e){i.isArray(e)||(e=[e]);var t=this,n=this.myTeamMembersMap||{},s={},r=[];e.forEach((function(e){i.exist(n[e])?s[e]=n[e].muteNotiType:r.push(e)}));var o=Promise.resolve({map:s});return r.length&&(o=t.api.getMyTeamMembers({teamIds:r,promise:!0}).then((function(n){t.mergeMyTeamMembers(n),n.forEach((function(e){s[e.teamId]=e.muteNotiType}));var i=e.filter((function(e){return!s[e]}));return Promise.resolve({map:s,miss:i})})).catch((function(e){return Object.keys(s).length>0?Promise.resolve({map:s,miss:r,error:e}):Promise.reject(e)}))),o},s.updateTeamSysMsgState=function(e,t){var n,s=e.error;s&&(t="error",s=i.filterObj(s,"code message")),n={idServer:e.obj.idServer,state:t},s&&(n.error=s),this.updateSysMsg(n)},s.onTeamMsgReceipt=function(e){var t=e.content,n=e.error;n&&this.logger.error("team::onTeamMsgReceipt:",n),t&&t.teamMsgReceipts&&this.options.onTeamMsgReceipt(t)}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0);s.onRobots=function(e){var t=e.content;if(i.isFunction(this.options.onrobots)&&Array.isArray(t.robots)){var n=t.robots.filter((function(e){return!!e.botid}));n.length>0&&this.options.onrobots(n||[])}}},function(e,t,n){"use strict";var s=n(6).fn,i=n(0),r=i.objs2accounts,o=n(150),a=n(77);s.processFriend=function(e){var t=e.obj,n=e.content,s=e.error;switch(e.cmd){case"friendRequest":this.updateFriendSysMsg(e),s||this.onFriendRequest(t);break;case"syncFriendRequest":this.onFriendRequest(n,!0);break;case"deleteFriend":s||this.onDeleteFriend(t);break;case"syncDeleteFriend":this.onDeleteFriend(n,!0);break;case"updateFriend":s||this.onUpdateFriend(t);break;case"syncUpdateFriend":this.onUpdateFriend(n.friend,!0);break;case"getFriends":case"syncFriends":this.onFriends(e);break;case"syncFriendUsers":this.onFriendUsers(e)}},s.onFriends=function(e){var t,n=this,s=n.db,i=e.error,a=n.packetFromSync(e),c=e.content.friends,u=!0,l=[],d=[],f=new Promise((function(f,p){var h,g;i?a&&p(i):(function(){u&&c.forEach((function(e){(e=o.reverse(e)).valid?l.push(e):d.push(e)})),n.logger.info("friend::onFriends: parse friends",r(l),l,"delete",r(d),d),c.length?(u=!0,t=e.content.timetag):u=!1}(),s.enable?(h=f,g=p,e.promise=new Promise((function(e,i){function r(){a?(m(),e(),h()):s.getFriends().then((function(t){l=t,m(),e(),h()})).then(void 0,(function(e){e._msg="get friends error",i(e),g(e)}))}u?s.mergeFriends(l,d,t).then((function(){r()})).then(void 0,(function(e){e._msg="merge friends error",i(e),g(e)})):(n.logger.info("friend::onFriends: no merge friends"),r())})).then(void 0,(function(e){throw e._msg="merge friends data error",g(e),e}))):(m(),f()))})).catch((function(e){return n.logger.error("friend::onFriends: ",e),Promise.reject(e)}));function m(){n.timetags.friends=t,l.invalid=d,a?(n.syncResult.friends=l,n.syncResult.invalidFriends=d):(n.logger.info("friend::onFriends: get friends bingo",r(l),l),e.obj=l)}a&&(f.cmd="friends",n.syncPromiseArray.push(f))},s.onFriendRequest=function(e,t){var n=Promise.resolve(),s=this.db,i=e.type;if("addFriend"===(i=e.type=o.getTypeFromByte(i)||i)||"passFriendApply"===i){var r=e.friend=o.assembleFriend(e.account);s.enable&&(n=s.putFriend(r))}return t&&this.onSyncFriendAction(e),n},s.onSyncFriendAction=function(e){this.logger.info("friend::onSyncFriendActionon:",e),this.options.onsyncfriendaction(e)},s.onDeleteFriend=function(e,t){var n=Promise.resolve(),s=this.db;return s.enable&&(n=s.deleteFriend(e.account)),t&&(e.type="deleteFriend",this.onSyncFriendAction(e)),n},s.onUpdateFriend=function(e,t){var n=this.db,s=o.reverse(e);n.enable&&n.updateFriend(s),t&&this.onSyncFriendAction({type:"updateFriend",friend:s})},s.onFriendUsers=function(e){var t=this.db,n=e.content,s=n.users.map((function(e){return a.reverse(e)}));this.logger.warn("friend::onFriendUsers: parse users",r(s),s);var i=n.timetag,o=Promise.resolve();t.enable&&(o=t.mergeFriendUsers(s,i)),this.timetags.friendUsers=i,o.cmd="friendUsers",this.syncPromiseArray.push(o),this.syncResult.users=s,this.syncing||this.onSyncDone()},s.updateFriendSysMsg=function(e){var t,n,s=e.obj,r=e.error;if(e.obj.idServer){if(r)t="error",r=i.filterObj(r,"code message");else{var a=s.type;switch(a=o.getTypeFromByte(a)||a){case"passFriendApply":t="passed";break;case"rejectFriendApply":t="rejected"}}n={idServer:s.idServer,state:t},r&&(n.error=r),this.updateSysMsg(n)}}},function(e,t,n){"use strict";var s=n(0);function i(){}i.parse=function(e){var t=s.copy(e);return t.isBlacked="1"===t.isBlacked,t.isMuted="1"===t.isMuted,t.createTime=+t.createTime,t.updateTime=+t.updateTime,t},e.exports=i},function(e,t,n){"use strict";var s=n(6).fn,i=n(0),r=i.objs2accounts,o=n(276),a=n(77);s.processUser=function(e){var t,n=this,s=n.db,i=e.obj,r=e.error,o=e.content;switch(e.cmd){case"markInBlacklist":r||n.markInBlacklist(i);break;case"syncMarkInBlacklist":n.markInBlacklist(o,!0);break;case"markInMutelist":r||n.markInMutelist(i);break;case"syncMarkInMutelist":n.markInMutelist(o,!0);break;case"getRelations":r||n.onRelations(e);break;case"syncMyInfo":n.onMyInfo(e,!0);break;case"updateMyInfo":r||(i.updateTime=o.timetag,n.onUpdateMyInfo(e,i));break;case"syncUpdateMyInfo":n.onUpdateMyInfo(e,o.user,!0);break;case"getUsers":r||(t=o.users.map((function(e){return e=a.reverse(e),n.mergeUser(e),e})),e.obj=t,s.enable&&s.putUsers(t));break;case"updateDonnop":n.onUpdateDonnop(e);break;case"syncUpdateDonnop":n.onDonnop(e,!1)}},s.onMyInfo=function(e){var t=this,n=t.db,s=e.error,i=e.content,r=!0,o=void 0,c=new Promise((function(e,c){var l,d;s?r&&(s&&(s.callFunc="user::onMyInfo"),e(s),t.syncData()):(o=a.reverse(i.user),t.logger.info("user::onMyInfo: parseData",o),n.enable?(l=e,d=c,n.mergeMyInfo(o,r).then((function(){u(),l()})).then(void 0,(function(e){e.message="db.mergeMyInfo error",e.callFunc="user::onMyInfo",d(e)}))):(u(),e()))})).catch((function(e){return t.logger.error("user::onMyInfo: ",e),Promise.reject(e)}));function u(){t.timetags.myInfo=o.updateTime,r&&(t.syncResult.myInfo=o)}r&&(c.cmd="myInfo",t.syncPromiseArray.push(c))},s.onUpdateMyInfo=function(e,t,n){var s=this.db,r=a.reverse(t),o=i.merge(this.myInfo,r);this.myInfo=o,n?(this.logger.info("user::onUpdateMyInfo:",o),this.options.onupdatemyinfo(o)):e.obj=o,s.enable&&(r.account=this.account,s.updateUser(r))},s.onRelations=function(e){var t=this,n=t.db,s=e.error,i=t.packetFromSync(e),a=e.content.specialRelations,c=!0,u=void 0,l=[],d=[],f=[],m=[],p=new Promise((function(p,g){var v,y;s?i&&(p(s),t.syncData()):(a.forEach((function(e){var t={account:(e=o.parse(e)).account,createTime:e.createTime,updateTime:e.updateTime};e.isBlacked?l.push(t):d.push(t),e.isMuted?f.push(t):m.push(t)})),t.logger.info("user::onRelations: parse blacklist",r(l),l,"delete",r(d),d),t.logger.info("user::onRelations: parse mutelist",r(f),f,"delete",r(m),m),a.length?(c=!0,u=e.content.timetag):c=!1,n.enable?(v=p,y=g,e.promise=new Promise((function(e,s){function r(){i?(h(),e(),v()):n.getRelations().then((function(t){l=t[0],f=t[1],h(),e(),v()})).then(void 0,(function(e){e.message="db.getRelations error",e.callFunc="user::onRelations",s(e),y(e)}))}c?n.mergeRelations(l,d,f,m,u).then((function(){r()})).then(void 0,(function(e){e.message="db.mergeRelations error",e.callFunc="user::onRelations",s(e),y(e)})):(t.logger.warn("user::onRelations: no relations need merge"),r())})).then(void 0,(function(e){throw e.message="merge relations data error",e.callFunc="user::onRelations",y(e),e}))):(h(),p()))})).catch((function(e){return t.logger.error("user::onRelations: ",e),Promise.reject(e)}));function h(){t.timetags.relations=u,l.invalid=d,f.invalid=m,i?(t.syncResult.blacklist=l,t.syncResult.mutelist=f,t.syncResult.invalidBlacklist=d,t.syncResult.invalidMutelist=m):(t.logger.info("user::onRelations: get relations",l,f),e.obj.blacklist=l,e.obj.mutelist=f)}i&&(p.cmd="relations",t.syncPromiseArray.push(p))},s.markInBlacklist=function(e,t){var n=this.db;e.record={account:e.account,updateTime:+new Date},n.enable&&n.markInBlacklist(e),t&&(this.logger.info("user::markInBlacklist:",e),this.options.onsyncmarkinblacklist(e))},s.markInMutelist=function(e,t){var n=this.db;e.record={account:e.account,updateTime:+new Date},n.enable&&n.markInMutelist(e),t&&(this.logger.info("user::markInMutelist:",e),this.options.onsyncmarkinmutelist(e))},s.mergeUser=function(e){this.userSet[e.account]=e}},function(e,t,n){"use strict";var s=n(9),i=n(27);e.exports=function(e,t,n){t in e?s.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";var s=n(38),i=n(16),r=n(56),o=n(153),a=n(152),c=n(67),u=n(278),l=n(103);i(i.S+i.F*!n(151)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,f=r(e),m="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,g=void 0!==h,v=0,y=l(f);if(g&&(h=s(h,p>2?arguments[2]:void 0,2)),null==y||m==Array&&a(y))for(n=new m(t=c(f.length));t>v;v++)u(n,v,g?h(f[v],v):f[v]);else for(d=y.call(f),n=new m;!(i=d.next()).done;v++)u(n,v,g?o(d,h,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){n(47),n(279),e.exports=n(5).Array.from},function(e,t,n){e.exports={default:n(280),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var s,i=n(281),r=(s=i)&&s.__esModule?s:{default:s};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},function(e,t,n){"use strict";var s,i=n(282),r=(s=i)&&s.__esModule?s:{default:s},o=n(6).fn,a=n(0),c=n(7),u=a.undef,l=a.objs2ids,d=a.objs2accounts,f=a.teams2ids,m=n(59),p=a.getGlobal();o.beforeSync=function(){var e=this.db;return e.enable?e.clearSendingMsgs():Promise.resolve()},o.syncData=function(){var e=this,t=e.db,n=e.options,s=t.enable;function i(t){e.syncPromiseArray=[],e.syncResult={},e.syncTeamMembersPromiseArray=[],e.syncSuperTeamMembersPromiseArray=[],e.syncTeamMembersResult={},e.checkNosReqNum=0,e.getNosOriginUrlReqNum=0,a.verifyBooleanWithDefault(n,"syncRelations syncFriends syncFriendUsers syncTeams syncSuperTeams syncRoamingMsgs syncSuperTeamRoamingMsgs syncMsgReceipts syncExtraTeamInfo",!0,"","sync::syncData"),a.verifyBooleanWithDefault(n,"syncFilter syncTeamMembers syncSuperTeamMembers",!1,"","sync::syncData");var i={};t=t||{},p._nimForceSyncIM&&(e.logger.warn("sync::syncData: nimForceSyncIM"),delete t.teams,p._nimForceSyncIM=!1),i.myInfo=t.myInfo||0,i.offlineMsgs=0,n.syncRelations&&(i.relations=t.relations||0),n.syncFriends&&(i.friends=t.friends||0),n.syncFriendUsers&&(i.friendUsers=t.friendUsers||0),n.syncRobots&&(i.robots=t.robots||0),n.syncTeams&&(i.teams=t.teams||0),n.syncSuperTeams&&(i.superTeams=t.superTeams||0),n.syncSessionUnread&&(i.sessionAck=s&&t.sessionAck||0,i.superTeamSessionAck=s&&t.superTeamSessionAck||0),n.syncRoamingMsgs&&(i.roamingMsgs=s&&t.roamingMsgs||0),n.syncSuperTeamRoamingMsgs&&(i.superTeamRoamingMsgs=s&&t.roamingMsgs||0),n.syncMsgReceipts&&(i.msgReceipts=t.msgReceipts||0),n.syncExtraTeamInfo&&(i.myTeamMembers=t.myTeamMembers||0),n.syncBroadcastMsgs&&(i.broadcastMsgs=t.broadcastMsg||0),i.donnop=t.donnop||0,i.deleteMsg=t.deleteMsg||0,i.deleteSuperTeamMsg=t.deleteSuperTeamMsg||0,i.netcallMsgs=0,n.syncFilter&&(i.filterMsgs=0);var r=e.onSyncData.bind(e);r.isImSyncDataCb=!0,e.sendCmd("sync",{sync:i,isImSyncDataObj:!0},r)}e.syncing=!0,s?e.beforeSync().then((function(){return e.db.getTimetags()})).then((function(e){i(e)}),(function(){i()})):i(e.timetags)},o.onSyncData=function(e,t){e&&this.syncRetryTimes>3&&(this.syncRetryTimes=0,e.callFunc="sync::onSyncData",this.onCustomError("SYNC_DATA_ERROR",e))},o.processSync=function(e){switch(this.syncRetryTimes=this.syncRetryTimes||0,this.syncRetryTimes++,e.cmd){case"syncDone":e.error?this.syncRetryTimes>3||this.syncData():(this.timetags.sync=e.content.timetag,this.onSyncDone());break;case"syncTeamMembersDone":this.onSyncTeamMembersDone()}},o.onSyncDone=function(e){var t,n,s,i,o,p,h,g,v,y,b,_,T,S,C,M,w,k,I,O,P,x,A,j,$=this,R=$.db,E=R.enable,L=$.options,D=$.syncPromiseArray,N=$.syncResult;function U(){if(D){$.logger.info("sync::onSyncDone: after sync",a.promises2cmds(D)),D=[],n=N.blacklist||[],s=N.invalidBlacklist||[],i=N.mutelist||[],o=N.invalidMutelist||[],p=N.friends,h=N.invalidFriends||[],g=N.myInfo,v=N.users,b=N.superTeams,T=N.invalidSuperTeams,y=N.teams,_=N.invalidTeams||[],S=N.sessions||{},C=N.ackMap,N.msgReceipts,M=N.roamingMsgs,w=N.offlineMsgs,k=N.offlineFilterMsgs,O=N.offlineSysMsgs,P=N.offlineCustomSysMsgs,x=N.offlineFilterSysMsgs,A=N.offlineFilterCustomSysMsgs,N.broadcastMsgs,j=N.sysMsgUnread;var e=Promise.resolve();!function(){if(E){var t=[function(){var e=[];return M&&M.forEach((function(t){e=[].concat((0,r.default)(e),(0,r.default)(t.msgs))})),w&&w.forEach((function(t){e=[].concat((0,r.default)(e),(0,r.default)(t.msgs))})),e.length?R.putMsg(e).then((function(){return e})):Promise.resolve(e)}()];S&&Object.keys(S).forEach((function(e){t.push(R.putSession(S[e]))})),e=Promise.all(t).then((function(){var e=[].concat((0,r.default)(Object.keys(C||{})),(0,r.default)(Object.keys(S||{})));e=e.filter((function(e,t,n){return n.indexOf(e)===t}));var t=[];return e.forEach((function(e){var n=S[e],s=void 0;(n.lastMsg||n.ack)&&(s=(s=n.ack?Promise.resolve(n):R.getSession(n.id)).then((function(t){var s=t.ack||0;return R.getMsgCountAfterAck({shouldCountNotifyUnread:$.options.shouldCountNotifyUnread,sessionId:e,ack:s}).then((function(s){return t.unread=s||0,$.mergeSession(t),S[e]=Object.assign(n,t),R.updateSession(t)}))})),t.push(s))})),Promise.all(t)}))}else if(S){var n,s;[M,w].forEach((function(e){e&&e.forEach((function(e){(n=S[e.sessionId]).unread=n.unread||0,s=n.ack||0,e.msgs.forEach((function(e){"notification"===e.type?$.options.shouldCountNotifyUnread(e)&&n.unread++:"in"===e.flow&&e.time>s&&n.unread++})),$.mergeSession(n)}))}))}}(),e.then((function(){if(E&&!$.hasSynced)$.hasSynced=!0,function(){L.syncRelations&&(t=R.getRelations().then((function(e){n=e[0],i=e[1],n.invalid=s,i.invalid=o}),(function(e){return e._msg="on relations error",e})).catch((function(e){return $.logger.error("sync::syncRelation: ",e),Promise.reject(e)})),D.push(t)),L.syncFriends&&(t=R.getFriends().then((function(e){(p=e).invalid=h}),(function(e){return e._msg="on friends error",e})).catch((function(e){return $.logger.error("sync::syncFriends: ",e),Promise.reject(e)})),D.push(t)),u(g)&&(t=R.getUser($.account).then((function(e){g=e}),(function(e){return e._msg="on myInfo error",e})).catch((function(e){return $.logger.error("sync::syncMyInfo: ",e),Promise.reject(e)})),D.push(t)),L.syncFriendUsers&&(t=R.getFriends().then((function(e){return e.map((function(e){return e.account}))})).then((function(e){return R.getUsers(e)})).then((function(e){v=e}),(function(e){return e._msg="on users error",e})).catch((function(e){return $.logger.error("sync::syncFriendUser: ",e),Promise.reject(e)})),D.push(t)),L.syncTeams&&(t=R.getTeams().then((function(e){(y=e).invalid=_}),(function(e){return e._msg="on teams error",e})).catch((function(e){return $.logger.error("sync::syncTeams: ",e),Promise.reject(e)})),D.push(t)),L.syncSuperTeams&&(t=R.getSuperTeams().then((function(e){(b=e).invalid=T}),(function(e){return e._msg="on superteams error",e})).catch((function(e){return $.logger.error("sync::syncSuperTeams: ",e),Promise.reject(e)})),D.push(t)),t=R.getTeamMembersByAccount($.account).then((function(e){$.mergeMyTeamMembers(e)})).catch((function(e){return $.logger.error("sync::getTeamMembersByAccount: ",e),Promise.reject(e)})),D.push(t),t=R.getDonnop().then((function(e){$.mergeDonnop(e)})).catch((function(e){return $.logger.error("sync::donnop: ",e),Promise.reject(e)})),D.push(t),t=R.getSessions().then((function(e){S=e})).catch((function(e){return $.logger.error("sync::getSession: ",e),Promise.reject(e)})),D.push(t),t=R.getSysMsgUnread().then((function(e){j=e}),(function(e){return e._msg="on sysMsgUnread error",e})).catch((function(e){return $.logger.error("sync::getSysMsgUnread: ",e),Promise.reject(e)})),D.push(t)}();else{var e=[],r=void 0;Object.keys(S).forEach((function(t){(r=S[t]).lastMsg&&e.push(r)})),S=e.sort((function(e,t){return t.updateTime-e.updateTime}))}Promise.all(D).then(F).then(B,(function(e){e.callFunc="sync::onSyncDone",e.message="taskAfterSync syncDBDataPromise 出错",$.onCustomError("SYNC_SESSION_ACK_ERROR",e)}))}))}else $.logger.warn("sync::onSyncDone: after sync --no promiseArray")}function F(){return $.logger.info("sync::onSyncDone: taskAfterSync"),function(){if(N.deleteMsgSysMsgs){var e={};M&&M.forEach((function(t){e[t.sessionId]=t}));var t={};w&&w.forEach((function(e){t[e.sessionId]=e}));var n=$.api;N.deleteMsgSysMsgs.forEach((function(s){s.sysMsgs.forEach((function(s){var i=s.msg,r=i.sessionId;[e,t].forEach((function(e){e[r]&&(e[r].msgs=n.cutMsgs(e[r].msgs,i))}))}))})),R.enable||[M,w].forEach((function(e){e&&e.forEach((function(e){if(e.msgs.length){var t=$.genSessionByMsgs(e.msgs);$.cacheSyncedSession(t),S=n.mergeSessions(S,t)}else S=n.cutSessions(S,{id:e.sessionId})}))}))}}(),$.deleteMsgOfflineRoaming(N.deleteMsgSysMsgs,S)}function B(){setTimeout(q,0)}function q(){var e,t,s=[],r=[];n&&($.logger.info("sync::notifyDataAsync: on blacklist",d(n),n),L.onblacklist(n)),i&&($.logger.info("sync::notifyDataAsync: on mutelist",d(i),i),L.onmutelist(i)),p&&($.logger.info("sync::notifyDataAsync: on friends",d(p),p),L.onfriends(p)),g&&($.logger.info("sync::notifyDataAsync: on myInfo",g),$.myInfo=g,L.onmyinfo(a.copy(g))),v&&(v.forEach((function(e){$.mergeUser(e)})),$.logger.info("sync::notifyDataAsync: on users",d(v),v),L.onusers(v)),y&&($.logger.info("sync::notifyDataAsync: on teams",f(y),y),L.onteams(y)),b&&($.logger.info("sync::notifyDataAsync: onSuperTeams",f(b),b),L.onSuperTeams(b)),S&&S.length&&(S.forEach((function(e){$.mergeSession(e),m.trim(e)})),$.logger.info("sync::notifyDataAsync: on sessions",l(S),S),L.onsessions(S)),M&&M.forEach((function(e){"superTeam"===e.scene?r.push(e.timetag):s.push(e.timetag),(t=e.msgs).length&&($.logger.info("sync::notifyDataAsync: on roaming msgs",e.sessionId,t.length,t),L.onroamingmsgs(e))})),w&&w.forEach((function(e){"superTeam"===e.scene?r.push(e.timetag):s.push(e.timetag),(t=e.msgs).length&&($.logger.info("sync::notifyDataAsync: on offline msgs",e.sessionId,t.length,t),L.onofflinemsgs(e))})),k&&k.forEach((function(e){s.push(e.timetag),(t=e.msgs).length&&($.logger.info("sync::notifyDataAsync: on offline filter msgs",e.sessionId,t.length,t),L.onofflinefiltermsgs(t))}));var o=[],c=[];N.deleteMsgSysMsgs&&N.deleteMsgSysMsgs.forEach((function(e){"roaming"===e.type?o=o.concat(e.sysMsgs):c=c.concat(e.sysMsgs)})),o.length&&(I=(I=I||[]).concat(o)),c.length&&(O=(O=O||[]).concat(c)),I&&($.logger.info("sync::notifyDataAsync: on roaming sys msgs",I.length,I),L.onroamingsysmsgs(I)),O&&($.logger.info("sync::notifyDataAsync: on offline sys msgs",O.length,O),L.onofflinesysmsgs(O)),x&&($.logger.info("sync::notifyDataAsync: on offline filter sys msgs",x.length,x),L.onofflinefiltersysmsgs(x)),P&&($.logger.info("sync::notifyDataAsync: on offline custom sys msgs",P.length,P),L.onofflinecustomsysmsgs(P)),A&&($.logger.info("sync::notifyDataAsync: on offline filter custom sys msgs",A.length,A),L.onofflinefiltercustomsysmsgs(A)),j&&(j=a.merge({},$.sysMsgUnread,j),$.sysMsgUnread=a.merge({},j),$.logger.info("sync::notifyDataAsync: on sysMsgUnread",j),L.onsysmsgunread(j));var u=$.getPushNotificationMultiportConfig();$.logger.info("sync::notifyDataAsync: on pushNotificationMultiportConfig",u),L.onPushNotificationMultiportConfig(u);var h=r.length&&Math.max.apply(Math,r);if(e=s.length&&Math.max.apply(Math,s),R.enable){var _=[];h&&_.push($.db.updateSuperTeamRoamingMsgTimetag(h)),e&&_.push($.db.updateRoamingMsgTimetag(e)),Promise.all(_).then(H,H)}else $.timetags.superTeamRoamingMsgs=h,$.timetags.roamingMsgs=e,H();$.syncPromiseArray=[],$.syncResult={}}function H(){if($.processUnsettledMsgs(),$.processUnsettledSysMsgs(),$.syncing&&L.onsyncdone(),$.syncing=!1,L.syncTeamMembers&&y&&y.length)throw new c("sync team members api deprecated!")}D&&D.length?Promise.all(D).then(U).catch((function(e){U(),$.logger.error(e),e.callFunc="sync::onSyncDone",e.message="afterSync syncNormalPromise 出错",$.onCustomError("SYNC_promiseArray_ERROR",e)})):U()},o.syncTeamMembers=function(e){var t,n,s=this;t=s.timetags,n={},t=t||{},e.forEach((function(e){n[e.teamId]=0}),s),s.sendCmd("syncTeamMembers",{sync:n},s.onSyncTeamMembers.bind(s))},o.onSyncTeamMembers=function(e,t){e.callFunc="sync::onSyncTeamMembers",e.message="同步群成员错误",this.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)},o.onSyncTeamMembersDone=function(){var e,t=this,n=t.db,s=t.options,i=t.syncTeamMembersResult,r=t.syncTeamMembersPromiseArray;function o(){t.logger.log("sync::onSyncTeamMembersDone: afterSync",a.promises2cmds(r)),r=[],n.enable&&!t.hasSyncedTeamMembers?(t.hasSyncedTeamMembers=!0,function(){if(!s.syncTeams||!s.syncTeamMembers)return l();n.getTeams().then((function(n){n.forEach((function(n){var s=n.teamId;e=new Promise((function(e,n){t.api.getTeamMembers({teamId:s,done:function(t,r){t&&n({callFunc:"sync::getTeamMembers: teamId-"+s,message:"sync team members error"}),i[s]=r.members||[],e()}})})),r.push(e)})),r.length?Promise.all(r).then(c,(function(e){e.callFunc="sync::onSyncTeamMembersDone",e.message="pullFullData promiseArray notifyData 错误",t.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)})):c()}),(function(e){e.callFunc="sync::onSyncTeamMembersDone",e.message="pullFullData getTeams 错误",t.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)}))}()):c()}function c(){setTimeout(u,0)}function u(){var e,n;Object.keys(i).forEach((function(r){-1===r.indexOf("invalid")&&(e=i[r],n=i[r+"-invalid"]||[],e.invalid=n,function(e,n){t.logger.info("sync::onSyncTeamMembersDone: onTeamMembers",e,d(n),n),s.onteammembers({teamId:e,members:n})}(r,e))})),l()}function l(){t.logger.info("sync::onSyncTeamMembersDone: bingo"),s.onsyncteammembersdone(),t.syncTeamMembersResult=null,t.syncTeamMembersPromiseArray=null}r.length?Promise.all(r).then(o,(function(e){e.callFunc="sync::onSyncTeamMembersDone",e.message="同步群成员 syncTeamMembersPromiseArray 错误",t.onCustomError("SYNC_TEAM_MEMBERS_ERROR",e)})).catch((function(e){t.logger.log("sync::onSyncTeamMembersDone: syncTeamMembersPromiseArray promise ",e),o()})):o()}},function(e,t,n){"use strict";var s=n(6).fn,i=n(61);s.assembleLogin=function(){var e=this.assembleIMLogin();return this.addPushInfo instanceof Function?this.addPushInfo(e):Promise.resolve({login:e})},s.afterLogin=function(){var e=this;this.initPush instanceof Function&&this.initPush();var t=this.db;if(t.enable){var n=this.account;this.options.appendAppKeyForDBName&&(n+="-"+this.options.appKey),this.db.init(n).then((function(){e.notifyLogin(),e.syncData()}),(function(n){e.logger.warn("link::afterLogin: no db",n),t.reset(!1),e.notifyLogin(),e.syncData()}))}else this.logger.info("link::afterLogin: no db"),this.notifyLogin(),this.syncData()},s.processAuth=function(e){switch(e.cmd){case"login":e.error||(e.content=e.content||{},this.loginAndroidPush&&this.loginAndroidPush(e.content.aosPushInfo||{}),e.obj=e.content.loginRes,this.connectionId=e.content.loginRes.connectionId,this.onLoginPortsChange(e,2));break;case"kicked":return void this.onKicked(e);case"multiPortLogin":this.onLoginPortsChange(e,e.content.state);break;case"kick":e.error||(e.obj.deviceIds=e.content.deviceIds)}},s.onLoginPortsChange=function(e,t){var n=this,s=e.content.loginPorts;if(s&&s.length){var r=!0;switch(t){case 2:r=!0;break;case 3:r=!1}s.forEach((function(e){e.type=i.reverseType(e.type),e.time=+e.time,e.online=r})),(s=s.filter((function(e){return e.connectionId!==n.connectionId}))).length&&(n.logger.info("link::onLoginPortsChange:",s),n.options.onloginportschange(s))}},s.kickedReasons=["","samePlatformKick","serverKick","otherPlatformKick","silentlyKick"],s.kickedMessages=["","不允许同一个帐号在多个地方同时登录","被服务器踢了","被其它端踢了","悄悄被踢"]},function(e,t,n){"use strict";var s=n(6).fn,i=n(1),r=n(0),o=n(21);s.probeIp=function(){var e=this,t=i.ipProbeAddr,n=0,s=-1;function r(t){2===++n&&(n=-1,e.doRefreshSocketUrl(s))}o(t.ipv4,{timeout:2e3,onerror:r,onload:function(e){s++,r()}}),o(t.ipv6,{timeout:2e3,onerror:r,onload:function(e){s+=2,r()}}),setTimeout((function(){n||-1===s||(n=-1,e.doRefreshSocketUrl(s))}),100)},s.refreshSocketUrl=function(){i.isWeixinApp?this.doRefreshSocketUrl(2):2===this.options.ipVersion?this.probeIp():this.doRefreshSocketUrl(this.options.ipVersion)},s.doRefreshSocketUrl=function(e){var t=this,n=t.options,s=i.info,a=n.lbsUrl;function c(e){t.socketUrls=[],(e=i.isWeixinApp?e.data:JSON.parse(e)).common.link.forEach((function(e){t.socketUrls.push(i.formatSocketUrl({url:e,secure:t.options.secure}))})),e.common["link.default"].forEach((function(e){e=i.formatSocketUrl({url:e,secure:t.options.secure}),-1===t.socketUrls.indexOf(e)&&t.socketUrls.push(e)}));try{i.uploadUrl=e.nosup[0]}catch(e){}i.chunkUploadUrl=i.chunkUploadUrl||e["nos-chunk"]||"",t.logger.info("link::refreshSocketUrl: ajax load, got socket urls ",t.socketUrls),t.connectToUrl(t.getNextSocketUrl())}function u(e){t.logger.error("link::refreshSocketUrl: ajax lbs error",e),t.api.reportLogs({event:"nimlb",code:3001});var n=i.getDefaultLinkUrl(t.options.secure);n?(t.logger.info("link::refreshSocketUrl: use default link url",n),t.connectToUrl(n)):t.onDisconnect(1,"link::refreshSocketUrl")}1!==e&&2!==e&&(e=0),i.ipVersion=e,a=a+r.genUrlSep(a)+"k="+n.appKey+"&id="+n.account+"&sv="+s.sdkVersion+"&pv="+s.protocolVersion+"&networkType="+e,t.logger.info("link::refreshSocketUrl: ajax "+a),i.isWeixinApp?(a=a.replace(/:\d+/,""),wx.request({url:a,success:c,fail:u})):o(a,{proxyUrl:r.url2origin(a)+"/lbs/res/cors/nej_proxy_frame.html",timeout:i.xhrTimeout,onload:c,onerror:u})}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0),r=i.notundef;s.putSession=function(e){var t=this,n=e.unread;return void 0===(e=i.merge({},e)).updateTime&&e.lastMsg&&e.lastMsg.time&&(e.updateTime=e.lastMsg.time),delete e.unread,this.modifyOrPut({table:"session",obj:e,key:"id",modifyObjWhenPut:{unread:0}}).catch((function(s){return t.notifyError&&t.notifyError(s),e.unread=n,Promise.resolve(e)}))},s.getSessions=function(e){var t,n=!(e=e||{}).reverse,s=e.limit||100,i=e.lastSessionId,o=e.sessionId,a=!1,c=this;if(r(i))t=function(e){return!!a||(e.id===i&&(a=!0),!1)};else if(r(o))return this.get("session",o).catch((function(e){c.notifyError&&c.notifyError(e)}));return this.getAll("session",{index:"updateTime",desc:n,limit:s,filter:t}).catch((function(e){c.notifyError&&c.notifyError(e)}))},s.getSession=function(e){var t=this;return this.get("session",e).catch((function(e){t.notifyError&&t.notifyError(e)}))},s.updateSession=function(e){var t=this,n=e.id,s=i.filterObj(e,"ack unread lastMsg localCustom msgReceiptTime msgReceiptServerTime");return Object.keys(e).forEach((function(t){0===t.indexOf("last")&&(s[t]=e[t])})),this.getOne("session",null,n,{modifyObj:s}).then((function(e){return e?t.logger.log("db::updateSession: "+n,s):t.logger.warn("db::updateSession: no record "+n),e})).catch((function(e){t.notifyError&&t.notifyError(e)}))},s.resetSessionUnread=function(e){return this.updateSession({id:e,unread:0})},s.deleteSession=function(e){return this.remove("session",e)}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0);i.notundef,s.putBroadcastMsg=function(e){var t=this;return new Promise((function(n){i.isArray(e)||(e=[e]);var s=[],r=e.length;function o(){0===--r&&n(s)}e.forEach((function(e){e=i.copy(e),t.put("broadcastMsg",e).then((function(e){s.push(e[0]),o()}),o)}))}))},s.getBroadcastMsgs=function(e){return e=e||{},this.getAll("broadcastMsg",e)}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0),r=i.notundef;s.putSysMsg=function(e){var t=this;return new Promise((function(n){if(i.isArray(e)||(e=[e]),!e[0].filter){var s=[],r=e.length;e.forEach((function(e){e=i.copy(e),t.put("sysMsg",e).then((function(e){s.push(e[0]),o()}),o)}))}function o(){0===--r&&n(s)}}))},s.getSysMsgs=function(e){var t=!(e=e||{}).reverse,n=e.limit||100,s=null,i=null;e.category&&(s="category",i=e.category),e.type&&(s="type",i=e.type);var o,a=e.lastIdServer,c=!1,u=e.read;return(r(a)||r(u))&&(o=function(e){return r(a)?(a=""+a,c?t():(e.idServer===a&&(c=!0),!1)):t();function t(){return!r(u)||e.read===u}}),e={filter:o,desc:t,limit:n},s?this.getOnly("sysMsg",s,i,e):this.getAll("sysMsg",e)},s.getSysMsgByIdServer=function(e){return this.getOne("sysMsg","idServer",e)},s.updateSysMsg=function(e){var t=this;if(!e.filter){var n=""+e.idServer,s=i.filterObj(e,"read state error localCustom");return this.getOne("sysMsg","idServer",n,{modifyObj:s}).then((function(e){return e?t.logger.log("db::updateSysMsg: "+n,s):t.logger.warn("db::updateSession: "+n),e}))}},s.markSysMsgRead=function(e){var t=this;return new Promise((function(n,s){i.isArray(e)||(e=[e]);var r,o,a=[],c=[];e.forEach((function(e){r=t.getSysMsgByIdServer(e.idServer).then((function(e){e&&!e.read&&(o=t.updateSysMsg({idServer:e.idServer,read:!0}),c.push(o))}),s),a.push(r)})),Promise.all(a).then((function(){Promise.all(c).then((function(e){n(e)}),s)}),s)}))},s.deleteSysMsg=function(e){var t,n=this,s=[];return i.isArray(e)||(e=[e]),e.forEach((function(e){e=""+e,t=n.getOne("sysMsg","idServer",e,{remove:!0}),s.push(t)})),1===s.length?s[0]:Promise.all(s)},s.deleteAllSysMsgs=function(){var e=this.clearTable("sysMsg"),t=this.clearTable("sysMsgUnread");return Promise.all([e,t])},s.getSysMsgUnread=function(){return this.getAll("sysMsgUnread").then((function(e){var t={};return e.forEach((function(e){t[e.type]=e.num})),t}))},s.updateSysMsgUnread=function(e){var t=this;e=i.copy(e);var n=[];return Object.keys(e).forEach((function(t){n.push({type:t,num:e[t]})})),this.put("sysMsgUnread",n).then((function(){return t.logger.log("db::updateSysMsgUnread: ",e),e}))}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0),r=n(1);s.putMsg=function(e){var t=this;return i.isArray(e)||(e=[e]),!e.length||e[0].filter?Promise.resolve():(e=e.filter((function(e){return!e.ignore})),t.put("msg1",e).catch((function(n){return t.notifyError&&t.notifyError(n),Promise.resolve(e,n)})))},s.updateMsg=function(e){var t=this;if(!e.filter){var n=e.idClient,s=i.filterObj(e,"resend status idServer time localCustom");return t.getOne("msg1",null,n,{modifyObj:s}).then((function(e){return e?t.logger.log("db::updateMsg: "+n,s):t.logger.warn("db::updateMsg: no record "+n),e})).catch((function(n){return t.notifyError&&t.notifyError(n),Promise.resolve(e)}))}},s.getMsgs=function(e){return r.isBrowser?this.getMsgsIndexedDB(e):r.isRN?this.getMsgsRN(e):Promise.resolve()},s.getMsgsRN=function(e){var t={};return"number"==typeof e.start&&(t.lowerBound=["time",e.start]),"number"==typeof e.end&&e.end!==1/0&&(t.upperBound=["time",e.end]),t.desc=!1,t.sortIndex="time","boolean"==typeof e.desc&&(t.desc=e.desc),"number"==typeof e.limit&&(t.limit=e.limit),t.searchIndex=[],e.sessionId&&t.searchIndex.push(["sessionId",e.sessionId]),"string"==typeof e.type&&t.searchIndex.push(["type",e.type]),this.getAll("msg1",t)},s.getMsgsIndexedDB=function(e){this.checkDB();var t="time",n=!1,s=!1,r=(e=e||{}).sessionId||[],o=e.sessionIds||[];i.isString(r)?r=[r]:Array.isArray(r)||(r=[]),i.isString(o)?o=[o]:Array.isArray(o)||(o=[]);var a=r.concat(o);1===a.length?(n=!0,t="sessionTime",r=a[0]):a.length>1&&(n=!0,s=!0,o=a);var c=e.start||0,u=e.end||1/0,l=c,d=u;n&&!s&&(l=[r,c],d=[r,u]);var f=!1!==e.desc,m=e.limit||100,p=!1,h=!1,g=e.type||[],v=e.types||[];i.isString(g)?g=[g]:Array.isArray(g)||(g=[]),i.isString(v)?v=[v]:Array.isArray(v)||(v=[]);var y=g.concat(v);1===y.length?(p=!0,g=y[0]):y.length>1&&(p=!0,h=!0,v=y);var b=e.keyword||"",_=e.filterFunc,T=void 0;return(s||p||b||i.isFunction(_))&&(T=function(e){if(s&&-1===o.indexOf(e.sessionId))return!1;if(p)if(h){if(-1===v.indexOf(e.type))return!1}else if(g!==e.type)return!1;return(!b||-1!==(e.text||e.tip||"").indexOf(b))&&(!_||_(e))}),this.server.query("msg1",t).bound(l,d,!0,!0).desc(f).limit(m).filter(T).execute()},s.getMsgCountAfterAck=function(e){return r.isBrowser?this.getMsgCountAfterAckIndexedDB(e):r.isRN?this.getMsgCountAfterAckRN(e):Promise.resolve()},s.getMsgCountAfterAckRN=function(e){var t=e=e||{},n=t.sessionId,s=t.ack;return this.checkDB(),this.getAll("msg1",{searchIndex:["sessionId",n],lowerBound:["time",s]}).then((function(t){var n=t.filter((function(t){return"out"!==t.flow&&("notification"!==t.type||!!e.shouldCountNotifyUnread(t))}));return Promise.resolve(n.length)}))},s.getMsgCountAfterAckIndexedDB=function(e){var t=(e=e||{}).sessionId;return this.checkDB(),this.server.query("msg1","sessionTime").bound([t,e.ack],[t,1/0],!0,!0).execute().then((function(t){var n=t.filter((function(t){return"out"!==t.flow&&("notification"!==t.type||!!e.shouldCountNotifyUnread(t))}));return Promise.resolve(n.length)}))},s.amendMsg=function(e){return e?(i.notexist(e.text)&&(e.text=""),e):null},s.getMsgByIdClient=function(e){var t=this;return t.getOne("msg1",null,e).then((function(e){return t.amendMsg(e)}))},s.getMsgsByIdClients=function(e){var t,n=this,s=[];return e.forEach((function(e){t=n.getMsgByIdClient(e),s.push(t)})),Promise.all(s)},s.clearSendingMsgs=function(){var e=this;return e.getOnly("msg1","status","sending",{modifyObj:{status:"fail"}}).then((function(t){e.logger.log("db::clearSendingMsgs: msgs send failed",t)}))},s.deleteMsg=function(e){var t,n=this,s=[];return i.isArray(e)||(e=[e]),e.forEach((function(e){t=n.getOne("msg1",null,e,{remove:!0}).then((function(e){return n.logger.log("db::deleteMsg:",e),e})),s.push(t)})),1===s.length?s[0]:Promise.all(s)},s.deleteMsgsBySessionId=function(e){var t=this,n=null,s=e.start,i=e.end;return void 0!==s&&void 0!==i?n=function(e){return e>s&&e<i}:void 0!==s?n=function(e){return e>s}:void 0!==i&&(n=function(e){return e<i}),n?t.getOnly("msg1","sessionId",e.sessionId).then((function(e){t.logger.log("db::deleteMsgsBySessionId: session results",e);var s=[];return(e=e||[]).map((function(e){n(e.time)&&s.push(e.idClient)})),t.deleteMsg(s)})):t.getOnly("msg1","sessionId",e.sessionId,{remove:!0})},s.deleteMsgsByTime=function(e){return this.remove("msg1",null,"time",e.start,e.end,!0,!0)},s.deleteAllMsgs=function(){var e=this.clearTable("msg1"),t=this.clearTable("session");return Promise.all([e,t])}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0);s.mergeMyInfo=function(e,t){var n=this;return n.put("user",e).then((function(){return t?n.updateMyInfoTimetag(e.updateTime):e}))},s.mergeFriendUsers=function(e,t){var n=this;return n.putUsers(e).then((function(){n.updateFriendUserTimetag(t)}))},s.putUsers=function(e){return this.put("user",e)},s.putUser=function(e){return this.put("user",e)},s.updateUser=function(e){var t=this,n=(e=i.copy(e)).account;return this.getOne("user",null,n,{modifyObj:e}).then((function(s){return s?t.logger.log("db::updateUser: "+n,e):t.logger.warn("db::updateUser: no record "+n),s}))},s.putUsersIfIsFriend=function(e){var t,n=this,s=[],i=[];return e.forEach((function(e){t=n.getFriend(e.account).then((function(s){return s&&(t=n.putUser(e),i.push(t)),s})),s.push(t)})),Promise.all(s).then((function(){return Promise.all(i).then((function(e){return e}))}))},s.deleteUser=function(e){return this.remove("user",e)},s.getUser=function(e){return this.getOne("user",null,e)},s.getUsers=function(e){return this.getAll("user",{filter:function(t){return-1!==e.indexOf(t.account)}})},s.getAllUsers=function(){return this.getAll("user")}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0),r=n(7),o=n(107),a=n(78);function c(e){return e.valid&&e.validToCurrentUser}function u(e){return e&&e.valid}function l(e){return e&&i.fillUndef(e,{mute:!1,custom:""}),e}s.mergeSuperTeams=function(e,t,n){var s=this,i=s.put("superTeam",e),r=s.leaveTeams(t,n);return Promise.all([i,r]).then((function(){return s.logger.log("db::mergeSuperTeams:"),s.updateSuperTeamTimetag(n),[e,t,n]}))},s.putSuperTeam=function(e){if(e)return i.isArray(e)||(e=[e]),e.forEach((function(e){e.validToCurrentUser=!0})),this.put("superTeam",e)},s.updateSuperTeam=function(e){var t=this,n=(e=i.copy(e)).teamId;return t.getOne("superTeam",null,n,{modifyObj:e}).then((function(s){return s?(t.logger.log("db::updateSuperTeam: "+n,e),s):(t.logger.warn("db::updateSuperTeam: no record "+n),t.putSuperTeam(e))}))},s.leaveSuperTeam=function(e){var t=this;return t.updateSuperTeam({teamId:e,validToCurrentUser:!1}).then((function(){return t.removeAllSuperTeamMembers(e)}))},s.dismissSuperTeam=function(e,t){var n=this,s={teamId:e,valid:!1,validToCurrentUser:!1,updateTime:t};return n.updateSuperTeam(s).then((function(){return n.removeAllSuperTeamMembers(e)}))},s.leaveSuperTeams=function(e,t){var n,s=this,i=[];return e.forEach((function(e){n=s.leaveSuperTeam(e.teamId,t),i.push(n)})),Promise.all(i)},s.getSuperTeamsByTeamIds=function(e){var t,n=this,s=[];return e.forEach((function(e){t=n.getSuperTeam(e),s.push(t)})),Promise.all(s)},s.getSuperTeam=function(e){e=""+e;var t=this;return t.getOne("superTeam",null,e).then((function(e){return e?(t.updateSuperTeamProperties([e]),e):null}))},s.getSuperTeams=function(){var e=this;return e.getAll("superTeam",{filter:c}).then((function(t){return e.updateSuperTeamProperties(t),t}))},s.updateSuperTeamProperties=function(e){e.forEach((function(e){e&&o.fillProperties(e)}))},s.mergeSuperTeamMembers=function(e,t,n,s){var i=this,r=i.putSuperTeamMembers(t),o=i.updateSuperTeamMembers(n);return Promise.all([r,o]).then((function(){return i.logger.log("db::mergeSuperTeamMembers: "+e),null!=s?i.updateSuperTeamMemberTimetag(e,s):Promise.resolve()}))},s.putSuperTeamMembers=function(e){return this.put("superTeamMember",e)},s.getSuperTeamMembersByAccount=function(e){return this.getOnly("superTeamMember","account",e,{filter:u,mapper:l}).then()},s.getSuperTeamMembers=function(e,t){var n=this;e=""+e;var s={filter:function(e){return e.valid},mapper:l};if(t){if("number"!=typeof t.joinTime)return void n.logger.error("db::getSuperTeamMembers::params.joinTime should be number, not ",t.joinTime);t.limit&&(s.limit=t.limit),t.reverse?s.filter=function(e){return e.valid&&e.joinTime<=t.joinTime}:s.filter=function(e){return e.valid&&e.joinTime>=t.joinTime}}return n.getOnly("superTeamMember","teamId",e,s).then((function(e){return n.updateSuperTeamMemberProperties(e).then((function(){return e}))}))},s.updateSuperTeamMemberProperties=function(e){var t,n=this,s=[];return e.forEach((function(e){a.fillProperties(e)&&(t=n.updateSuperTeamMember(e),s.push(t))})),Promise.all(s)},s.getInvalidSuperTeamMembers=function(e,t){var n=this;e=""+e;var s,i=[];return t.forEach((function(t){s=n.getOne("superTeamMember","id",a.genId(e,t)).then((function(e){return l(e)})),i.push(s)})),Promise.all(i)},s.updateSuperTeamMember=function(e){var t=this,n=e.teamId,s=e.account,r=a.genId(n,s),o=i.filterObj(e,"nickInTeam muteTeam mute custom updateTime type valid");return this.getOne("superTeamMember","id",r,{modifyObj:o,mapper:l}).then((function(e){return e?t.logger.log("db::updateSuperTeamMember: "+n+" "+s,o):t.logger.warn("db::updateSuperTeam: no record "+n+" "+s),e}))},s.updateSuperTeamMembers=function(e){var t=this;if(!e.length)return Promise.resolve();var n,s=[];return e.forEach((function(e){n=t.updateSuperTeamMember(e),s.push(n)})),Promise.all(s)},s.removeSuperTeamMembersByAccounts=function(e,t){var n=t.map((function(t){return{teamId:e,account:t,valid:!1}}));return this.updateSuperTeamMembers(n)},s.removeAllSuperTeamMembers=function(e){var t=this;return t.getOnly("superTeamMember","teamId",e,{modifyObj:{valid:!1}}).then((function(){return t.logger.warn("db::removeAllSuperTeamMembers: "+e),t.deleteSuperTeamMemberTimetag(e)}))},s.deleteSuperTeamMembers=function(e){var t=this;return t.getOnly("superTeamMember","teamId",e,{remove:!0}).then((function(){t.logger.warn("db::deleteTeamMembers: "+e),t.deleteSuperTeamMemberTimetag(e)}))},s.deleteSuperTeam=function(e){var t,n=this,s=[];return i.isArray(e)||(e=[e]),e.forEach((function(e){e=""+e,t=n.get("superTeam",e).then((function(t){if(t&&c(t))throw r.stillInTeamError({callFunc:"team::deleteTeam",team:t});var s=n.remove("superTeam",e),i=n.deleteSuperTeamMembers(e);return Promise.all([s,i])})),s.push(t)})),1===s.length?s[0]:Promise.all(s)},s.transferSuperTeam=function(e,t,n){var s=this;return s.updateSuperTeamMembers([t,n]).then((function(){return s.putSuperTeam(e).then((function(){return s.logger.log("db::transferSuperTeam: "+e.teamId+" "+t.account+" -> "+n.account),[e,t,n]}))}))}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0),r=n(7),o=n(62),a=n(52);function c(e){return e.valid&&e.validToCurrentUser}function u(e){return e&&e.valid}function l(e){return e&&i.fillUndef(e,{mute:!1,custom:""}),e}s.mergeTeams=function(e,t,n){var s=this,i=s.put("team",e),r=s.leaveTeams(t,n);return Promise.all([i,r]).then((function(){return s.logger.log("db::mergeTeams:"),s.updateTeamTimetag(n),[e,t,n]}))},s.putTeam=function(e){if(e)return i.isArray(e)||(e=[e]),e.forEach((function(e){e.validToCurrentUser=!0})),this.put("team",e)},s.updateTeam=function(e){var t=this,n=(e=i.copy(e)).teamId;return t.getOne("team",null,n,{modifyObj:e}).then((function(s){if(s)t.logger.log("db::updateTeam: "+n,e);else if(t.logger.warn("db::updateTeam: no record "+n),e.validToCurrentUser)return t.putTeam(e);return s}))},s.transferTeam=function(e,t,n){var s=this,i=e.teamId,r=e.memberUpdateTime,o={teamId:i,account:t,type:"normal",updateTime:r},a={teamId:i,account:n,type:"owner",updateTime:r};return s.updateTeamMembers([o,a]).then((function(){return s.putTeam(e).then((function(){return s.logger.log("db::transferTeam: "+e.teamId+" "+t+" -> "+n),[e,t,n]}))}))},s.leaveTeam=function(e){var t=this;return t.updateTeam({teamId:e,validToCurrentUser:!1}).then((function(){return t.removeAllTeamMembers(e)}))},s.dismissTeam=function(e,t){var n=this,s={teamId:e,valid:!1,validToCurrentUser:!1,updateTime:t};return n.updateTeam(s).then((function(){return n.removeAllTeamMembers(e)}))},s.leaveTeams=function(e,t){var n,s=this,i=[];return e.forEach((function(e){n=s.leaveTeam(e.teamId,t),i.push(n)})),Promise.all(i)},s.getTeamsByTeamIds=function(e){var t,n=this,s=[];return e.forEach((function(e){t=n.getTeam(e),s.push(t)})),Promise.all(s)},s.getTeam=function(e){e=""+e;var t=this;return t.getOne("team",null,e).then((function(e){return e?(t.updateTeamProperties([e]),e):null}))},s.getTeams=function(){var e=this;return e.getAll("team",{filter:c}).then((function(t){return e.updateTeamProperties(t),t}))},s.updateTeamProperties=function(e){e.forEach((function(e){e&&o.fillProperties(e)}))},s.mergeTeamMembers=function(e,t,n,s){var i=this,r=i.putTeamMembers(t),o=i.updateTeamMembers(n);return Promise.all([r,o]).then((function(){return i.logger.log("db::mergeTeamMembers: "+e),i.updateTeamMemberTimetag(e,s)}))},s.putTeamMembers=function(e){return this.put("teamMember",e)},s.getTeamMembersByAccount=function(e){return this.getOnly("teamMember","account",e,{filter:u,mapper:l}).then()},s.getTeamMembers=function(e){var t=this;return e=""+e,t.getOnly("teamMember","teamId",e,{filter:function(e){return e.valid},mapper:l}).then((function(e){return t.updateTeamMemberProperties(e).then((function(){return e}))}))},s.updateTeamMemberProperties=function(e){var t,n=this,s=[];return e.forEach((function(e){a.fillProperties(e)&&(t=n.updateTeamMember(e),s.push(t))})),Promise.all(s)},s.getInvalidTeamMembers=function(e,t){var n=this;e=""+e;var s,i=[];return t.forEach((function(t){s=n.getOne("teamMember",null,a.genId(e,t)).then((function(e){return l(e)})),i.push(s)})),Promise.all(i)},s.updateTeamMember=function(e){var t=this,n=e.teamId,s=e.account,r=a.genId(n,s),o=i.filterObj(e,"nickInTeam muteTeam mute custom updateTime type valid");return this.getOne("teamMember",null,r,{modifyObj:o,mapper:l}).then((function(e){return e?t.logger.log("db::updateTeamMember: "+n+" "+s,o):t.logger.warn("db::updateTeam: no record "+n+" "+s),e}))},s.updateTeamMembers=function(e){var t=this;if(!e.length)return Promise.resolve();var n,s=[];return e.forEach((function(e){n=t.updateTeamMember(e),s.push(n)})),Promise.all(s)},s.updateTeamManagers=function(e,t,n,s){var i=t.map((function(t){return{teamId:e,account:t,type:n?"manager":"normal",updateTime:s}}));return this.updateTeamMembers(i)},s.removeTeamMembersByAccounts=function(e,t){var n=t.map((function(t){return{teamId:e,account:t,valid:!1}}));return this.updateTeamMembers(n)},s.removeAllTeamMembers=function(e){var t=this;return t.getOnly("teamMember","teamId",e,{modifyObj:{valid:!1}}).then((function(){return t.logger.warn("db::removeAllTeamMembers: "+e),t.deleteTeamMemberTimetag(e)}))},s.deleteTeamMembers=function(e){var t=this;return t.getOnly("teamMember","teamId",e,{remove:!0}).then((function(){t.logger.warn("db::deleteTeamMembers: "+e),t.deleteTeamMemberTimetag(e)}))},s.deleteTeam=function(e){var t,n=this,s=[];return i.isArray(e)||(e=[e]),e.forEach((function(e){e=""+e,t=n.get("team",e).then((function(t){if(t&&c(t))throw r.stillInTeamError({callFunc:"team::deleteTeam",team:t});var s=n.remove("team",e),i=n.deleteTeamMembers(e);return Promise.all([s,i])})),s.push(t)})),1===s.length?s[0]:Promise.all(s)}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0);s.mergeFriends=function(e,t,n){var s=this;return s.updateAndDelete("friend",e,t).then((function(){return s.logger.log("db::mergeFriends: updateAndDelete done",e),n&&s.updateFriendTimetag(n),[e,t,n]}))},s.putFriend=function(e){return this.put("friend",e)},s.updateFriend=function(e){var t=this,n=(e=i.copy(e)).account;return this.getOne("friend",null,n,{modifyObj:e}).then((function(s){return s?t.logger.log("db::updateFriend: "+n,e):t.logger.warn("db::updateFriend: no record "+n),s}))},s.deleteFriend=function(e){var t=this.remove("friend",e),n=this.deleteUser(e);return Promise.all([t,n])},s.getFriends=function(){return this.getAll("friend",{filter:function(e){return e.valid}})},s.getFriend=function(e){return this.getOne("friend",null,e)}},function(e,t,n){"use strict";var s=n(20).fn,i=n(0);s.mergeRelations=function(e,t,n,s,i){var r=this,o=r.updateAndDelete("blacklist",e,t),a=r.updateAndDelete("mutelist",n,s);return Promise.all([o,a]).then((function(){return r.logger.log("db::mergeRelations: timetag "+i),r.updateRelationTimetag(i),[e,t,n,s,i]}))},s.getRelations=function(){var e=this.getAll("blacklist"),t=this.getAll("mutelist");return Promise.all([e,t])},s.markInBlacklist=function(e){if((e=i.copy(e)).isAdd){var t=e.record;return this.put("blacklist",t)}var n=e.account;return this.remove("blacklist",n)},s.markInMutelist=function(e){if((e=i.copy(e)).isAdd){var t=e.record;return this.put("mutelist",t)}var n=e.account;return this.remove("mutelist",n)}},function(e,t,n){"use strict";var s=n(20).fn;s.getTimetags=function(e){var t={};return this.getAll("timetag",{filter:e,mapper:function(e){return-1!==e.name.indexOf("team-")?t[e.name]=0:t[e.name]=e.value,e}}).then((function(){return t}))},s.getTeamMemberTimetags=function(){return this.getTimetags((function(e){return-1!==e.name.indexOf("team-")}))},s.getTimetag=function(e){return this.getOne("timetag",null,e).then((function(e){return(e=e||{value:0}).value}))},s.getTeamMemberTimetag=function(e){return 0},s.updateTimetag=function(e,t){var n=this,s={name:e,value:t};return this.put("timetag",s).catch((function(e){n.notifyError&&n.notifyError(e)}))},s.updateMyInfoTimetag=function(e){return this.updateTimetag("myInfo",e)},s.updateRelationTimetag=function(e){return this.updateTimetag("relations",e)},s.getRelationsTimetag=function(){return this.getTimetag("relations")},s.updateFriendTimetag=function(e){return this.updateTimetag("friends",e)},s.getFriendsTimetag=function(){return this.getTimetag("friends")},s.updateFriendUserTimetag=function(e){return this.updateTimetag("friendUsers",e)},s.updateTeamTimetag=function(e){return this.updateTimetag("teams",e)},s.getTeamsTimetag=function(){return this.getTimetag("teams")},s.updateSuperTeamTimetag=function(e){return this.updateTimetag("superTeams",e)},s.getSuperTeamsTimetag=function(){return this.getTimetag("superTeams")},s.updateTeamMemberTimetag=function(e,t){return this.updateTimetag("team-"+e,t)},s.getTeamMembersTimetag=function(e){return this.getTimetag("team-"+e)},s.updateSuperTeamMemberTimetag=function(e,t){return this.updateTimetag("superTeam-"+e,t)},s.getSuperTeamMembersTimetag=function(e){return this.getTimetag("superTeam-"+e)},s.updateMyTeamMembersTimetag=function(e){return this.updateTimetag("myTeamMembers",e)},s.getBroadcastMsgTimetag=function(e){return this.getTimetag("broadcastMsg")},s.updateBroadcastMsgTimetag=function(e){return this.updateTimetag("broadcastMsg",parseInt(e))},s.updateRoamingMsgTimetag=function(e){return this.updateTimetag("roamingMsgs",e)},s.updateSuperTeamRoamingMsgTimetag=function(e){return this.updateTimetag("superTeamRoamingMsgs",e)},s.updateMsgReceiptsTimetag=function(e){return this.updateTimetag("msgReceipts",e)},s.updateDonnopTimetag=function(e){return this.updateTimetag("donnop",e)},s.updateSessionAck=function(e){return this.updateTimetag("sessionAck",e)},s.updateSuperTeamSessionAck=function(e){return this.updateTimetag("superTeamSessionAck",e)},s.deleteTimetag=function(e){return this.remove("timetag",e)},s.deleteTeamMemberTimetag=function(e){return this.deleteTimetag("team-"+e)},s.deleteSuperTeamMemberTimetag=function(e){return this.deleteTimetag("superTeam-"+e)}},function(e,t,n){"use strict";var s=n(20).fn;s.setKey=function(e,t){return this.put("kv",{key:e,value:t})},s.getKey=function(e){return this.get("kv",e).then((function(e){return e&&e.value}))},s.setDonnop=function(e){return this.setKey("donnop",e)},s.getDonnop=function(){return this.getKey("donnop")}},function(e,t,n){"use strict";function s(e){this.concurrency=0,this.pendingTasks=[],this.queue=Promise.resolve(),this.logger=e.logger,this.notifyError=e.notifyError,this.enable=!1,this.server=null,this.name=null}var i=s.prototype;i.reset=function(e){this.enable=!1},i.clear=i.destroy=i.close=i.remove=i.init=function(e){return Promise.resolve()},e.exports=s},function(e,t,n){"use strict";n(130);var s=n(8);n(100)(s),e.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(130);var s={NIM:n(298),Chatroom:n(210)};n(100)(s),e.exports=s}])}).call(this,__webpack_require__("0de9")["default"],__webpack_require__("fe07")["default"])},"8d83":function(e,t,n){"use strict";n.r(t);var s=n("05fc"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"8e4a":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("72df"));function i(e){return e&&e.__esModule?e:{default:e}}var r={components:{DynamicCon:s.default},data:function(){return{}},methods:{hideAll:function(){this.$refs.dynamiccon.isShowPraise&&(this.$refs.dynamiccon.isShowPraise=!1),this.$refs.dynamiccon.hasComment&&(this.$refs.dynamiccon.commentContent="",this.$refs.dynamiccon.hasComment=!1),-1!==this.$refs.dynamiccon.currentReplyindex&&(this.$refs.dynamiccon.currentReplyindex=-1)}},onPageScroll:function(e){this.hideAll()},onReachBottom:function(){e("log","滚动到底部，朋友动态第一页已展示完毕，开始请求第二页数据"," at components\\content\\dynamic\\Dynamic.vue:44")},onNavigationBarButtonTap:function(e){var t=this;0===e.index&&uni.navigateTo({url:"/components/content/publish/Publish",success:function(e){t.hideAll()}})}};t.default=r}).call(this,n("0de9")["default"])},"8e50":function(e,t,n){"use strict";n.r(t);var s=n("1bd8"),i=n("e920");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"8e82":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("a327"),i=n("563c"),r=n("2f62");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{}},mixins:[s.chooseFriendMixin],computed:a({},(0,r.mapState)(["userInfo","friendList"])),methods:{chooseItem:function(t){var n=this;e("log",t," at components\\content\\chooseFriend\\ChooseFriend.vue:76"),this.$nextTick((function(){t.checked=!t.checked,t.checked?(n.selectScrollLeft+=50,n.selectedItem+=1):n.selectedItem-=1,n.changeRightTopBtn()}))},submitChoose:function(){var t=this;uni.showLoading({mask:!0});var n=this.getHasChosenAccountList();switch(this.chooseFriendType){case"createGroup":(0,i.createGroupRequest)({createAccount:this.userInfo.user.userAccount,memberAccount:n,groupName:this.userInfo.user.nickname+"的讨论组",msg:this.userInfo.user.nickname+"邀请您加入讨论组",joinmodeAdv:0}).then((function(e){t.$toast.showRes(e),2e3===e.data.code&&uni.showToast({title:"创建成功",icon:"none",success:function(e){uni.navigateTo({url:"/components/content/session/Session"})}})})).catch((function(e){t.$toast.showErr(e)}));break;case"setRemind":uni.$emit("setRemindList",n),uni.navigateBack();break}e("log","选择好友的作用:",this.chooseFriendType," at components\\content\\chooseFriend\\ChooseFriend.vue:131"),e("log","this.list:",this.list," at components\\content\\chooseFriend\\ChooseFriend.vue:132"),setTimeout((function(){uni.hideLoading()}),2e3)}},onLoad:function(t){this.chooseFriendType=t.type;var n=[];"createGroup"===t.type?e("log","创建群"," at components\\content\\chooseFriend\\ChooseFriend.vue:146"):"setRemind"===t.type&&(n=uni.getStorageSync("setRemindList")),this.list=JSON.parse(JSON.stringify(this.friendList)),this.list.forEach((function(t){t.list.forEach((function(t){n?(e("log","oldList",n," at components\\content\\chooseFriend\\ChooseFriend.vue:154"),-1!==n.findIndex(t.friendAccount)&&(t.checked=!0)):t.checked=!1}))})),e("log","选择好友列表:",this.list," at components\\content\\chooseFriend\\ChooseFriend.vue:163")}};t.default=u}).call(this,n("0de9")["default"])},"8f15":function(e,t,n){"use strict";n.r(t);var s=n("9c38"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"91af":function(e,t,n){"use strict";var s=n("9f1f");e.exports=s.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,r,o){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(i)&&a.push("path="+i),s.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"91e8":function(e,t,n){"use strict";n.r(t);var s=n("58bb"),i=n("9496");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},"921b":function(e,t,n){"use strict";var s=n("8189");function i(e){return function(){var t,n=c(e);if(a()){var s=c(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return r(this,t)}}function r(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var p=s.version,h="https://tongji.dcloud.io/uni/stat",g="https://tongji.dcloud.io/uni/stat.gif",v=1800,y=300,b=10,_="__DC_STAT_UUID",T="__DC_UUID_VALUE";function S(){var e="";if("n"===k()){try{e=plus.runtime.getDCloudId()}catch(t){e=""}return e}try{e=uni.getStorageSync(_)}catch(t){e=T}if(!e){e=Date.now()+""+Math.floor(1e7*Math.random());try{uni.setStorageSync(_,e)}catch(t){uni.setStorageSync(_,T)}}return e}var C=function(e){var t=Object.keys(e),n=t.sort(),s={},i="";for(var r in n)s[n[r]]=e[n[r]],i+=n[r]+"="+e[n[r]]+"&";return{sign:"",options:i.substr(0,i.length-1)}},M=function(e){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t.substr(0,t.length-1)},w=function(){return parseInt((new Date).getTime()/1e3)},k=function(){var e={"app-plus":"n",h5:"h5","mp-weixin":"wx","mp-alipay":"ali","mp-baidu":"bd","mp-toutiao":"tt","mp-qq":"qq"};return e["app-plus"]},I=function(){var e="";return"wx"!==k()&&"qq"!==k()||uni.canIUse("getAccountInfoSync")&&(e=uni.getAccountInfoSync().miniProgram.appId||""),e},O=function(){return"n"===k()?plus.runtime.version:""},P=function(){var e=k(),t="";return"n"===e&&(t=plus.runtime.channel),t},x=function(e){var t=k(),n="";return e||("wx"===t&&(n=uni.getLaunchOptionsSync().scene),n)},A="First__Visit__Time",j="Last__Visit__Time",$=function(){var e=uni.getStorageSync(A),t=0;return e?t=e:(t=w(),uni.setStorageSync(A,t),uni.removeStorageSync(j)),t},R=function(){var e=uni.getStorageSync(j),t=0;return t=e||"",uni.setStorageSync(j,w()),t},E="__page__residence__time",L=0,D=0,N=function(){return L=w(),"n"===k()&&uni.setStorageSync(E,w()),L},U=function(){return D=w(),"n"===k()&&(L=uni.getStorageSync(E)),D-L},F="Total__Visit__Count",B=function(){var e=uni.getStorageSync(F),t=1;return e&&(t=e,t++),uni.setStorageSync(F,t),t},q=function(e){var t={};for(var n in e)t[n]=encodeURIComponent(e[n]);return t},H=0,G=0,V=function(){var e=(new Date).getTime();return H=e,G=0,e},z=function(){var e=(new Date).getTime();return G=e,e},J=function(e){var t=0;if(0!==H&&(t=G-H),t=parseInt(t/1e3),t=t<1?1:t,"app"===e){var n=t>y;return{residenceTime:t,overtime:n}}if("page"===e){var s=t>v;return{residenceTime:t,overtime:s}}return{residenceTime:t}},W=function(){var e=getCurrentPages(),t=e[e.length-1],n=t.$vm;return"bd"===k()?n.$mp&&n.$mp.page.is:n.$scope&&n.$scope.route||n.$mp&&n.$mp.page.route},K=function(e){var t=getCurrentPages(),n=t[t.length-1],s=n.$vm,i=e._query,r=i&&"{}"!==JSON.stringify(i)?"?"+JSON.stringify(i):"";return e._query="","bd"===k()?s.$mp&&s.$mp.page.is+r:s.$scope&&s.$scope.route+r||s.$mp&&s.$mp.page.route+r},X=function(e){return!!("page"===e.mpType||e.$mp&&"page"===e.$mp.mpType||"page"===e.$options.mpType)},Y=function(e,t){return e?"string"!==typeof e?(console.error("uni.report [eventName] 参数类型错误,只能为 String 类型"),!0):e.length>255?(console.error("uni.report [eventName] 参数长度不能大于 255"),!0):"string"!==typeof t&&"object"!==typeof t?(console.error("uni.report [options] 参数类型错误,只能为 String 或 Object 类型"),!0):"string"===typeof t&&t.length>255?(console.error("uni.report [options] 参数长度不能大于 255"),!0):"title"===e&&"string"!==typeof t?(console.error("uni.report [eventName] 参数为 title 时，[options] 参数只能为 String 类型"),!0):void 0:(console.error("uni.report 缺少 [eventName] 参数"),!0)},Q=n("1489").default,Z=n("ac50").default||n("ac50"),ee=uni.getSystemInfoSync(),te=function(){function e(){d(this,e),this.self="",this._retry=0,this._platform="",this._query={},this._navigationBarTitle={config:"",page:"",report:"",lt:""},this._operatingTime=0,this._reportingRequestData={1:[],11:[]},this.__prevent_triggering=!1,this.__licationHide=!1,this.__licationShow=!1,this._lastPageRoute="",this.statData={uuid:S(),ut:k(),mpn:I(),ak:Z.appid,usv:p,v:O(),ch:P(),cn:"",pn:"",ct:"",t:w(),tt:"",p:"android"===ee.platform?"a":"i",brand:ee.brand||"",md:ee.model,sv:ee.system.replace(/(Android|iOS)\s/,""),mpsdk:ee.SDKVersion||"",mpv:ee.version||"",lang:ee.language,pr:ee.pixelRatio,ww:ee.windowWidth,wh:ee.windowHeight,sw:ee.screenWidth,sh:ee.screenHeight}}return m(e,[{key:"_applicationShow",value:function(){if(this.__licationHide){z();var e=J("app");if(e.overtime){var t={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(t)}this.__licationHide=!1}}},{key:"_applicationHide",value:function(e,t){this.__licationHide=!0,z();var n=J();V();var s=K(this);this._sendHideRequest({urlref:s,urlref_ts:n.residenceTime},t)}},{key:"_pageShow",value:function(){var e=K(this),t=W();if(this._navigationBarTitle.config=Q&&Q.pages[t]&&Q.pages[t].titleNView&&Q.pages[t].titleNView.titleText||Q&&Q.pages[t]&&Q.pages[t].navigationBarTitleText||"",this.__licationShow)return V(),this.__licationShow=!1,void(this._lastPageRoute=e);z(),this._lastPageRoute=e;var n=J("page");if(n.overtime){var s={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(s)}V()}},{key:"_pageHide",value:function(){if(!this.__licationHide){z();var e=J("page");return this._sendPageRequest({url:this._lastPageRoute,urlref:this._lastPageRoute,urlref_ts:e.residenceTime}),void(this._navigationBarTitle={config:"",page:"",report:"",lt:""})}}},{key:"_login",value:function(){this._sendEventRequest({key:"login"},0)}},{key:"_share",value:function(){this._sendEventRequest({key:"share"},0)}},{key:"_payment",value:function(e){this._sendEventRequest({key:e},0)}},{key:"_sendReportRequest",value:function(e){this._navigationBarTitle.lt="1";var t=e.query&&"{}"!==JSON.stringify(e.query)?"?"+JSON.stringify(e.query):"";this.statData.lt="1",this.statData.url=e.path+t||"",this.statData.t=w(),this.statData.sc=x(e.scene),this.statData.fvts=$(),this.statData.lvts=R(),this.statData.tvc=B(),"n"===k()?this.getProperty():this.getNetworkInfo()}},{key:"_sendPageRequest",value:function(e){var t=e.url,n=e.urlref,s=e.urlref_ts;this._navigationBarTitle.lt="11";var i={ak:this.statData.ak,uuid:this.statData.uuid,lt:"11",ut:this.statData.ut,url:t,tt:this.statData.tt,urlref:n,urlref_ts:s,ch:this.statData.ch,usv:this.statData.usv,t:w(),p:this.statData.p};this.request(i)}},{key:"_sendHideRequest",value:function(e,t){var n=e.urlref,s=e.urlref_ts,i={ak:this.statData.ak,uuid:this.statData.uuid,lt:"3",ut:this.statData.ut,urlref:n,urlref_ts:s,ch:this.statData.ch,usv:this.statData.usv,t:w(),p:this.statData.p};this.request(i,t)}},{key:"_sendEventRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,n=void 0===t?"":t,s=e.value,i=void 0===s?"":s,r=this._lastPageRoute,o={ak:this.statData.ak,uuid:this.statData.uuid,lt:"21",ut:this.statData.ut,url:r,ch:this.statData.ch,e_n:n,e_v:"object"===typeof i?JSON.stringify(i):i.toString(),usv:this.statData.usv,t:w(),p:this.statData.p};this.request(o)}},{key:"getNetworkInfo",value:function(){var e=this;uni.getNetworkType({success:function(t){e.statData.net=t.networkType,e.getLocation()}})}},{key:"getProperty",value:function(){var e=this;plus.runtime.getProperty(plus.runtime.appid,(function(t){e.statData.v=t.version||"",e.getNetworkInfo()}))}},{key:"getLocation",value:function(){var e=this;Z.getLocation?uni.getLocation({type:"wgs84",geocode:!0,success:function(t){t.address&&(e.statData.cn=t.address.country,e.statData.pn=t.address.province,e.statData.ct=t.address.city),e.statData.lat=t.latitude,e.statData.lng=t.longitude,e.request(e.statData)}}):(this.statData.lat=0,this.statData.lng=0,this.request(this.statData))}},{key:"request",value:function(e,t){var n=this,s=w(),i=this._navigationBarTitle;e.ttn=i.page,e.ttpj=i.config,e.ttc=i.report;var r=this._reportingRequestData;if("n"===k()&&(r=uni.getStorageSync("__UNI__STAT__DATA")||{}),r[e.lt]||(r[e.lt]=[]),r[e.lt].push(e),"n"===k()&&uni.setStorageSync("__UNI__STAT__DATA",r),!(U()<b)||t){var o=this._reportingRequestData;"n"===k()&&(o=uni.getStorageSync("__UNI__STAT__DATA")),N();var a=[],c=[],u=[],l=function(e){var t=o[e];t.forEach((function(t){var n=M(t);0===e?a.push(n):3===e?u.push(n):c.push(n)}))};for(var d in o)l(d);a.push.apply(a,c.concat(u));var f={usv:p,t:s,requests:JSON.stringify(a)};this._reportingRequestData={},"n"===k()&&uni.removeStorageSync("__UNI__STAT__DATA"),"h5"!==e.ut?"n"!==k()||"a"!==this.statData.p?this._sendRequest(f):setTimeout((function(){n._sendRequest(f)}),200):this.imageRequest(f)}}},{key:"_sendRequest",value:function(e){var t=this;uni.request({url:h,method:"POST",data:e,success:function(){},fail:function(n){++t._retry<3&&setTimeout((function(){t._sendRequest(e)}),1e3)}})}},{key:"imageRequest",value:function(e){var t=new Image,n=C(q(e)).options;t.src=g+"?"+n}},{key:"sendEvent",value:function(e,t){Y(e,t)||("title"!==e?this._sendEventRequest({key:e,value:"object"===typeof t?JSON.stringify(t):t},1):this._navigationBarTitle.report=t)}}]),e}(),ne=function(e){u(n,e);var t=i(n);function n(){var e;return d(this,n),e=t.call(this),e.instance=null,"function"===typeof uni.addInterceptor&&(e.addInterceptorInit(),e.interceptLogin(),e.interceptShare(!0),e.interceptRequestPayment()),e}return m(n,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new n),this.instance}}]),m(n,[{key:"addInterceptorInit",value:function(){var e=this;uni.addInterceptor("setNavigationBarTitle",{invoke:function(t){e._navigationBarTitle.page=t.title}})}},{key:"interceptLogin",value:function(){var e=this;uni.addInterceptor("login",{complete:function(){e._login()}})}},{key:"interceptShare",value:function(e){var t=this;e?uni.addInterceptor("share",{success:function(){t._share()},fail:function(){t._share()}}):t._share()}},{key:"interceptRequestPayment",value:function(){var e=this;uni.addInterceptor("requestPayment",{success:function(){e._payment("pay_success")},fail:function(){e._payment("pay_fail")}})}},{key:"report",value:function(e,t){this.self=t,N(),this.__licationShow=!0,this._sendReportRequest(e,!0)}},{key:"load",value:function(e,t){if(!t.$scope&&!t.$mp){var n=getCurrentPages();t.$scope=n[n.length-1]}this.self=t,this._query=e}},{key:"show",value:function(e){this.self=e,X(e)?this._pageShow(e):this._applicationShow(e)}},{key:"ready",value:function(e){}},{key:"hide",value:function(e){this.self=e,X(e)?this._pageHide(e):this._applicationHide(e,!0)}},{key:"error",value:function(e){this._platform;var t="";t=e.message?e.stack:JSON.stringify(e);var n={ak:this.statData.ak,uuid:this.statData.uuid,lt:"31",ut:this.statData.ut,ch:this.statData.ch,mpsdk:this.statData.mpsdk,mpv:this.statData.mpv,v:this.statData.v,em:t,usv:this.statData.usv,t:w(),p:this.statData.p};this.request(n)}}]),n}(te),se=ne.getInstance(),ie=!1,re={onLaunch:function(e){se.report(e,this)},onReady:function(){se.ready(this)},onLoad:function(e){if(se.load(e,this),this.$scope&&this.$scope.onShareAppMessage){var t=this.$scope.onShareAppMessage;this.$scope.onShareAppMessage=function(e){return se.interceptShare(!1),t.call(this,e)}}},onShow:function(){ie=!1,se.show(this)},onHide:function(){ie=!0,se.hide(this)},onUnload:function(){ie?ie=!1:se.hide(this)},onError:function(e){se.error(e)}};function oe(){var e=n("8bbf");(e.default||e).mixin(re),uni.report=function(e,t){se.sendEvent(e,t)}}oe()},9496:function(e,t,n){"use strict";n.r(t);var s=n("5af9"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"993b":function(e,t,n){"use strict";n.r(t);var s=n("f46f"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"9c00":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.openDB=i,t.createTable=r,t.insertData=o,t.selectData=a,t.transactionDB=c,t.deleteData=u,t.closeDB=l;var s=n("d8a9");function i(){return new Promise((function(t,n){plus.sqlite.isOpenDatabase({name:s.name,path:s.path})?(e("log","".concat(s.name,"-----数据库已经打开")," at common\\sqlite.js:25"),t(!0)):plus.sqlite.openDatabase({name:s.name,path:s.path,success:function(n){e("log","".concat(s.name,"-----打开数据库成功")," at common\\sqlite.js:16"),t(!0)},fail:function(t){e("log","".concat(s.name,"-----打开数据库失败")," at common\\sqlite.js:20"),n(!1)}})}))}function r(t,n){return new Promise((function(i,r){plus.sqlite.selectSql({name:s.name,sql:"select * from ".concat(t," where id=1"),success:function(t){e("log","".concat(s.name,"-----该数据表第一个数据为:"),t," at common\\sqlite.js:48"),i(!0)},fail:function(t){e("log","".concat(s.name,"-----无数据表,开始创建---")," at common\\sqlite.js:52"),plus.sqlite.executeSql({name:s.name,sql:n,success:function(t){e("log","".concat(s.name,"-----数据表创建成功"),t," at common\\sqlite.js:57"),i(!0)},fail:function(t){e("log","".concat(s.name,"-----数据表创建失败"),t," at common\\sqlite.js:61"),r(!1)}})}})}))}function o(t,n){return new Promise((function(t,i){plus.sqlite.executeSql({name:s.name,sql:n,success:function(n){e("log","".concat(s.name,"-----插入数据成功"),n," at common\\sqlite.js:80"),t(n)},fail:function(t){e("log","".concat(s.name,"-----插入数据失败"),t," at common\\sqlite.js:84"),i(t)}})}))}function a(t,n){return new Promise((function(t,i){plus.sqlite.selectSql({name:s.name,sql:n,success:function(n){e("log","".concat(s.name,"-----查询数据表为:"),n," at common\\sqlite.js:99"),t(n)},fail:function(t){e("log","".concat(s.name,"-----查询数据表失败:"),t," at common\\sqlite.js:103"),i(t)}})}))}function c(t){return new Promise((function(n,i){plus.sqlite.transaction({name:s.name,operation:t,success:function(i){e("log","".concat(s.name,"-----").concat(t,"执行事务成功"),i," at common\\sqlite.js:119"),n(!0)},fail:function(n){e("log","".concat(s.name,"-----").concat(t,"执行事务错误"),n," at common\\sqlite.js:123"),i(!1)}})}))}function u(t){return new Promise((function(n,i){plus.sqlite.executeSql({name:s.name,sql:t,success:function(t){e("log","".concat(s.name,"-----删除数据表/数据成功:"),t," at common\\sqlite.js:137"),n(t)},fail:function(t){e("log","".concat(s.name,"-----删除数据表/数据失败:"),t," at common\\sqlite.js:141"),i(t)}})}))}function l(){return new Promise((function(t,n){plus.sqlite.closeDatabase({name:s.name,success:function(n){e("log","".concat(s.name,"-----关闭数据库成功")," at common\\sqlite.js:154"),t(!0)},fail:function(t){e("log","".concat(s.name,"-----关闭数据库失败"),t," at common\\sqlite.js:158"),n(!1)}})}))}}).call(this,n("0de9")["default"])},"9c1c":function(e,t,n){"use strict";n.r(t);var s=n("e3b9"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"9c38":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("cd60")),i=n("3389");function r(e){return e&&e.__esModule?e:{default:e}}var o={components:{HeadImgItem:s.default},data:function(){return{txt1:"",txt2:"",userAccount:"",currentText:""}},methods:{PublishDynamic:function(){if(this.currentText.length>0){var t={account:this.userAccount,content:this.currentText,address:"广州天河"};(0,i.doPublishDynamic)(t).then((function(t){e("log",t," at components\\content\\publish\\Publish.vue:73"),200===t.status&&2e3===t.data.code?(uni.$emit("updateDynamicList",{}),uni.navigateBack()):uni.showToast({title:"发表失败",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\publish\\Publish.vue:91")}))}else uni.showToast({title:"请输入内容",icon:"none"})},toLocationInfo:function(){uni.navigateTo({url:"/components/content/myLocation/LocationInfo"})}},onNavigationBarButtonTap:function(t){0===t.index&&(e("log","option"," at components\\content\\publish\\Publish.vue:109"),this.PublishDynamic())},onBackPress:function(t){if("navigateBack"===t.from)return!1;if("backbutton"===t.from){if(!(this.currentText.length>0))return!1;uni.showModal({title:"提示",content:"您确定退出当前编辑？",success:function(e){if(e.confirm)uni.navigateBack();else if(e.cancel)return!0},fail:function(t){return e("log",t," at components\\content\\publish\\Publish.vue:133"),!0}})}return!0},created:function(){var e=uni.getStorageSync("userInfo");this.userAccount=e.user.userAccount}};t.default=o}).call(this,n("0de9")["default"])},"9d1f":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","choose-province"),attrs:{_i:0}},[e._l(e._$s(1,"f",{forItems:e.list}),(function(t,s,i,r){return[n("default-list",{key:e._$s(1,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),attrs:{_i:"2-"+r},nativeOn:{click:function(t){return e.toChooseCity(s)}}},[n("view",{slot:"def-list-left"},[e._v(e._$s("3-"+r,"t0-0",e._s(t.name)))])])]}))],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},"9d45":function(e,t,n){"use strict";n.r(t);var s=n("41ce"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"9e69":function(e,t,n){"use strict";n.r(t);var s=n("539f"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"9f1f":function(e,t,n){"use strict";var s=n("32aa"),i=n("044b"),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function a(e){return"[object ArrayBuffer]"===r.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function l(e){return"string"===typeof e}function d(e){return"number"===typeof e}function f(e){return"undefined"===typeof e}function m(e){return null!==e&&"object"===typeof e}function p(e){return"[object Date]"===r.call(e)}function h(e){return"[object File]"===r.call(e)}function g(e){return"[object Blob]"===r.call(e)}function v(e){return"[object Function]"===r.call(e)}function y(e){return m(e)&&v(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function T(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function C(){var e={};function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=C(e[n],t):e[n]=t}for(var n=0,s=arguments.length;n<s;n++)S(arguments[n],t);return e}function M(){var e={};function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=M(e[n],t):e[n]="object"===typeof t?M({},t):t}for(var n=0,s=arguments.length;n<s;n++)S(arguments[n],t);return e}function w(e,t,n){return S(t,(function(t,i){e[i]=n&&"function"===typeof t?s(t,n):t})),e}e.exports={isArray:o,isArrayBuffer:a,isBuffer:i,isFormData:c,isArrayBufferView:u,isString:l,isNumber:d,isObject:m,isUndefined:f,isDate:p,isFile:h,isBlob:g,isFunction:v,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:T,forEach:S,merge:C,deepMerge:M,extend:w,trim:_}},"9f2f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("a327"),i=n("587d"),r={data:function(){return{showPhoneInput:!1}},mixins:[s.sendCodeMixin],methods:{toRegister2:function(){uni.navigateTo({url:"/components/content/register/register2"})},registerClick:function(e){var t=e.detail.value;(0,i.isPoneAvailable)(t.userPhone)?this.getCode===parseInt(t.code)?uni.navigateTo({url:"/components/content/register/register2?userPhone="+t.userPhone}):uni.showToast({title:"验证码错误",icon:"none"}):uni.showToast({title:"手机号错误",icon:"none"})},handlerUserPhone:function(e){e.detail.value.length>0?this.showPhoneInput=!0:this.showPhoneInput=!1},delInput:function(){var e=this;setTimeout((function(){e.userPhone="",e.showPhoneInput=!1}),80)}}};t.default=r},"9f74":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("d427"),i=n("2f62");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{friendPhone:null,requestMsg:""}},computed:o({},(0,i.mapState)(["userInfo"])),methods:{finishedApply:function(){if(""!==this.requestMsg){var t={sender:this.userInfo.user.userPhone,receiver:this.friendPhone,addType:1,requestMsg:this.requestMsg};(0,s.ApplyAddFriendRequest)(t).then((function(t){200===t.status?(e("log",t," at components\\content\\applyfriend\\ApplyFriend.vue:67"),4003===t.data.code?uni.showToast({title:"请求已发送",mask:!0,success:function(){setTimeout((function(){uni.navigateBack()}),1e3)}}):2e3===t.data.code?uni.showToast({title:"添加好友请求发送成功",mask:!0,success:function(){setTimeout((function(){uni.navigateBack()}),1e3)}}):uni.showToast({title:"请求发送失败，请稍后重试",icon:"none"})):uni.showToast({title:"网络连接错误",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\applyfriend\\ApplyFriend.vue:103"),uni.showToast({title:"添加失败,请稍后重试",icon:"none"})}))}else uni.showToast({title:"请求信息不能为空",icon:"none"})}},onLoad:function(t){e("log",t," at components\\content\\applyfriend\\ApplyFriend.vue:112"),this.friendPhone=t.friendPhone},onNavigationBarButtonTap:function(e){0===e.index&&this.finishedApply()}};t.default=c}).call(this,n("0de9")["default"])},"9f79":function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","dynamiccon"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","dynamiccon-top"),attrs:{_i:1},on:{click:e.toMyDynamic}},[n("text",{staticClass:e._$s(2,"sc","dynamiccon-top-left"),attrs:{_i:2}}),n("view",{staticClass:e._$s(3,"sc","dynamiccon-top-right"),attrs:{_i:3}},[n("text",{staticClass:e._$s(4,"sc","dynamiccon-top-right-text"),attrs:{_i:4}})])]),e._$s(5,"i",e.friendDynamicList.length>0)?[e._l(e._$s(6,"f",{forItems:e.friendDynamicList}),(function(t,s,i,r){return[n("view",{key:e._$s(6,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),staticClass:e._$s("7-"+r,"sc","dyc-list"),class:e._$s("7-"+r,"c","dyc-list"+s),attrs:{_i:"7-"+r}},[n("view",{staticClass:e._$s("8-"+r,"sc","dyc-list-head-img"),attrs:{_i:"8-"+r},on:{click:function(n){return e.toFriendInfo(t.account)}}},[n("image",{attrs:{src:e._$s("9-"+r,"a-src",e.imgUrl+t.faceImage),_i:"9-"+r}})]),n("view",{staticClass:e._$s("10-"+r,"sc","dyc-list-con"),attrs:{_i:"10-"+r}},[n("view",{staticClass:e._$s("11-"+r,"sc","dyc-list-name cliFontColor"),attrs:{_i:"11-"+r},on:{click:function(n){return e.toFriendInfo(t.account)}}},[e._v(e._$s("11-"+r,"t0-0",e._s(t.name)))]),n("view",{staticClass:e._$s("12-"+r,"sc","dyc-list-text"),attrs:{_i:"12-"+r}},[n("text",{},[e._v(e._$s("13-"+r,"t0-0",e._s(t.content)))])]),n("view",{staticClass:e._$s("14-"+r,"sc","dyc-local-list"),attrs:{_i:"14-"+r}},[n("view",{staticClass:e._$s("15-"+r,"sc","left-time-local"),attrs:{_i:"15-"+r}},[n("text",{staticClass:e._$s("16-"+r,"sc","left-time"),attrs:{_i:"16-"+r}},[e._v(e._$s("16-"+r,"t0-0",e._s(e._f("getFormatTime")(t.time))))]),n("text",{staticClass:e._$s("17-"+r,"sc","left-local"),attrs:{_i:"17-"+r}},[e._v(e._$s("17-"+r,"t0-0",e._s(t.location)))])]),n("view",{staticClass:e._$s("18-"+r,"sc","right-praise"),class:e._$s("18-"+r,"c","dynamic-right-praise"+s),attrs:{_i:"18-"+r},on:{click:function(t){return t.stopPropagation(),e.handlerPraise(s)}}},[n("image",{staticClass:e._$s("19-"+r,"sc","right-praise-img"),class:e._$s("19-"+r,"c","right-praise-img"+s),attrs:{"data-index":e._$s("19-"+r,"a-data-index",s),_i:"19-"+r}})])]),n("view",{staticClass:e._$s("20-"+r,"sc","praise-comment"),attrs:{_i:"20-"+r}},[e._$s("21-"+r,"i",t.likePerson.length>0&&"{}"!==JSON.stringify(t.likePerson[0]))?n("view",{staticClass:e._$s("21-"+r,"sc","praise-list"),class:e._$s("21-"+r,"c",{"praise-list-borderbtm":t.comment.length>0}),attrs:{_i:"21-"+r}},[n("view",{staticClass:e._$s("22-"+r,"sc","praise-list-leftImg"),attrs:{_i:"22-"+r}},[n("text",{staticClass:e._$s("23-"+r,"sc","my-iconfont praise-list-loveImg"),attrs:{_i:"23-"+r}})]),e._l(e._$s("24-"+r,"f",{forItems:t.likePerson}),(function(s,i,o,a){return e._l(e._$s("25-"+r+"-"+a,"f",{forItems:s}),(function(s,o,c,u){return n("text",{key:e._$s("25-"+r+"-"+a,"f",{forIndex:c,key:c+"_"+i+"_0"}),staticClass:e._$s("25-"+r+"-"+a+"-"+u,"sc","praise-list-name"),attrs:{_i:"25-"+r+"-"+a+"-"+u},on:{click:function(t){return t.stopPropagation(),e.toFriendInfo(o)}}},[n("text",{staticClass:e._$s("26-"+r+"-"+a+"-"+u,"sc","praise-name"),attrs:{_i:"26-"+r+"-"+a+"-"+u}},[e._v(e._$s("26-"+r+"-"+a+"-"+u,"t0-0",e._s(s)))]),e._$s("27-"+r+"-"+a+"-"+u,"i",i===t.likePerson.length-1)?n("text",{staticClass:e._$s("27-"+r+"-"+a+"-"+u,"sc","praise-list-comma"),attrs:{_i:"27-"+r+"-"+a+"-"+u}}):n("text",{staticClass:e._$s("28-"+r+"-"+a+"-"+u,"sc","praise-list-comma"),attrs:{_i:"28-"+r+"-"+a+"-"+u}})])}))}))],2):e._e(),e._$s("29-"+r,"i",t.comment.length>0)?[n("view",{staticClass:e._$s("30-"+r,"sc","comment-list"),attrs:{_i:"30-"+r}},e._l(e._$s("31-"+r,"f",{forItems:t.comment}),(function(t,i,o,a){return n("view",{key:e._$s("31-"+r,"f",{forIndex:o,key:i}),staticClass:e._$s("31-"+r+"-"+a,"sc","comment-list-item"),attrs:{_i:"31-"+r+"-"+a},on:{click:function(t){return t.stopPropagation(),e.showComment(s,i)}}},[n("text",{staticClass:e._$s("32-"+r+"-"+a,"sc","comment-list-item-name"),attrs:{_i:"32-"+r+"-"+a},on:{click:function(n){return n.stopPropagation(),e.toFriendInfo(t.user)}}},[e._v(e._$s("32-"+r+"-"+a,"t0-0",e._s(t.userNickname)))]),e._$s("33-"+r+"-"+a,"i",0!==t.commentFatherId)?[n("text"),e._$s("35-"+r+"-"+a,"i",t.friendName)?n("text",{staticClass:e._$s("35-"+r+"-"+a,"sc","comment-list-item-name"),attrs:{_i:"35-"+r+"-"+a},on:{click:function(n){return n.stopPropagation(),e.toFriendInfo(t.toUser)}}},[e._v(e._$s("35-"+r+"-"+a,"t0-0",e._s(t.friendName)))]):e._e()]:e._e(),n("text",{staticClass:e._$s("36-"+r+"-"+a,"sc","comment-list-item-text"),attrs:{_i:"36-"+r+"-"+a}},[n("text",{staticClass:e._$s("37-"+r+"-"+a,"sc","colon"),attrs:{_i:"37-"+r+"-"+a}}),n("text",{attrs:{_i:"38-"+r+"-"+a}},[e._v(e._$s("38-"+r+"-"+a,"t0-0",e._s(t.commentContent)))])])],2)})),0)]:e._e()],2)])])]}))]:[n("view",{staticClass:e._$s(40,"sc","dynamic-loading"),attrs:{_i:40}},[n("loading-icon",{attrs:{_i:41}})],1)],e._$s(42,"i",e.isShowPraise)?n("view",{staticClass:e._$s(42,"sc","praise-and-comment-mask"),attrs:{_i:42},on:{click:function(t){return t.stopPropagation(),e.hidePraiseCommentMask(t)}}},[n("view",{staticClass:e._$s(43,"sc","praise-and-comment"),class:e._$s(43,"c",e.isShowPraise?"effect-in":"effect-hide"),style:e._$s(43,"s",e.popStyle),attrs:{_i:43}},[n("view",{staticClass:e._$s(44,"sc","praise-item"),attrs:{_i:44},on:{click:function(t){return t.stopPropagation(),e.toPraise(t)}}},[n("text",{staticClass:e._$s(45,"sc","my-iconfont praise-item-icon"),attrs:{_i:45}}),e._$s(46,"i",!e.hasPraise)?n("text",{staticClass:e._$s(46,"sc","praise-item-text"),attrs:{_i:46}}):n("text",{staticClass:e._$s(47,"sc","praise-item-text"),attrs:{_i:47}})]),n("view",{staticClass:e._$s(48,"sc","comment-item"),attrs:{_i:48},on:{click:function(t){return t.stopPropagation(),e.toComment(t)}}},[n("text",{staticClass:e._$s(49,"sc","my-iconfont comment-item-icon"),attrs:{_i:49}}),n("text",{staticClass:e._$s(50,"sc","comment-item-text"),attrs:{_i:50}})]),n("view",{staticClass:e._$s(51,"sc","praise-and-comment-porn"),attrs:{_i:51}})])]):e._e(),e._$s(52,"i",e.hasComment)?n("view",{staticClass:e._$s(52,"sc","comment-frame"),attrs:{_i:52}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentContent,expression:"commentContent"}],attrs:{placeholder:e._$s(53,"a-placeholder",e.commentPlaceholder),_i:53},domProps:{value:e._$s(53,"v-model",e.commentContent)},on:{focus:e.handleFocus,input:function(t){t.target.composing||(e.commentContent=t.target.value)}}}),n("view",{staticClass:e._$s(54,"sc","my-iconfont comment-frame-icon"),attrs:{_i:54},on:{click:function(t){return t.stopPropagation(),e.handleSmilingFace(t)}}}),n("view",{staticClass:e._$s(55,"sc","comment-frame-btm"),class:e._$s(55,"c",{hasCommentContent:e.commentContent.length>0}),attrs:{_i:55},on:{click:function(t){return t.stopPropagation(),e.publishComment(t)}}})]):e._e()],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},a02b:function(e,t,n){"use strict";n.r(t);var s=n("7490"),i=n("6c69");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"65bb07fe",null,!1,s["a"],o);t["default"]=c.exports},a13e:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","session"),attrs:{_i:0},on:{click:e.hideAll}},[n("view",{style:e._$s(1,"s",e.btmStyle1),attrs:{id:"session-content",_i:1}},[e._l(e._$s(2,"f",{forItems:e.SconvertRawMessageListToRenderMessageArr}),(function(t,s,i,r){return[e._$s("3-"+r,"i","receive"===t.sendOrReceive)?n("view",{key:e._$s(2,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),staticClass:e._$s("3-"+r,"sc","msg-list"),attrs:{_i:"3-"+r}},[n("view",{staticClass:e._$s("4-"+r,"sc","msg-list-time"),attrs:{_i:"4-"+r}},[e._$s("5-"+r,"i",t.displayTimeHeader)?n("text",{staticClass:e._$s("5-"+r,"sc","time-text"),attrs:{_i:"5-"+r}},[e._v(e._$s("5-"+r,"t0-0",e._s(t.displayTimeHeader)))]):e._e(),e._$s("6-"+r,"i","notification"===t.type)?n("text",{staticClass:e._$s("6-"+r,"sc","withdraw-text"),attrs:{_i:"6-"+r}},[e._v(e._$s("6-"+r,"t0-0",e._s(t.text)))]):e._e()]),n("view",{staticClass:e._$s("7-"+r,"sc","msg-item"),attrs:{_i:"7-"+r}},[e._$s("8-"+r,"i","text"===t.type)?n("view",{staticClass:e._$s("8-"+r,"sc","friend-item"),attrs:{_i:"8-"+r}},[n("image",{staticClass:e._$s("9-"+r,"sc","friend-item-img msg-item-img"),attrs:{src:e._$s("9-"+r,"a-src",e.imgUrl+e.getFriendInfoByAcccount("p2p"===e.chatType?"p2p":"team",e.chatTo,"friendFaceImage","team"===e.chatType?e.groupInfo.groupMember:null)),_i:"9-"+r},on:{click:e.toGroupInfo}}),n("view",{staticClass:e._$s("10-"+r,"sc","friend-item-msg item-msg"),attrs:{_i:"10-"+r}},[e._$s("11-"+r,"i","p2p"===e.chatType)?n("view",{staticClass:e._$s("11-"+r,"sc","friend-name"),attrs:{_i:"11-"+r}},[e._v(e._$s("11-"+r,"t0-0",e._s(e.getFriendInfoByAcccount("p2p"===e.chatType?"p2p":"team",e.chatTo,"friendRemarkName","team"===e.chatType?e.groupInfo.groupMember:null))))]):e._e(),n("view",{staticClass:e._$s("12-"+r,"sc","friend-msg msg"),attrs:{_i:"12-"+r}},[n("text",{attrs:{_i:"13-"+r}},[e._v(e._$s("13-"+r,"t0-0",e._s(t.text)))]),n("view",{staticClass:e._$s("14-"+r,"sc","friend-horn"),attrs:{_i:"14-"+r}})])])]):e._e()])]):e._e(),e._$s("15-"+r,"i","send"===t.sendOrReceive)?n("view",{key:e._$s(2,"f",{forIndex:i,keyIndex:1,key:s+"_1"}),staticClass:e._$s("15-"+r,"sc","msg-list"),attrs:{_i:"15-"+r}},[n("view",{staticClass:e._$s("16-"+r,"sc","msg-list-time"),attrs:{_i:"16-"+r}},[e._$s("17-"+r,"i",t.displayTimeHeader)?n("text",{staticClass:e._$s("17-"+r,"sc","time-text"),attrs:{_i:"17-"+r}},[e._v(e._$s("17-"+r,"t0-0",e._s(t.displayTimeHeader)))]):e._e(),e._$s("18-"+r,"i","notification"===t.type)?n("text",{staticClass:e._$s("18-"+r,"sc","withdraw-text"),attrs:{_i:"18-"+r}},[e._v(e._$s("18-"+r,"t0-0",e._s(t.text)))]):e._e()]),n("view",{staticClass:e._$s("19-"+r,"sc","msg-item"),attrs:{_i:"19-"+r}},[e._$s("20-"+r,"i","text"===t.type)?n("view",{staticClass:e._$s("20-"+r,"sc","my-item"),attrs:{_i:"20-"+r}},[n("view",{staticClass:e._$s("21-"+r,"sc","my-item-msg item-msg"),attrs:{_i:"21-"+r}},[n("view",{staticClass:e._$s("22-"+r,"sc","my-msg msg"),attrs:{_i:"22-"+r}},[n("text",{attrs:{_i:"23-"+r}},[e._v(e._$s("23-"+r,"t0-0",e._s(t.text)))]),n("view",{staticClass:e._$s("24-"+r,"sc","my-horn"),attrs:{_i:"24-"+r}}),e._$s("25-"+r,"i",e.msgTips)?n("view",{staticClass:e._$s("25-"+r,"sc","my-msg-tips my-iconfont"),attrs:{_i:"25-"+r},on:{click:e.handleTips}}):e._e()])]),n("image",{staticClass:e._$s("26-"+r,"sc","my-item-img msg-item-img"),attrs:{_i:"26-"+r}})]):e._e()])]):e._e()]}))],2),n("view",{staticClass:e._$s(27,"sc","session-btm"),attrs:{_i:27}},[n("view",{staticClass:e._$s(28,"sc","session-first"),attrs:{_i:28}},[e._$s(29,"i",e.showKeyboard)?n("view",{staticClass:e._$s(29,"sc","my-iconfont voice-icon"),attrs:{_i:29},on:{click:function(t){return t.stopPropagation(),e.doSpeak(t)}}}):e._e(),e._$s(30,"i",!e.showKeyboard)?n("view",{staticClass:e._$s(30,"sc","my-iconfont keyboard-icon"),attrs:{_i:30},on:{click:function(t){return t.stopPropagation(),e.doInput(t)}}}):e._e(),e._$s(31,"i",e.showKeyboard)?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.msgContent,expression:"msgContent"}],attrs:{_i:31},domProps:{value:e._$s(31,"v-model",e.msgContent)},on:{input:[function(t){t.target.composing||(e.msgContent=t.target.value)},e.handleInput],focus:e.handleFocus,click:function(t){return t.stopPropagation(),e.updateFocus(t)}}}):e._e(),e._$s(32,"i",!e.showKeyboard)?n("view",{staticClass:e._$s(32,"sc","voice-title"),class:e._$s(32,"c",e.isSpeak?"speaking-class":""),attrs:{_i:32},on:{touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.showSpeaking(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.moveHandle(t)},touchend:e.hideSpeaking}},[e._v(e._$s(32,"t0-0",e._s(e.speakingTitle)))]):e._e(),n("view",{staticClass:e._$s(33,"sc","my-iconfont smiling-icon"),attrs:{_i:33}}),e._$s(34,"i",""===e.msgContent)?n("view",{staticClass:e._$s(34,"sc","my-iconfont add-icon"),attrs:{_i:34},on:{click:function(t){return t.stopPropagation(),e.handleTool(t)}}}):n("view",{staticClass:e._$s(35,"sc","send-btn"),attrs:{_i:35},on:{click:e.sendMsg}})]),e._$s(36,"i",e.showTool)?n("view",{staticClass:e._$s(36,"sc","session-tool def-top-border"),attrs:{_i:36}},[n("view",{staticClass:e._$s(37,"sc","tool-item"),attrs:{_i:37},on:{click:function(t){return t.stopPropagation(),e.tapTool(t)}}},[n("view",{staticClass:e._$s(38,"sc","tool-item-icon tool-item-icon0"),attrs:{_i:38}},[n("text",{staticClass:e._$s(39,"sc","my-iconfont"),attrs:{_i:39}})]),n("view",{staticClass:e._$s(40,"sc","tool-item-title"),attrs:{_i:40}})]),n("view",{staticClass:e._$s(41,"sc","tool-item"),attrs:{_i:41},on:{click:function(t){return t.stopPropagation(),e.tapTool(t)}}},[n("view",{staticClass:e._$s(42,"sc","tool-item-icon tool-item-icon1"),attrs:{_i:42}},[n("text",{staticClass:e._$s(43,"sc","my-iconfont"),attrs:{_i:43}})]),n("view",{staticClass:e._$s(44,"sc","tool-item-title"),attrs:{_i:44}})]),n("view",{staticClass:e._$s(45,"sc","tool-item"),attrs:{_i:45},on:{click:function(t){return t.stopPropagation(),e.tapTool(t)}}},[n("view",{staticClass:e._$s(46,"sc","tool-item-icon tool-item-icon2"),attrs:{_i:46}},[n("text",{staticClass:e._$s(47,"sc","my-iconfont"),attrs:{_i:47}})]),n("view",{staticClass:e._$s(48,"sc","tool-item-title"),attrs:{_i:48}})]),n("view",{staticClass:e._$s(49,"sc","tool-item"),attrs:{_i:49},on:{click:function(t){return t.stopPropagation(),e.tapTool(t)}}},[n("view",{staticClass:e._$s(50,"sc","tool-item-icon tool-item-icon3"),attrs:{_i:50}},[n("text",{staticClass:e._$s(51,"sc","my-iconfont"),attrs:{_i:51}})]),n("view",{staticClass:e._$s(52,"sc","tool-item-title"),attrs:{_i:52}})]),n("view",{staticClass:e._$s(53,"sc","tool-item"),attrs:{_i:53},on:{click:function(t){return t.stopPropagation(),e.tapTool(t)}}},[n("view",{staticClass:e._$s(54,"sc","tool-item-icon tool-item-icon4"),attrs:{_i:54}},[n("text",{staticClass:e._$s(55,"sc","my-iconfont"),attrs:{_i:55}})]),n("view",{staticClass:e._$s(56,"sc","tool-item-title"),attrs:{_i:56}})]),n("view",{staticClass:e._$s(57,"sc","tool-item"),attrs:{_i:57},on:{click:function(t){return t.stopPropagation(),e.tapTool(t)}}},[n("view",{staticClass:e._$s(58,"sc","tool-item-icon tool-item-icon5"),attrs:{_i:58}},[n("text",{staticClass:e._$s(59,"sc","my-iconfont"),attrs:{_i:59}})]),n("view",{staticClass:e._$s(60,"sc","tool-item-title"),attrs:{_i:60}})]),n("view",{staticClass:e._$s(61,"sc","tool-item"),attrs:{_i:61},on:{click:function(t){return t.stopPropagation(),e.tapTool(t)}}},[n("view",{staticClass:e._$s(62,"sc","tool-item-icon tool-item-icon6"),attrs:{_i:62}},[n("text",{staticClass:e._$s(63,"sc","my-iconfont"),attrs:{_i:63}})]),n("view",{staticClass:e._$s(64,"sc","tool-item-title"),attrs:{_i:64}})])]):e._e()]),n("def-mask",{ref:"speakMask",attrs:{_i:65}},[n("view",{staticClass:e._$s(66,"sc","speaking-list"),class:e._$s(66,"c",{"speaking-list-bgc":e.showCancel}),attrs:{_i:66},slot:"popup-list"},[n("view",{staticClass:e._$s(67,"sc","speaking-item"),attrs:{_i:67}},[n("view",{staticClass:e._$s(68,"sc","speaking-item-time"),attrs:{_i:68}},[e._v(e._$s(68,"t0-0",e._s(e.calcSpeakCount)))]),n("view",{staticClass:e._$s(69,"sc","speaking-select"),attrs:{_i:69}})]),e._$s(70,"i",e.showCancel)?n("view",{staticClass:e._$s(70,"sc","cancel-and-translate"),attrs:{_i:70}},[n("view",{staticClass:e._$s(71,"sc","cancel-item"),class:e._$s(71,"c",{"cancel-item-active":e.cancelActive}),attrs:{_i:71},on:{touchmove:e.handleCancel}},[n("view",[n("view",{staticClass:e._$s(73,"sc","cancel-item-icon my-iconfont"),attrs:{_i:73}}),n("view",{staticClass:e._$s(74,"sc","cancel-item-title"),attrs:{_i:74}})])]),n("view",{staticClass:e._$s(75,"sc","translate-item"),class:e._$s(75,"c",{"translate-item-active":e.translateActive}),attrs:{_i:75},on:{touchstart:e.handleTranslate}},[n("view",[n("view",{staticClass:e._$s(77,"sc","translate-item-icon my-iconfont"),attrs:{_i:77}}),n("view",{staticClass:e._$s(78,"sc","translate-item-title"),attrs:{_i:78}})])])]):e._e()])])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},a1b6:function(e,t,n){"use strict";n.r(t);var s=n("0ea2"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},a327:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFriendMixin=t.listPopShadeMixin=t.sendCodeMixin=void 0;var s=n("6ece"),i=n("587d"),r=n("7429"),o={data:function(){return{userPhone:"",sendCodeBtn:!1,sendCodeBtnVal:"发送验证码",counter:60,getCode:null,interval:null}},methods:{cliSendCode:function(){var t=this;(0,i.isPoneAvailable)(this.userPhone)?(this.countDown(),(0,s.sendCode)("?phone="+this.userPhone).then((function(n){200===n.status?4e3===n.data.code?uni.showToast({title:"非法手机号",icon:"none"}):5003===n.data.code?uni.showToast({title:"发送验证码操作频繁,请稍后再获取",icon:"none"}):2e3===n.data.code?(t.getCode=n.data.data,uni.showToast({title:"发送成功",icon:"none"})):uni.uni.showToast({title:"发送失败",icon:"none"}):uni.uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",n," at common\\utils.js:49")})).catch((function(e){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).finally((function(){e("log","finally"," at common\\utils.js:53")}))):uni.showToast({title:"请填写正确手机号",icon:"none"})},userPhoneInputDefocus:function(t){var n=getCurrentPages(),i=t.detail.value;i.length>0&&11===i.length?(0,s.queryPhoneHasBeenUsed)("?phone=".concat(i)).then((function(t){200===t.status?(e("log",t," at common\\utils.js:68"),4003===t.data.code?"components/content/register/register1"===n[n.length-1].route&&uni.showToast({title:"该号码已注册",icon:"none"}):2e3===t.data.code&&"components/content/changepwd/changepwd1"===n[n.length-1].route&&uni.showToast({title:"该号码未注册",icon:"none"})):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).catch((function(e){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})):uni.showToast({title:"手机号为11位",icon:"none"})},countDown:function(){var e=this;this.interval=setInterval((function(){e.counter>0?(--e.counter,e.sendCodeBtnVal=e.counter+"s后重新获取",e.sendCodeBtn=!0):0===e.counter&&(e.sendCodeBtnVal="重新发送验证码",e.sendCodeBtn=!1,e.counter=60,clearInterval(e.interval))}),1e3)}},onUnload:function(){clearInterval(this.interval)}};t.sendCodeMixin=o;var a={data:function(){return{winSize:{},showPop:!1,showPopList:!1,popStyle:"",popList:["标为关注","置顶聊天","删除该聊天"],pickerUserIndex:-1}},methods:{getWindowSize:function(){var t=this;uni.getSystemInfo({success:function(n){t.winSize={width:n.windowWidth,height:n.windowHeight,statusBarHeight:n.statusBarHeight},e("log",t.winSize," at common\\utils.js:149")}})},handlerLongtap:function(t){e("log",t," at common\\utils.js:155");var n=[t.touches[0],"",t.currentTarget.dataset.index],s=n[0],i=n[1],r=n[2];i=s.clientY>this.winSize.height/2?"bottom: ".concat(this.winSize.height-s.clientY-this.winSize.statusBarHeight-20,"px; "):"top: ".concat(s.clientY,"px; "),s.clientX>this.winSize.width/2?i+="right: ".concat(this.winSize.width-s.clientX,"px; "):i+="left: ".concat(s.clientX,"px; "),uni.vibrateShort({success:function(t){e("log","设备短震动"," at common\\utils.js:182")}}),this.popStyle=i,this.pickerUserIndex=Number(r),this.showPopList=!0,this.showPop=!0},hidePop:function(){var e=this;this.showPopList=!1,this.pickerUserIndex=-1,setTimeout((function(){e.showPop=!1}),300)},tapList:function(){this.showPop},moveHandle:function(){this.hidePop()}},beforeMount:function(){this.getWindowSize()},onUnload:function(){e("log","onUnload"," at common\\utils.js:222")}};t.listPopShadeMixin=a;var c={data:function(){return{imgUrl:"",chooseFriendType:"",list:[],lettersList:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"],indexAlert:!1,currentLetter:"",oneLetterHeight:0,scrollStyle:"",selectScrollLeft:0,selectedItem:0}},methods:{touchStart:function(e){var t=e.touches[0].pageY,n=Math.floor((t-15)/this.oneLetterHeight);if(0===n)this.indexAlert=!1,this.currentLetter="top";else{var s=this.list[n-1].list;s.length>0?(this.indexAlert=!0,this.currentLetter=this.lettersList[n-1]):this.indexAlert=!1}},touchMove:function(e){var t=e.touches[0].pageY,n=Math.floor((t-15)/this.oneLetterHeight);if(0===n)this.indexAlert=!1,this.currentLetter="top";else{var s=this.list[n-1].list;s.length>0?(this.indexAlert=!0,this.currentLetter=this.lettersList[n-1]):this.indexAlert=!1}},touchEnd:function(){var t=this;e("log","touchEnd"," at common\\utils.js:302"),this.$nextTick((function(){t.indexAlert=!1,t.currentLetter=""}))},touchCancel:function(){var t=this;e("log","touchCancel"," at common\\utils.js:312"),this.$nextTick((function(){t.indexAlert=!1,t.currentLetter=""}))},changeRightTopBtn:function(){var e=this.$mp.page.$getAppWebview();e.setTitleNViewButtonStyle(0,{text:"确定(".concat(this.selectedItem,") ")})},delSelectItem:function(e,t){var n=this;this.$nextTick((function(){n.list[e].list[t].checked=!1,n.selectedItem-=1,n.$forceUpdate(),n.changeRightTopBtn()}))},getHasChosenAccountList:function(){var e=[];return this.list.forEach((function(t){t.list.length>0&&t.list.forEach((function(t){t.checked&&e.push(t.friendAccount)}))})),e}},onNavigationBarButtonTap:function(e){0===e.index&&this.submitChoose()},onLoad:function(e){this.imgUrl=r.imgBaseUrl;var t=uni.getSystemInfoSync().windowHeight;this.scrollStyle="height: ".concat(t-60,"px")},mounted:function(){var e=this,t=uni.createSelectorQuery().in(this);t.select(".letters-index-list").boundingClientRect((function(t){e.oneLetterHeight=t.height/28})).exec()}};t.chooseFriendMixin=c}).call(this,n("0de9")["default"])},a3be:function(e,t,n){"use strict";n.r(t);var s=n("68f1"),i=n("69fb");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},a3cb:function(e,t,n){"use strict";n.r(t);var s=n("d70f"),i=n("27c4");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},a459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("bae3"),i=s.axios;t.default=i},a488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("0261"));function i(e){return e&&e.__esModule?e:{default:e}}var r={components:{DefaultList:s.default},methods:{toSetting:function(){uni.navigateTo({url:"/components/content/setting/Setting"})},toDynamic:function(){uni.navigateTo({url:"/components/content/dynamic/Dynamic"})}}};t.default=r},a80f:function(e,t,n){"use strict";n.r(t);var s=n("f50c"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},a888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMyUserInfo=i;var s=n("4490");function i(e){return s.http.get("/query/getOwnInfo"+e)}},a9b9:function(e,t,n){"use strict";n.r(t);var s=n("2db9"),i=n("ac13");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"3dce93ec",null,!1,s["a"],o);t["default"]=c.exports},aa5f:function(e,t,n){"use strict";n.r(t);var s=n("ae86"),i=n("6599");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"b9874912",null,!1,s["a"],o);t["default"]=c.exports},aa97:function(e,t,n){"use strict";n.r(t);var s=n("8e4a"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},aaac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{timer:null,counter:3}},methods:{stopCounter:function(){clearInterval(this.timer),uni.reLaunch({url:"/components/content/login/login"})}},created:function(){var e=this;this.timer=setInterval((function(){e.counter<=0?clearInterval(e.timer):e.counter-=1}),1e3)}};t.default=s},ac13:function(e,t,n){"use strict";n.r(t);var s=n("31d6"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ac50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={appid:"__UNI__655DDA5"};t.default=s},ad2e:function(e,t,n){"use strict";n.r(t);var s=n("c688"),i=n("1dea");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},ae86:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","loadingicon"),attrs:{_i:0}},[n("view",[n("view",{staticClass:e._$s(2,"sc","bounce1 bounce"),style:e._$s(2,"s",e.bounceStyle),attrs:{_i:2}}),n("view",{staticClass:e._$s(3,"sc","bounce2 bounce"),style:e._$s(3,"s",e.bounceStyle),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","bounce3 bounce"),style:e._$s(4,"s",e.bounceStyle),attrs:{_i:4}})])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},af29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("a9b9")),i=n("2f62"),r=n("841a"),o=n("587d");function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{MxDatePicker:s.default},data:function(){var e=this.getDate();return{showPicker:!1,selectDateTime:e,timeFreqList:["一次","每天","每周","每月"],timeFreqIndex:0,type:"",currentIndex:null,remindInfo:{remindAccount:"",remindTitle:"",remindContent:"",remindTime:"",remindType:1,remindLocation:"",remindPerson:""},showDel1:!1,showDel2:!1,timeChecked:!1,locationChecked:!1,personChecked:!1}},computed:u({},(0,i.mapState)(["userInfo"]),{selectedPerson:function(){return this.remindInfo.remindPerson[0]===this.userInfo.user.userAccount?"已选自己":"已选 "+this.remindInfo.remindPerson.length}}),methods:{finishRemind:function(){"new"===this.type||"edit"===this.type?this.addRemind():"modify"===this.type&&this.modifyRemind()},addRemind:function(){var t={};if(t.account=this.userInfo.user.userAccount,t.title=this.remindInfo.remindTitle,t.content=this.remindInfo.remindContent,t.time=this.remindInfo.remindTime,t.timeType=this.remindInfo.remindType,t.location=this.remindInfo.remindLocation,this.remindInfo.remindPerson)e("log","别人"," at components\\content\\remind\\Remind.vue:193"),t.person=this.remindInfo.remindPerson;else{e("log","自己",this.userInfo.user.userAccount," at components\\content\\remind\\Remind.vue:196");var n=[];n[0]=this.userInfo.user.userAccount,t.person=n}this.hasValidRemindReq(t)||(this.hasValidSelectTime(this.remindTimeStamp),e("log","准备提交提醒的obj:",t," at components\\content\\remind\\Remind.vue:205"),this.saveMind(t))},saveMind:function(t){var n=this;(0,r.saveMindRequest)(t).then((function(t){n.$toast.showRes(t),2e3===t.data.code&&uni.showToast({title:"成功设置事项提醒",icon:"none",mask:!0,success:function(t){setTimeout((function(){uni.$emit("addRemind",n.remindInfo),"new"===n.type?(e("log","11111111"," at components\\content\\remind\\Remind.vue:221"),uni.navigateBack()):"edit"===n.type&&(e("log","222222222"," at components\\content\\remind\\Remind.vue:224"),n.updateDraftRemindList("del"))}),500)}})})).catch((function(e){n.$toast.showErr(e)}))},modifyRemind:function(){var t=this,n={};n.account=this.userInfo.user.userAccount,n.id=this.remindInfo.id,n.title=this.remindInfo.remindTitle,n.content=this.remindInfo.remindContent,n.time=this.remindInfo.remindTime,n.timeType=this.remindInfo.remindType,n.location=this.remindInfo.remindLocation,n.person=this.remindInfo.remindPerson,e("log","obj:",n," at components\\content\\remind\\Remind.vue:246"),this.hasValidRemindReq(n)||(0,r.modifyRemindRequest)(n).then((function(e){2e3===e.data.code&&(uni.$emit("modifyRemindList",{index:t.currentIndex,info:t.remindInfo}),uni.showToast({title:"修改成功",icon:"none",success:function(e){uni.navigateBack()}}))}))},onShowDatePicker:function(){var e=this;uni.showLoading({mask:!0}),this.$nextTick((function(){setTimeout((function(){e.showPicker=!0,uni.hideLoading()}),0)}))},onSelected:function(t){var n=this;if(this.showPicker=!1,t){e("log",t.date," at components\\content\\remind\\Remind.vue:283");var s=(0,o.formatToTimeStamp)(t.date),i=(0,o.formatTimeStamp)(s,"yyyy-MM-dd hh:mm");if(("new"===this.type||"edit"===this.type)&&!this.hasValidSelectTime(s))return void uni.showToast({title:"请选择未来的时间段",icon:"none"});this.$nextTick((function(){n.remindInfo.remindTime=s,n.selectDateTime=i,e("log","选择的时间戳为:",s," at components\\content\\remind\\Remind.vue:302"),e("log","选择的时间为:",n.selectDateTime," at components\\content\\remind\\Remind.vue:303")}))}},hasValidSelectTime:function(e){var t=new Date,n=t.getTime();return e>n},hasValidRemindReq:function(e){var t="";return e.title?e.content?e.time&&this.hasValidSelectTime(e.time)?this.personChecked?e.person||(t="请选择好友或群组"):this.locationChecked&&(e.location||(t="请选择正确位置")):t="请选择正确时间":t="内容不能为空":t="标题不能为空",uni.showToast({title:t,icon:"none"}),t},getDate:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,s=e.getDate(),i=e.getHours(),r=e.getMinutes();e.getSeconds();return n=n>9?n:"0"+n,s=s>9?s:"0"+s,i=i>9?i:"0"+i,r=r>9?r:"0"+r,"".concat(t,"-").concat(n,"-").concat(s," ").concat(i,":").concat(r)},changeTimeSwitch:function(e){var t=this;this.$nextTick((function(){t.timeChecked=!t.timeChecked}))},changeLocationSwitch:function(){var e=this;this.$nextTick((function(){e.locationChecked=!e.locationChecked}))},changePersonSwitch:function(){var e=this;this.$nextTick((function(){e.personChecked=!e.personChecked}))},showFreq:function(){var t=this;uni.showActionSheet({itemList:this.timeFreqList,success:function(e){switch(e.tapIndex){case 0:t.remindInfo.remindType=1;break;case 1:t.remindInfo.remindType=2;break;case 2:t.remindInfo.remindType=3;break;case 3:t.remindInfo.remindType=4;break}},fail:function(t){e("log",t," at components\\content\\remind\\Remind.vue:401")}})},updateDraftRemindList:function(e){var t=this,n=[],s="draftRemindList_".concat(this.userInfo.user.userAccount);uni.getStorage({key:s,complete:function(i){i.data.length&&(n=Object.assign([],i.data)),"new"===e?n.unshift(t.remindInfo):"edit"===e?n.splice(t.currentIndex,1,t.remindInfo):n.splice(t.currentIndex,1),uni.setStorage({key:s,data:n,success:function(e){uni.$emit("updateDraftRemindList",""),uni.navigateBack()}})}})},toChooseFriend:function(){e("log",this.remindInfo.remindPerson.length," at components\\content\\remind\\Remind.vue:437"),this.remindInfo.remindPerson&&uni.setStorageSync("setRemindList",this.remindInfo.remindPerson),uni.navigateTo({url:"/components/content/chooseFriend/ChooseFriend?type=setRemind"})},isFocus1:function(){this.showDel1=!0},isFocus2:function(){this.showDel2=!0},isBlur1:function(){var e=this;setTimeout((function(){e.showDel1=!1}),80)},isBlur2:function(){var e=this;setTimeout((function(){e.showDel2=!1}),80)},resetInput1:function(){var e=this;this.$nextTick((function(){e.remindInfo.remindTitle=""}))},resetInput2:function(){var e=this;this.$nextTick((function(){e.remindInfo.remindContent=""}))}},onLoad:function(t){e("log","option:",t," at components\\content\\remind\\Remind.vue:479");var n="添加提醒";if("new"===t.type)this.type="new";else{var s="".concat(t.type,"Remind"),i=uni.getStorageSync(s),r=Object.assign({},i);this.selectDateTime=(0,o.formatTimeStamp)(r.remindTime,"yyyy-MM-dd hh:mm"),this.remindInfo=r,this.type=t.type,this.currentIndex=t.index,n="edit"===t.type?"编辑草稿":"修改事项提醒",this.remindInfo.remindTime&&(e("log","开启时间"," at components\\content\\remind\\Remind.vue:493"),this.timeChecked=!0),this.remindInfo.remindLocation&&(e("log","开启位置"," at components\\content\\remind\\Remind.vue:497"),this.locationChecked=!0),this.remindInfo.remindPerson&&this.remindInfo.remindPerson[0]!=this.userInfo.user.userAccount&&(e("log","开启人提醒"," at components\\content\\remind\\Remind.vue:501"),this.personChecked=!0),e("log","this.remindInfo:",this.remindInfo," at components\\content\\remind\\Remind.vue:504"),uni.removeStorageSync(s)}uni.setNavigationBarTitle({title:n})},onBackPress:function(t){var n=this;return"navigateBack"!==t.from&&("backbutton"===t.from&&("edit"===this.type||"new"===this.type?this.remindInfo.remindTitle||this.remindInfo.remindContent?uni.showModal({title:"提示",content:"是否保存为草稿？",success:function(e){e.confirm?n.updateDraftRemindList(n.type):e.cancel&&uni.navigateBack()},fail:function(t){return e("log",t," at components\\content\\remind\\Remind.vue:535"),!0}}):uni.navigateBack():uni.showModal({title:"提示",content:"修改未保存,是否退出？",success:function(e){e.confirm?uni.navigateBack():e.cancel},fail:function(t){return e("log",t," at components\\content\\remind\\Remind.vue:551"),!0}})),!0)},onNavigationBarButtonTap:function(e){0===e.index&&this.finishRemind()},onShow:function(){var t=this;e("log","show"," at components\\content\\remind\\Remind.vue:565"),uni.$once("setRemindList",(function(n){e("log","选择的好友列表为:",n," at components\\content\\remind\\Remind.vue:567"),t.remindInfo.remindPerson=n}))}};t.default=d}).call(this,n("0de9")["default"])},af74:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","setting"),attrs:{_i:0}},[n("default-list",{attrs:{noBorderBtm:!0,_i:1}},[n("text",{slot:"def-list-left"})]),n("default-list",{staticClass:e._$s(3,"sc","setting-item2"),attrs:{_i:3}},[n("text",{slot:"def-list-left"})]),n("default-list",{attrs:{_i:5}},[n("text",{slot:"def-list-left"})]),n("default-list",{attrs:{_i:7}},[n("text",{slot:"def-list-left"})]),n("default-list",{attrs:{_i:9}},[n("text",{slot:"def-list-left"})]),n("default-list",{attrs:{noBorderBtm:!0,_i:11}},[n("text",{slot:"def-list-left"})]),n("view",{staticClass:e._$s(13,"sc","setting-list2"),attrs:{_i:13}},[n("view",{staticClass:e._$s(14,"sc","item1"),attrs:{_i:14}}),n("view",{staticClass:e._$s(15,"sc","item2"),attrs:{_i:15},on:{click:e.toLogin}})])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},afe4:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("0261")),i=n("2f62"),r=n("b3e4");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{DefaultList:s.default},data:function(){return{currentAddress:{},selectProvince:"",selectCity:""}},computed:c({},(0,i.mapState)(["userInfo"])),methods:{toChooseProvince:function(){uni.navigateTo({url:"/components/content/chooseLocation/ChooseProvince"})},getLocationInfo:function(){var t=this;uni.getLocation({geocode:!0,success:function(n){n&&(e("log",n.address," at components\\content\\chooseLocation\\ChooseLocation.vue:70"),t.currentAddress=n.address)},fail:function(t){e("log",t," at components\\content\\chooseLocation\\ChooseLocation.vue:75")}})},changeUserRegion:function(){var t=this;if(this.currentAddress){e("log","this.currentAddress.length"," at components\\content\\chooseLocation\\ChooseLocation.vue:81");var n={userAccount:this.userInfo.user.userAccount,modifyContent:this.currentAddress.province+this.currentAddress.city,modifyType:4};(0,r.modifyUserInfo)(n).then((function(e){200===e.status?2e3===e.data.code?(t.$set(t.userInfo.user,"region",n.modifyContent),uni.setStorageSync("userInfo",t.userInfo),uni.showToast({title:"成功保存",icon:"none"}),uni.navigateBack({delta:1})):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}):404===e.status?uni.showToast({title:"网络走丢了，请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"})})).catch((function(t){uni.showToast({title:"程序走丢了，请稍后重试",icon:"none"}),e("log",t," at components\\content\\chooseLocation\\ChooseLocation.vue:122")}))}}},watch:{currentAddress:function(t,n){e("log",t,n," at components\\content\\chooseLocation\\ChooseLocation.vue:129")}},created:function(){this.getLocationInfo()},mounted:function(){e("log",this.currentAddress," at components\\content\\chooseLocation\\ChooseLocation.vue:136")},onShow:function(){var t=this;e("log","onShow"," at components\\content\\chooseLocation\\ChooseLocation.vue:139"),uni.$on("ProvinceCity",(function(n){e("log","用户选择的城市：",n," at components\\content\\chooseLocation\\ChooseLocation.vue:141"),t.selectProvince=n.province,t.selectCity=n.city}))},onLoad:function(){e("log","onLoad"," at components\\content\\chooseLocation\\ChooseLocation.vue:147")}};t.default=l}).call(this,n("0de9")["default"])},b0b1:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("0261"));function i(e){return e&&e.__esModule?e:{default:e}}var r={components:{DefaultList:s.default},methods:{toPayment:function(){e("log","toPayment"," at pages\\profile\\profileCpns\\ProfileCon.vue:30"),uni.navigateTo({url:"/components/content/payment/PayMent"})},toSetting:function(){uni.navigateTo({url:"/components/content/setting/Setting"})},toCollection:function(){uni.navigateTo({url:"/components/content/collection/collection"})}}};t.default=r}).call(this,n("0de9")["default"])},b17d:function(e,t,n){"use strict";n.r(t);var s=n("ba8d"),i=n("3f38");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},b19b:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","def-mask"),attrs:{_i:0}},[e._$s(1,"i",e.isShowMask)?n("view",{staticClass:e._$s(1,"sc","myMask"),attrs:{_i:1},on:{touchstart:e.tapHideMask}}):e._e(),e._t("default",null,{_i:2}),e._$s(3,"i",e.isShowMask)?n("view",{staticClass:e._$s(3,"sc","popup"),class:e._$s(3,"c",e.animationShow?"effect-in":"effect-hide"),style:e._$s(3,"s",e.fixedStyle),attrs:{_i:3}},[e._t("popup-list",null,{_i:4})],2):e._e()],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},b24c:function(e,t,n){"use strict";e.exports=function(e,t,n,s,i){return e.config=t,n&&(e.code=n),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},b294:function(e,t,n){"use strict";var s=n("9f1f"),i=n("20fa"),r=n("1db9"),o=n("cffc"),a=n("39b7");function c(e){this.defaults=e,this.interceptors={request:new r,response:new r}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=a(this.defaults,e),e.method=e.method?e.method.toLowerCase():"get";var t=[o,void 0],n=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},s.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(s.merge(n||{},{method:e,url:t}))}})),s.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(s.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},b295:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","location-list"),attrs:{_i:0}},[n("head-img-item",{staticClass:e._$s(1,"sc","location-select-item"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","location-select-item-title"),attrs:{_i:2},slot:"title"}),n("view",{staticClass:e._$s(3,"sc","location-item-btn"),attrs:{_i:3},slot:"right"})]),n("head-img-item",{attrs:{_i:4}},[n("view",{slot:"title"}),n("text",{slot:"msg"})]),n("head-img-item",{attrs:{_i:7}},[n("view",{slot:"title"}),n("text",{slot:"msg"})]),n("head-img-item",{attrs:{_i:10}},[n("view",{slot:"title"}),n("text",{slot:"msg"})])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},b2a4:function(e,t,n){"use strict";n.r(t);var s=n("f1f6"),i=n("2138");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},b33b:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","index"),attrs:{_i:0}},[n("index-content",{ref:"indexcontent",attrs:{_i:1}}),n("def-mask",{ref:"indexMask",staticClass:e._$s(2,"sc","index-def-mask"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","edit-list"),attrs:{_i:3},slot:"popup-list"},[n("view",{staticClass:e._$s(4,"sc","edit-list-horn"),attrs:{_i:4}}),n("view",{staticClass:e._$s(5,"sc","edit-list-item edit-list-item-start"),attrs:{_i:5},on:{click:e.toAddfriend}},[n("image",{staticClass:e._$s(6,"sc","edit-list-item-img"),attrs:{_i:6}}),n("view",{staticClass:e._$s(7,"sc","edit-list-item-text"),attrs:{_i:7}})]),n("view",{staticClass:e._$s(8,"sc","edit-list-item"),attrs:{_i:8},on:{click:e.toChooseFriend}},[n("image",{staticClass:e._$s(9,"sc","edit-list-item-img"),attrs:{_i:9}}),n("text",{staticClass:e._$s(10,"sc","edit-list-item-text"),attrs:{_i:10}})]),n("view",{staticClass:e._$s(11,"sc","edit-list-item"),attrs:{_i:11}},[n("image",{staticClass:e._$s(12,"sc","edit-list-item-img"),attrs:{_i:12}}),n("text",{staticClass:e._$s(13,"sc","edit-list-item-text"),attrs:{_i:13}})]),n("view",{staticClass:e._$s(14,"sc","edit-list-item edit-list-item-last"),attrs:{_i:14}},[n("image",{staticClass:e._$s(15,"sc","edit-list-item-img"),attrs:{_i:15}}),n("text",{staticClass:e._$s(16,"sc","edit-list-item-text"),attrs:{_i:16}})])])])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},b393:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},b3e4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifyUserInfo=i;var s=n("4490");function i(e){return s.http.put("/user/modifyUserInfo",e)}},b416:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("2f62"),i=n("7429");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{imgUrl:""}},methods:{},computed:o({},(0,s.mapState)(["userInfo"])),created:function(){this.imgUrl=i.imgBaseUrl},onNavigationBarButtonTap:function(t){0===t.index&&uni.showActionSheet({itemList:["保存到手机","扫描二维码"],success:function(t){switch(e("log",t," at components\\content\\personalinfo\\changeinfo\\Card.vue:60"),t.tapIndex){case 0:e("log","保存到手机"," at components\\content\\personalinfo\\changeinfo\\Card.vue:63");break;case 1:e("log","扫描二维码"," at components\\content\\personalinfo\\changeinfo\\Card.vue:66");break;default:break}},fail:function(t){e("log",t," at components\\content\\personalinfo\\changeinfo\\Card.vue:73")}})}};t.default=c}).call(this,n("0de9")["default"])},b457:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("0261")),i=n("bbda");function r(e){return e&&e.__esModule?e:{default:e}}var o={components:{DefaultList:s.default},data:function(){return{list:null}},methods:{toChooseCity:function(e){uni.navigateTo({url:"/components/content/chooseLocation/ChooseCity?cityList="+encodeURIComponent(JSON.stringify(this.list[e].city))+"&province="+encodeURIComponent(JSON.stringify(this.list[e].name))})}},created:function(){this.list=i.provinceList,e("log",this.list," at components\\content\\chooseLocation\\ChooseProvince.vue:38")}};t.default=o}).call(this,n("0de9")["default"])},b5b8:function(e,t,n){"use strict";n.r(t);var s=n("8898"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},b608:function(e,t,n){"use strict";n.r(t);var s=n("3115"),i=n("33eb");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"3af09c40",null,!1,s["a"],o);t["default"]=c.exports},b6a7:function(e,t,n){"use strict";n.r(t);var s=n("f558"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},b6c9:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","contactsindex"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","letters-index-item"),attrs:{_i:1}},[n("text",{staticClass:e._$s(2,"sc","my-iconfont"),attrs:{_i:2}})]),e._l(e._$s(3,"f",{forItems:e.letters}),(function(t,s,i,r){return n("view",{key:e._$s(3,"f",{forIndex:i,key:s}),staticClass:e._$s("3-"+r,"sc","letters-index-item"),attrs:{_i:"3-"+r}},[e._v(e._$s("3-"+r,"t0-0",e._s(t)))])}))],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},b70b:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("6ece"),i=n("587d"),r=n("2f62");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{userPhone:"",password1:"",password2:"",showPassword1Input:!1,showPassword2Input:!1}},methods:a({},(0,r.mapMutations)(["setLogin"]),{},(0,r.mapActions)(["doGetMyUserInfo"]),{registerClick:function(t){var n=this,r=t.detail.value;if(r.password1.length>0&&r.password2.length>0)if(r.password1===r.password2)if((0,i.isPasswordAvailable)(r.password1)){var o=(0,i.getCid)(),a={cid:o,userPhone:this.userPhone,userPassword:r.password2};e("log","obj:",a," at components\\content\\register\\register2.vue:75"),(0,s.doRegister)(a).then((function(t){if(e("log",t," at components\\content\\register\\register2.vue:77"),4003===t.data.code&&uni.showToast({title:t.data.msg,icon:"none"}),2e3===t.data.code){var s=t.data.data;n.setLogin(s),uni.showToast({title:"注册成功",icon:"none",mask:!0}),uni.reLaunch({url:"/pages/index/index"})}})).catch((function(t){uni.showToast({title:"服务器发生错误，请稍后重试",icon:"none"}),e("log",t," at components\\content\\register\\register2.vue:106")}))}else uni.showToast({title:"密码为8-16位任意字符",icon:"none"});else uni.showToast({title:"两次密码不一致",icon:"none"});else uni.showToast({title:"密码不能为空",icon:"none"})},handlerPassword1:function(e){e.detail.value.length>0?this.showPassword1Input=!0:this.showPassword1Input=!1},handlerPassword2:function(e){e.detail.value.length>0?this.showPassword2Input=!0:this.showPassword2Input=!1},delPwd1Input:function(){this.showPassword1Input=!1,this.password1=""},delPwd2Input:function(){this.showPassword2Input=!1,this.password2=""}}),onLoad:function(t){e("log",t.userPhone," at components\\content\\register\\register2.vue:160"),this.userPhone=t.userPhone}};t.default=u}).call(this,n("0de9")["default"])},b77c:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","choose-friend"),attrs:{_i:0}},[n("scroll-view",{staticClass:e._$s(1,"sc","scrollList"),style:e._$s(1,"s",e.scrollStyle),attrs:{"scroll-into-view":e._$s(1,"a-scroll-into-view",e.currentLetter),_i:1}},e._l(e._$s(2,"f",{forItems:e.list}),(function(t,s,i,r){return n("view",{key:e._$s(2,"f",{forIndex:i,key:s}),attrs:{id:"top",_i:"2-"+r}},[e._$s("3-"+r,"i",t.list.length>0)?n("view",{staticClass:e._$s("3-"+r,"sc","choose-list"),attrs:{id:e._$s("3-"+r,"a-id",t.letters),_i:"3-"+r}},[n("view",{staticClass:e._$s("4-"+r,"sc","choose-letter"),attrs:{_i:"4-"+r}},[e._v(e._$s("4-"+r,"t0-0",e._s(t.letters)))]),e._l(e._$s("5-"+r,"f",{forItems:t.list}),(function(t,s,i,o){return n("view",{key:e._$s("5-"+r,"f",{forIndex:i,key:s}),staticClass:e._$s("5-"+r+"-"+o,"sc","choose-item"),attrs:{_i:"5-"+r+"-"+o},on:{click:function(n){return e.chooseItem(t)}}},[n("view",{staticClass:e._$s("6-"+r+"-"+o,"sc","choose-item-icon"),attrs:{_i:"6-"+r+"-"+o}},[e._$s("7-"+r+"-"+o,"i",t.checked)?n("view",{staticClass:e._$s("7-"+r+"-"+o,"sc","my-iconfont"),attrs:{_i:"7-"+r+"-"+o}}):e._e()]),n("view",{staticClass:e._$s("8-"+r+"-"+o,"sc","choose-item-img"),attrs:{_i:"8-"+r+"-"+o}},[n("image",{attrs:{src:e._$s("9-"+r+"-"+o,"a-src",e.imgUrl+t.friendFaceImage),_i:"9-"+r+"-"+o}})]),n("view",{staticClass:e._$s("10-"+r+"-"+o,"sc","choose-item-name"),attrs:{_i:"10-"+r+"-"+o}},[e._v(e._$s("10-"+r+"-"+o,"t0-0",e._s(t.friendRemarkName)))])])}))],2):e._e()])})),0),n("scroll-view",{staticClass:e._$s(11,"sc","scroll-select-list"),attrs:{_i:11}},[n("view",{staticClass:e._$s(12,"sc","select-list"),attrs:{_i:12}},[e._l(e._$s(13,"f",{forItems:e.list,fill:!0}),(function(t,s,i,r){return[e._$s("14-"+r,"i",t.list.length>0)?[e._l(e._$s("15-"+r,"f",{forItems:t.list}),(function(t,i,o,a){return[e._$s("16-"+r+"-"+a,"i",t.checked)?n("view",{key:e._$s("15-"+r,"f",{forIndex:o,keyIndex:0,key:i+"_"+s+"_0_0_0"}),staticClass:e._$s("16-"+r+"-"+a,"sc","select-item"),attrs:{id:e._$s("16-"+r+"-"+a,"a-id","select-item"+s),_i:"16-"+r+"-"+a},on:{click:function(t){return e.delSelectItem(s,i)}}},[n("image",{attrs:{src:e._$s("17-"+r+"-"+a,"a-src",e.imgUrl+t.friendFaceImage),_i:"17-"+r+"-"+a}})]):e._e()]}))]:e._e()]}))],2)]),n("view",{staticClass:e._$s(18,"sc","letters-index-list"),attrs:{_i:18}},[n("view",{staticClass:e._$s(19,"sc","letters-index-item"),attrs:{_i:19},on:{touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.touchStart(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.touchMove(t)},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.touchEnd(t)},touchcancel:function(t){return t.stopPropagation(),t.preventDefault(),e.touchCancel(t)}}},[n("text",{staticClass:e._$s(20,"sc","my-iconfont"),attrs:{_i:20}})]),e._l(e._$s(21,"f",{forItems:e.lettersList}),(function(t,s,i,r){return n("view",{key:e._$s(21,"f",{forIndex:i,key:s}),staticClass:e._$s("21-"+r,"sc","letters-index-item"),attrs:{_i:"21-"+r},on:{touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.touchStart(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.touchMove(t)},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.touchEnd(t)},touchcancel:function(t){return t.stopPropagation(),t.preventDefault(),e.touchCancel(t)}}},[e._v(e._$s("21-"+r,"t0-0",e._s(t)))])}))],2),e._$s(22,"i",e.indexAlert)?n("view",{staticClass:e._$s(22,"sc","mid-letter"),attrs:{_i:22}},[e._v(e._$s(22,"t0-0",e._s(e.currentLetter)))]):e._e()])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},b887:function(e,t,n){"use strict";n.r(t);var s=n("404c"),i=n("f188");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"8f609ee8",null,!1,s["a"],o);t["default"]=c.exports},ba0b:function(e,t,n){"use strict";n.r(t);var s=n("5206"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ba8d:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","change-address2"),attrs:{_i:0}},[n("default-list",{staticClass:e._$s(1,"sc","first-name-list"),attrs:{myRight:!1,_i:1}},[n("view",{slot:"def-list-left"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.consignee,expression:"addressInfo.consignee"}],attrs:{_i:3},domProps:{value:e._$s(3,"v-model",e.addressInfo.consignee)},on:{input:function(t){t.target.composing||e.$set(e.addressInfo,"consignee",t.target.value)}},slot:"def-list-center"}),n("image",{attrs:{_i:4},slot:"def-list-right"})]),n("default-list",{attrs:{myRight:!1,_i:5}},[n("view",{slot:"def-list-left"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.phone,expression:"addressInfo.phone"}],attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.addressInfo.phone)},on:{input:function(t){t.target.composing||e.$set(e.addressInfo,"phone",t.target.value)}},slot:"def-list-center"})]),n("default-list",{attrs:{myRight:!1,_i:8}},[n("view",{slot:"def-list-left"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.region,expression:"addressInfo.region"}],attrs:{_i:10},domProps:{value:e._$s(10,"v-model",e.addressInfo.region)},on:{input:function(t){t.target.composing||e.$set(e.addressInfo,"region",t.target.value)}},slot:"def-list-center"}),n("image",{attrs:{_i:11},slot:"def-list-right"})]),n("default-list",{attrs:{myRight:!1,_i:12}},[n("view",{slot:"def-list-left"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.detailedAddress,expression:"addressInfo.detailedAddress"}],attrs:{_i:14},domProps:{value:e._$s(14,"v-model",e.addressInfo.detailedAddress)},on:{input:function(t){t.target.composing||e.$set(e.addressInfo,"detailedAddress",t.target.value)}},slot:"def-list-center"})]),n("default-list",{attrs:{myRight:!1,_i:15}},[n("view",{slot:"def-list-left"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addressInfo.postal,expression:"addressInfo.postal"}],attrs:{_i:17},domProps:{value:e._$s(17,"v-model",e.addressInfo.postal)},on:{input:function(t){t.target.composing||e.$set(e.addressInfo,"postal",t.target.value)}},slot:"def-list-center"})])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},bae3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={axios:!0};Object.defineProperty(t,"axios",{enumerable:!0,get:function(){return i.default}});var i=l(n("65e1"));Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(s,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var r=c(n("9f1f")),o=n("cc07"),a=c(n("160f"));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=s?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function d(e,t){!r.default.isUndefined(e)&&r.default.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}i.default.defaults.transformRequest=[function(e,t){return(0,a.default)(t,"Accept"),(0,a.default)(t,"Content-Type"),r.default.isFormData(e)||r.default.isArrayBuffer(e)||r.default.isBuffer(e)||r.default.isStream(e)||r.default.isFile(e)||r.default.isBlob(e)?e:r.default.isArrayBufferView(e)?e.buffer:r.default.isURLSearchParams(e)?(d(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.default.isObject(e)?(d(t,"application/json;charset=utf-8"),e):e}],i.default.defaults.adapter=o.adapter},bb08:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","indecon"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","indecon-list"),attrs:{_i:1},on:{click:e.tapList}},e._l(e._$s(2,"f",{forItems:e.MconvertRawMessageListToRenderChatList}),(function(t,s,i,r){return n("view",{key:e._$s(2,"f",{forIndex:i,key:s}),staticClass:e._$s("2-"+r,"sc","indecon-item"),class:e._$s("2-"+r,"c",{"index-list-active":e.pickerUserIndex===s}),attrs:{"data-account":e._$s("2-"+r,"a-data-account",t.account),"data-session":e._$s("2-"+r,"a-data-session",t.session),"data-index":e._$s("2-"+r,"a-data-index",s),_i:"2-"+r},on:{longpress:e.handlerLongtap,click:e.toSession}},[n("view",{staticClass:e._$s("3-"+r,"sc","indecon-item-img"),attrs:{_i:"3-"+r}},[n("image",{attrs:{src:e._$s("4-"+r,"a-src",e.imgUrl+e.getFriendInfoByAcccount("p2p",t.account,"friendFaceImage")),_i:"4-"+r}}),e._$s("5-"+r,"i",t.unread>0)?n("view",{staticClass:e._$s("5-"+r,"sc","indecon-item-img-unread"),attrs:{_i:"5-"+r}},[e._v(e._$s("5-"+r,"t0-0",e._s(t.unread)))]):e._e()]),n("view",{staticClass:e._$s("6-"+r,"sc","indecon-item-info"),attrs:{_i:"6-"+r}},[n("view",{staticClass:e._$s("7-"+r,"sc","indecon-item-info-top"),attrs:{_i:"7-"+r}},[e._$s("8-"+r,"i","p2p"===t.chatType)?n("view",{staticClass:e._$s("8-"+r,"sc","indecon-item-info-top-title"),attrs:{_i:"8-"+r}},[e._v(e._$s("8-"+r,"t0-0",e._s(e.getFriendInfoByAcccount("p2p",t.account,"friendRemarkName"))))]):e._e(),e._$s("9-"+r,"i","advanced"===t.chatType)?n("view",{staticClass:e._$s("9-"+r,"sc","indecon-item-info-top-title"),attrs:{_i:"9-"+r}},[e._v(e._$s("9-"+r,"t0-0",e._s(t.nick)))]):e._e(),n("view",{staticClass:e._$s("10-"+r,"sc","indecon-item-info-top-time"),attrs:{_i:"10-"+r}},[e._v(e._$s("10-"+r,"t0-0",e._s(t.displayTime)))])]),n("view",{staticClass:e._$s("11-"+r,"sc","indecon-item-info-bottom"),attrs:{_i:"11-"+r}},[n("view",{staticClass:e._$s("12-"+r,"sc","indecon-item-info-bottom-msg"),attrs:{_i:"12-"+r}},[e._v(e._$s("12-"+r,"t0-0",e._s(t.lastestMsg)))]),e._e()])])])})),0),n("view",{attrs:{_i:14},on:{longpress:e.handlerLongtap}}),n("view",{staticClass:e._$s(15,"sc","def-popup"),attrs:{_i:15}},[e._$s(16,"i",e.showPop)?n("view",{staticClass:e._$s(16,"sc","def-popup-mask"),attrs:{_i:16},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.moveHandle(t)},click:e.hidePop}},[n("view",{staticClass:e._$s(17,"sc","def-popup-list"),class:e._$s(17,"c",e.showPopList?"effect-in":"effect-hide"),style:e._$s(17,"s",e.popStyle),attrs:{_i:17}},e._l(e._$s(18,"f",{forItems:e.popList}),(function(t,s,i,r){return n("view",{key:e._$s(18,"f",{forIndex:i,key:s}),staticClass:e._$s("18-"+r,"sc","def-popup-item"),attrs:{_i:"18-"+r},on:{click:function(t){return e.choosePop(s)}}},[e._v(e._$s("18-"+r,"t0-0",e._s(t)))])})),0)]):e._e()])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},bb79:function(e,t){},bb9c:function(e,t){function n(e){e=e||{};var t="";return"image"===e.type?t="[图片]":"geo"===e.type?t="[位置]":"audio"===e.type?t="[语音]":"video"===e.type?t="[视频]":"custom"===e.type?t=e.pushContent||"[自定义消息]":"tip"===e.type?t="[提醒消息]":"deleteMsg"===e.type?t="[提醒消息]":"file"===e.type?t="[文件消息]":"白板消息"===e.type?t="[白板消息]":"阅后即焚"===e.type?t="[阅后即焚]":"robot"===e.type?t="[机器人消息]":"notification"===e.type&&(t="[通知消息]"),t}function s(e){var t=new Date(parseInt(e)),n=t.getUTCFullYear(),s=t.getUTCMonth(),i=t.getDate(),r=t.getHours(),o=t.getUTCMinutes(),a=new Date,c=t.getUTCFullYear(),u=t.getUTCMonth(),l=a.getDate();if(c==n&&u==s&&l==i)return r>12?"下午 ".concat(r,":").concat(o<10?"0"+o:o):"上午 ".concat(r,":").concat(o<10?"0"+o:o);var d=new Date(a-864e5);return n==d.getUTCFullYear()&&s==d.getUTCMonth&&i==d.getDate()?"昨天 ".concat(r,":").concat(o<10?"0"+o:o):"".concat(n,"-").concat(s+1,"-").concat(i," ").concat(r,":").concat(o<10?"0"+o:o)}function i(e){var t=e,n=[],s=t.indexOf("["),i=t.indexOf("]"),r=0;if(Array.from(t).map((function(e){"["!=e&&"]"!=e&&r++})),-1==s||-1==i||0==r)return n.push({type:"text",text:t}),n;while(0!=t.length)if(s=t.indexOf("["),i=t.indexOf("]"),0==s)if(i=t.indexOf("]"),-1==i)n.push({type:"text",text:t}),t="";else{var o=t.slice(0,i+1);emoji[o]?n.push({name:"img",attrs:{width:"30rpx",height:"30rpx",src:emoji[o].img}}):n.push({type:"text",text:o}),t=t.substring(i+1,t.length)}else-1==s?(n.push({type:"text",text:t.slice(0,t.length)}),t=""):(n.push({type:"text",text:t.slice(0,s)}),t=t.substring(s,t.length+1));return n}function r(e){var t=0,n=0;e.w>250?(t=200,n=e.h/(e.w/200)):(t=e.w,n=e.h);var s=[];return s.push({name:"img",attrs:{width:"".concat(t,"rpx"),height:"".concat(n,"rpx"),src:e.url}}),s}function o(e){var t={w:50,h:50,url:""};switch(e){case 1:t.url="http://yx-web.nos.netease.com/webdoc/h5/im/play-1.png";break;case 2:t.url="http://yx-web.nos.netease.com/webdoc/h5/im/play-2.png";break;case 3:t.url="http://yx-web.nos.netease.com/webdoc/h5/im/play-3.png";break;default:break}return t}function a(e){var t="http://yx-web.nosdn.127.net/webdoc/h5/emoji/",n={w:100,h:100,url:""};return n.url="".concat(t).concat(e.data.catalog,"/").concat(e.data.chartlet,".png"),n}function c(e,t){var n="",i=t[t.length-1];if(i){var r=e-i.time;r>12e4&&(n=s(e))}else n=s(e);return n}e.exports={judgeMessageType:n,calcTimeHeader:s,generateRichTextNode:i,generateImageNode:r,generateFingerGuessImageFile:o,generateBigEmojiImageFile:a,judgeOverTwoMinute:c}},bbda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.provinceList=void 0;var s=[{name:"安徽省",city:[{name:"安庆市",districtAndCounty:["枞阳县","枞阳镇","大观区","孚玉镇","高河镇","怀宁县","晋熙镇","雷阳镇","梅城镇","潜山县","宿松县","太湖县","天堂镇","桐城市","望江县","宜秀区","迎江区","岳西县"]},{name:"蚌埠市",districtAndCounty:["蚌山区","城关镇","城关镇","城关镇","固镇县","怀远县","淮上区","龙子湖区","五河县","禹会区"]},{name:"亳州市",districtAndCounty:["城关镇","城关镇","城关镇","利辛县","蒙城县","谯城区","涡阳县"]},{name:"巢湖市",districtAndCounty:["含山县","和县","环峰镇","居巢区","历阳镇","庐城镇","庐江县","无城镇","无为县"]},{name:"池州市",districtAndCounty:["东至县","贵池区","七里镇","青阳县","蓉城镇","石台县","尧渡镇"]},{name:"滁州市",districtAndCounty:["定城镇","定远县","凤阳县","府城镇","来安县","琅区","明光市","南谯区","全椒县","天长市","襄河镇","新安镇"]},{name:"阜阳市",districtAndCounty:["城关镇","城关镇","城关镇","阜南县","界首市","临泉县","慎城镇","太和县","颍东区","颍泉区","颍上县","颍州区"]},{name:"合肥市",districtAndCounty:["包河区","店埠镇","肥东县","肥西县","庐阳区","上派镇","蜀山区","水湖镇","瑶海区","长丰县"]},{name:"淮北市",districtAndCounty:["杜集区","烈山区","濉溪县","濉溪镇","相山区"]},{name:"淮南市",districtAndCounty:["八公山区","城关镇","大通区","凤台县","潘集区","田家庵区","谢家集区"]},{name:"黄山市",districtAndCounty:["碧阳镇","海阳镇","黄山区","徽城镇","徽州区","祁门县","祁山镇","歙县","屯溪区","休宁县","黟县"]},{name:"六安市",districtAndCounty:["城关镇","城关镇","衡山镇","霍邱县","霍山县","金安区","金寨县","梅山镇","寿春镇","寿县","舒城县","裕安区"]},{name:"马鞍山市",districtAndCounty:["当涂县","姑孰镇","花山区","金家庄区","雨山区"]},{name:"宿州市",districtAndCounty:["砀城镇","砀山县","灵璧县","灵城镇","龙城镇","泗城镇","泗县","萧县","埇桥区"]},{name:"铜陵市",districtAndCounty:["郊区","狮子山区","铜官山区","铜陵县","五松镇"]},{name:"芜湖市",districtAndCounty:["繁昌县","繁阳镇","籍山镇","镜湖区","鸠江区","南陵县","三山区","湾镇","芜湖县","弋江区"]},{name:"宣城市",districtAndCounty:["广德县","华阳镇","绩溪县","建平镇","泾川镇","泾县","旌德县","旌阳镇","郎溪县","宁国市","桃州镇","宣州区"]}]},{name:"澳门",city:[{name:"澳门特别行政区",districtAndCounty:["澳门特别行政区"]}]},{name:"北京市",city:[{name:"北京市",districtAndCounty:["昌平区","朝阳区","崇文区","大兴区","东城区","房山区","丰台区","海淀区","怀柔区","门头沟区","密云县","平谷区","石景山区","顺义区","通州区","西城区","宣武区","延庆县","延庆镇"]}]},{name:"重庆市",city:[{name:"重庆市",districtAndCounty:["巴南区","北碚区","璧山县","城口县","大渡口区","大足县","垫江县","丰都县","奉节县","涪陵区","合川市","江北区","江津市","九龙坡区","开县","梁平县","南岸区","南川市","彭水苗族土家族自治县","綦江县","黔江区","荣昌县","沙坪坝区","石柱土家族自治县","双桥区","铜梁县","潼南县","万盛区","万州区","巫山县","巫溪县","武隆县","秀山土家族苗族自治县","永川区市","酉阳土家族苗族自治县","渝北区","渝中区","云阳县","长寿区","忠县"]}]},{name:"福建省",city:[{name:"福州市",districtAndCounty:["仓山区","凤城镇","凤山镇","福清市","鼓楼区","晋安区","连江县","罗源县","马尾区","梅城镇","闽侯县","闽清县","平潭县","台江区","潭城镇","永泰县","樟城镇","长乐市"]},{name:"龙岩市",districtAndCounty:["凤城镇","连城县","莲峰镇","临江镇","平川镇","上杭县","汀州镇","武平县","新罗区","永定县","漳平市","长汀县"]},{name:"南平市",districtAndCounty:["光泽县","杭川镇","建瓯市","建阳市","浦城县","邵武市","顺昌县","松溪县","松源镇","武夷山市","熊山镇","延平区","政和县"]},{name:"宁德市",districtAndCounty:["鳌阳镇","福安市","福鼎市","古峰镇","古田县","蕉城区","屏南县","狮城镇","寿宁县","双城镇","霞浦县","柘荣县","周宁县"]},{name:"莆田市",districtAndCounty:["城厢区","涵江区","荔城区","仙游县","秀屿区"]},{name:"泉州市",districtAndCounty:["☆","安溪县","德化县","丰泽区","凤城镇","惠安县","金门县","晋江市","鲤城区","螺城镇","洛江区","南安市","泉港区","石狮市","桃城镇","浔中镇","永春县"]},{name:"三明市",districtAndCounty:["城关镇","翠江镇","大田县","古镛镇","建宁县","将乐县","均溪镇","龙津镇","梅列区","明溪县","宁化县","清流县","三元区","沙县","杉城镇","濉城镇","泰宁县","雪峰镇","永安市","尤溪县"]},{name:"厦门市",districtAndCounty:["海沧区","湖里区","集美区","思明区","同安区","翔安区"]},{name:"漳州市",districtAndCounty:["东山县","华安县","华丰镇","龙海市","龙文区","南靖县","南诏镇","平和县","山城镇","绥安镇","武安镇","西埔镇","芗城区","小溪镇","云陵镇","云霄县","漳浦县","长泰县","诏安县"]}]},{name:"甘肃省",city:[{name:"白银市",districtAndCounty:["白银区","会宁县","会师镇","景泰县","靖远县","平川区","乌兰镇","一条山镇"]},{name:"定西市",districtAndCounty:["安定区","巩昌镇","临洮县","陇西县","岷县","岷阳镇","平襄镇","清源镇","洮阳镇","通渭县","渭源县","武阳镇","漳县"]},{name:"甘南州",districtAndCounty:["城关镇","城关镇","电尕镇","迭部县","合作市","拉卜楞镇","临潭县","柳林镇","碌曲县","玛艾镇","玛曲县","尼玛镇","夏河县","舟曲县","卓尼县"]},{name:"嘉峪关市",districtAndCounty:["城关镇","金昌市","金川区","永昌县"]},{name:"酒泉市",districtAndCounty:["阿克塞哈萨克族自治县","安西县","党城湾镇","敦煌市","红柳湾镇","金塔县","金塔镇","肃北蒙古族自治县","肃州区","玉门市","渊泉镇"]},{name:"兰州市",districtAndCounty:["安宁区","城关区","城关镇","城关镇","皋兰县","红古区","七里河区","石洞镇","西固区","永登县","榆中县"]},{name:"临夏州",districtAndCounty:["城关镇","城关镇","吹麻滩镇","东乡族自治县","附城镇","广河县","韩集镇","和政县","积石山保安族东乡族撒拉族自治县","康乐县","临夏市","临夏县","刘家峡镇","锁南坝镇","永靖县"]},{name:"陇南市",districtAndCounty:["成县","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","宕昌县","汉源镇","徽县","康县","礼县","两当县","文县","武都区","西和县"]},{name:"平凉市",districtAndCounty:["城关镇","城关镇","崇信县","东华镇","华亭县","锦屏镇","泾川县","静宁县","崆峒区","灵台县","水洛镇","中台镇","庄浪县"]},{name:"庆阳市",districtAndCounty:["城关镇","合水县","华池县","环城镇","环县","宁县","庆城县","庆城镇","柔远镇","山河镇","西峰区","西华池镇","新宁镇","镇原县","正宁县"]},{name:"天水市",districtAndCounty:["城关镇","大像山镇","甘谷县","麦积区","秦安县","秦州区","清水县","武山县","兴国镇","永清镇","张家川回族自治县","张家川镇"]},{name:"武威市",districtAndCounty:["城关镇","古浪县","古浪镇","华藏寺镇","凉州区","民勤县","天祝藏族自治县"]},{name:"张掖市",districtAndCounty:["城关镇","甘州区","高台县","红湾寺镇","洪水镇","临泽县","民乐县","清泉镇","沙河镇","山丹县","肃南裕固族自治县"]}]},{name:"广东省",city:[{name:"潮州市",districtAndCounty:["庵埠镇","潮安县","黄冈镇","饶平县","湘桥区"]},{name:"东莞市",districtAndCounty:[]},{name:"佛山市",districtAndCounty:["禅城区","高明区","南海区","三水区","顺德区"]},{name:"广州市",districtAndCounty:["白云区","从化市","番禺区","海珠区","花都区","黄埔区","荔湾区","萝岗区","南沙区","天河区","越秀区","增城市"]},{name:"河源市",districtAndCounty:["东源县","和平县","老隆镇","连平县","龙川县","仙塘镇","阳明镇","元善镇","源城区","紫城镇","紫金县"]},{name:"惠州市",districtAndCounty:["博罗县","惠城区","惠东县","惠阳区","龙门县","罗阳镇"]},{name:"江门市",districtAndCounty:["恩平市","鹤山市","江海区","开平市","蓬江区","台山市","新会区"]},{name:"揭阳市",districtAndCounty:["河婆镇","惠城镇","惠来县","揭东县","揭西县","普宁市","曲溪镇","榕城区"]},{name:"茂名市",districtAndCounty:["电白县","高州市","化州市","茂港区","茂南区","水东镇","信宜市"]},{name:"梅州市",districtAndCounty:["程江镇","大埔县","大柘镇","丰顺县","湖寮镇","蕉城镇","蕉岭县","梅江区","梅县","平远县","水寨镇","汤坑镇","五华县","兴宁市"]},{name:"清远市",districtAndCounty:["佛冈县","吉田镇","连南瑶族自治县","连山壮族瑶族自治县","连州市","清城区","清新县","三江镇","石角镇","太和镇","阳城镇","阳山县","英德市"]},{name:"汕头市",districtAndCounty:["潮南区","潮阳区","澄海区","濠江区","后宅镇","金平区","龙湖区","南澳县"]},{name:"汕尾市",districtAndCounty:["城区","海城镇","海丰县","河田镇","陆丰市","陆河县"]},{name:"韶关市",districtAndCounty:["乐昌市","龙仙镇","南雄市","曲江区","仁化县","仁化镇","乳城镇","乳源瑶族自治县","始兴县","太平镇","翁源县","武江区","新丰县","浈江区"]},{name:"深圳市",districtAndCounty:["宝安区","福田区","龙岗区","罗湖区","南山区","盐田区"]},{name:"阳江市",districtAndCounty:["东城镇","江城区","阳春市","阳东县","阳西县","织镇"]},{name:"云浮市",districtAndCounty:["都城镇","六都镇","罗定市","新城镇","新兴县","郁南县","云安县","云城区"]},{name:"湛江市",districtAndCounty:["撤销广州市东山区","赤坎区","芳村区","雷州市","廉江市","萝岗区","麻章区","坡头区","设立广州市南沙区","遂城镇","遂溪县","吴川市","霞山区","徐闻县"]},{name:"肇庆市",districtAndCounty:["德庆县","鼎湖区","端州区","封开县","高要市","广宁县","怀城镇","怀集县","江口镇","南街镇","四会市"]},{name:"中山市",districtAndCounty:[]},{name:"珠海市",districtAndCounty:["斗门区","金湾区","香洲区"]}]},{name:"广西",city:[{name:"百色市",districtAndCounty:["八达镇","城关镇","城厢镇","德保县","靖西县","乐里镇","乐业县","凌云县","隆林各族自治县","马头镇","那坡县","平果县","平马镇","泗城镇","田东县","田林县","田阳县","田州镇","同乐镇","西林县","新靖镇","新州镇","右江区"]},{name:"北海市",districtAndCounty:["海城区","合浦县","廉州镇","铁山港区","银海区"]},{name:"崇左市",districtAndCounty:["城中镇","大新县","扶绥县","江州区","龙州县","龙州镇","宁明县","凭祥市","桃城镇","天等县","天等镇","新宁镇"]},{name:"防城港市",districtAndCounty:["东兴市","防城区","港口区","上思县","思阳镇"]},{name:"贵港市",districtAndCounty:["港北区","港南区","桂平市","平南县","平南镇","覃塘区"]},{name:"桂林市",districtAndCounty:["叠彩区","恭城瑶族自治县","恭城镇","灌阳县","灌阳镇","荔城镇","荔浦县","临桂县","临桂镇","灵川县","灵川镇","龙胜各族自治县","龙胜镇","平乐县","平乐镇","七星区","全州县","全州镇","象山区","兴安县","兴安镇","秀峰区","雁山区","阳朔县","阳朔镇","永福县","永福镇","资源县","资源镇"]},{name:"河池市",districtAndCounty:["安阳镇","巴马瑶族自治县","巴马镇","城关镇","大化瑶族自治县","大化镇","东兰县","东兰镇","东门镇","都安瑶族自治县","凤城镇","凤山县","环江毛南族自治县","金城江区","六排镇","罗城仫佬族自治县","南丹县","思恩镇","天峨县","宜州市"]},{name:"贺州市",districtAndCounty:["八步区","富川瑶族自治县","富阳镇","昭平县","昭平镇","钟山县","钟山镇"]},{name:"来宾市",districtAndCounty:["城关镇","合山市","金秀瑶族自治县","金秀镇","武宣县","武宣镇","象州县","象州镇","忻城县","兴宾区"]},{name:"柳州市",districtAndCounty:["城中区","大埔镇","古宜镇","拉堡镇","柳北区","柳城县","柳江县","柳南区","鹿寨县","鹿寨镇","融安县","融水苗族自治县","融水镇","三江侗族自治县","鱼峰区","长安镇"]},{name:"南宁市",districtAndCounty:["宾阳县","横县","江南区","良庆区","隆安县","马山县","青秀区","上林县","武鸣县","西乡塘区","兴宁区","邕宁区"]},{name:"钦州市",districtAndCounty:["灵城镇","灵山县","浦北县","钦北区","钦南区","小江镇"]},{name:"梧州市",districtAndCounty:["苍梧县","岑溪市","蝶山区","龙圩镇","蒙山县","蒙山镇","藤县","藤州镇","万秀区","长洲区"]},{name:"玉林市",districtAndCounty:["北流市","博白县","博白镇","陆城镇","陆川县","容县","容州镇","石南镇","兴业县","玉州区"]}]},{name:"贵州省",city:[{name:"安顺市",districtAndCounty:["城关镇","城关镇","城关镇","关岭布依族苗族自治县","关索镇","平坝县","普定县","松山镇","西秀区","镇宁布依族苗族自治县","紫云苗族布依族自治县"]},{name:"毕节地区",districtAndCounty:["毕节市","草海镇","城关镇","城关镇","城关镇","城关镇","大方县","大方镇","赫章县","金沙县","纳雍县","黔西县","威宁彝族回族苗族自治县","雍熙镇","织金县"]},{name:"贵阳市",districtAndCounty:["白云区","城关镇","花溪区","开阳县","龙场镇","南明区","清镇市","乌当区","息烽县","小河区","修文县","永靖镇","云岩区"]},{name:"六盘水市",districtAndCounty:["红果镇","六枝特区","盘县","平寨镇","水城县","钟山区"]},{name:"黔东南州",districtAndCounty:["八弓镇","丙妹镇","岑巩县","城关镇","从江县","丹江镇","丹寨县","德凤镇","凤城镇","革东镇","古州镇","黄平县","剑河县","锦屏县","凯里市","雷山县","黎平县","龙泉镇","麻江县","榕江县","三江镇","三穗县","施秉县","思旸镇","台拱镇","台江县","天柱县","新州镇","杏山镇","阳镇","镇远县"]},{name:"黔南州",districtAndCounty:["城关镇","城关镇","都匀市","独山县","福泉市","贵定县","和平镇","惠水县","荔波县","龙里县","龙坪镇","龙山镇","罗甸县","平湖镇","平塘县","三都水族自治县","三合镇","瓮安县","雍阳镇","玉屏镇","长顺县","长寨镇"]},{name:"黔西南州",districtAndCounty:["安龙县","册亨县","城关镇","复兴镇","莲城镇","珉谷镇","盘水镇","普安县","晴隆县","望谟县","新安镇","兴仁县","兴义市","者楼镇","贞丰县"]},{name:"铜仁地区",districtAndCounty:["德江县","峨岭镇","和平镇","江口县","蓼皋镇","平溪镇","青龙镇","石阡县","双江镇","思南县","思唐镇","松桃苗族自治县","汤山镇","铜仁市","万山特区","万山镇","沿河土家族自治县","印江土家族苗族自治县","玉屏侗族自治县"]},{name:"遵义市",districtAndCounty:["白泥镇","赤水市","道真仡佬族苗族自治县","东皇镇","都濡镇","凤冈县","凤仪镇","红花岗区","汇川区","龙泉镇","娄山关镇","湄江镇","湄潭县","南白镇","仁怀市","绥阳县","桐梓县","务川仡佬族苗族自治县","习水县","洋川镇","余庆县","玉溪镇","正安县","遵义县"]}]},{name:"海南省",city:[{name:"海口市",districtAndCounty:["龙华区","美兰区","琼山区","秀英区"]},{name:"三亚市",districtAndCounty:[]},{name:"省直辖行政单位",districtAndCounty:["白沙黎族自治县","保城镇","保亭黎族苗族自治县","抱由镇","昌江黎族自治县","澄迈县","儋州市","定安县","定城镇","东方市","金江镇","乐东黎族自治县","临城镇","临高县","陵水黎族自治县","琼海市","琼中黎族苗族自治县","石碌镇","屯昌县","屯城镇","万宁市","文昌市","五指山市","牙叉镇","椰林镇","营根镇"]}]},{name:"河北省",city:[{name:"保定市",districtAndCounty:["安国市","安肃镇","安新县","安新镇","北市区","博陵镇","博野县","定兴县","定兴镇","定州市","阜平县","阜平镇","高碑店市","高阳县","高阳镇","恒州镇","涞水县","涞水镇","涞源县","涞源镇","蠡吾镇","蠡县","满城县","满城镇","南市区","蒲阳镇","清苑县","清苑镇","曲阳县","仁厚镇","容城县","容城镇","顺平县","唐县","望都县","望都镇","新市区","雄县","雄州镇","徐水县","易县","易州镇","涿州市"]},{name:"沧州市",districtAndCounty:["沧县","沧州市新华区","东光县","东光镇","海兴县","河间市","黄骅市","乐寿镇","孟村回族自治县","孟村镇","南皮县","南皮镇","泊头市","青县","清州镇","任丘市","桑园镇","苏基镇","肃宁县","肃宁镇","吴桥县","献县","新华区","盐山县","盐山镇","运河区"]},{name:"承德市",districtAndCounty:["承德县","大阁镇","丰宁满族自治县","宽城满族自治县","宽城镇","隆化县","隆化镇","滦平县","滦平镇","平泉县","平泉镇","双滦区","双桥区","围场满族蒙古族自治县","围场镇","下板城镇","兴隆县","兴隆镇","鹰手营子矿区"]},{name:"邯郸市",districtAndCounty:["成安县","成安镇","磁县","磁州镇","丛台区","大名县","大名镇","肥乡县","肥乡镇","峰峰矿区","复兴区","馆陶县","馆陶镇","广平县","广平镇","邯郸县","邯山区","鸡泽县","鸡泽镇","临洺关镇","临漳县","临漳镇","南堡乡东小屯村","邱县","曲周县","曲周镇","涉城镇","涉县","魏城镇","魏县","武安市","新马头镇","永年县"]},{name:"衡水市",districtAndCounty:["安平县","安平镇","阜城县","阜城镇","故城县","冀州市","景县","景州镇","饶阳县","饶阳镇","深州市","桃城区","武强县","武强镇","武邑县","武邑镇","枣强县","枣强镇","郑口镇"]},{name:"廊坊市",districtAndCounty:["安次区","霸州市","大厂回族自治县","大厂镇","大城县","固安县","固安镇","广阳区","平舒镇","三河市","淑阳镇","文安县","文安镇","香河县","永清县","永清镇"]},{name:"秦皇岛市",districtAndCounty:["北戴河区","昌黎县","昌黎镇","抚宁县","抚宁镇","海港区","卢龙县","卢龙镇","青龙满族自治县","青龙镇","山海关区"]},{name:"石家庄市",districtAndCounty:["高邑县","高邑镇","藁城市","槐阳镇","晋州市","井陉矿区","井陉县","灵寿县","灵寿镇","龙州镇","鹿泉市","栾城县","栾城镇","平山县","平山镇","桥东区","桥西区","深泽县","深泽镇","微水镇","无极县","无极镇","辛集市","新华区","新乐市","行唐县","裕华区","元氏县","赞皇县","赞皇镇","长安区","赵县","赵州镇","正定县","正定镇"]},{name:"唐山市",districtAndCounty:["倴城镇","丰南区","丰润区","古冶区","开平区","乐亭县","乐亭镇","路北区","路南区","滦南县","滦县","滦州镇","迁安市","迁西县","唐海县","唐海镇","兴城镇","玉田县","玉田镇","遵化市"]},{name:"邢台市",districtAndCounty:["柏乡县","柏乡镇","丰州镇","凤凰镇","葛仙庄镇","广宗县","广宗镇","和阳镇","巨鹿县","巨鹿镇","临城县","临城镇","临西县","临西镇","隆尧县","隆尧镇","洺州镇","南宫市","南和县","内丘县","内丘镇","宁晋县","平乡县","桥东区","桥西区","清河县","任城镇","任县","沙河市","威县","新河县","新河镇","邢台市桥东区","邢台县"]},{name:"张家口市",districtAndCounty:["柴沟堡镇","赤城县","赤城镇","崇礼县","沽源县","怀安县","怀来县","康保县","康保镇","孔家庄镇","南壕堑镇","平定堡镇","桥东区","桥西区","沙城镇","尚义县","万全县","蔚县","蔚州镇","西城镇","西湾子镇","下花园区","宣化区","宣化县","阳原县","张北县","张北镇","张家口市宣化区","涿鹿县","涿鹿镇"]}]},{name:"河南省",city:[{name:"安阳市",districtAndCounty:["安阳市北关区","安阳县","北关区","城关镇","城关镇","道口镇","滑县","林州市","龙安区","内黄县","汤阴县","文峰区","殷都区"]},{name:"鹤壁市",districtAndCounty:["朝歌镇","城关镇","鹤山区","浚县","淇滨区","淇县","山城区"]},{name:"济源市",districtAndCounty:[]},{name:"焦作市",districtAndCounty:["博爱县","城关镇","解放区","马村区","孟州市","木城镇","沁阳市","清化镇","山阳区","温泉镇","温县","武陟县","修武县","中站区"]},{name:"开封市",districtAndCounty:["城关镇","城关镇","城关镇","城关镇","城关镇","鼓楼区","金明区","开封县","兰考县","龙亭区","杞县","顺河回族区","通许县","尉氏县","禹王台区"]},{name:"洛阳市",districtAndCounty:["瀍河回族区","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","吉利区","涧西区","老城区","栾川县","洛龙区","洛宁县","孟津县","汝阳县","嵩县","西工区","新安县","偃师市","伊川县","宜阳县"]},{name:"漯河市",districtAndCounty:["城关镇","临颍县","舞泉镇","舞阳县","郾城区","源汇区","召陵区"]},{name:"南阳市",districtAndCounty:["城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","邓州市","方城县","南召县","内乡县","赊店镇","社旗县","唐河县","桐柏县","宛城区","卧龙区","西峡县","淅川县","新野县","镇平县"]},{name:"平顶山市",districtAndCounty:["宝丰县","城关镇","城关镇","郏县","昆阳镇","鲁山县","鲁阳镇","汝州市","石龙区","卫东区","舞钢市","新华区","叶县","湛河区"]},{name:"濮阳市",districtAndCounty:["城关镇","城关镇","城关镇","城关镇","城关镇","范县","华龙区","南乐县","濮阳县","清丰县","台前县"]},{name:"三门峡市",districtAndCounty:["城关镇","城关镇","大营镇","湖滨区","灵宝市","卢氏县","渑池县","陕县","义马市"]},{name:"商丘市",districtAndCounty:["城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","梁园区","民权县","宁陵县","睢县","睢阳区","夏邑县","永城市","虞城县","柘城县"]},{name:"新乡市",districtAndCounty:["城关镇","城关镇","城关镇","城关镇","城关镇","封丘县","凤泉区","红旗区","辉县市","获嘉县","牧野区","卫滨区","卫辉市","新乡市红旗区","新乡县","延津县","原阳县","长垣县"]},{name:"信阳市",districtAndCounty:["城关镇","城关镇","城关镇","城关镇","城关镇","固始县","光山县","河区","淮滨县","潢川县","罗山县","平桥区","商城县","息县","新集镇","新县"]},{name:"许昌市",districtAndCounty:["安陵镇","城关镇","魏都区","襄城县","许昌市魏都区","许昌县","鄢陵县","禹州市","长葛市"]},{name:"郑州市",districtAndCounty:["城关镇","登封市","二七区","巩义市","管城回族区","惠济区","金水区","上街区","新密市","新郑市","荥阳市","中牟县","中原区"]},{name:"周口市",districtAndCounty:["沈丘县","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","川汇区","郸城县","扶沟县","淮阳县","槐店镇","鹿邑县","商水县","太康县","西华县","项城市"]},{name:"驻马店市",districtAndCounty:["蔡都镇","古槐镇","古吕镇","泌水镇","泌阳县","盘龙镇","平舆县","灈阳镇","确山县","汝南县","汝宁镇","上蔡县","遂平县","西平县","新蔡县","驿城区","真阳镇","正阳县"]}]},{name:"黑龙江省",city:[{name:"大庆市",districtAndCounty:["大同区","杜尔伯特蒙古族自治县","红岗区","林甸县","林甸镇","龙凤区","让胡路区","萨尔图区","泰康镇","肇源县","肇源镇","肇州县","肇州镇"]},{name:"大兴安岭地区",districtAndCounty:["呼玛县","呼玛镇","漠河县","塔河县","塔河镇","西林吉镇"]},{name:"哈尔滨市",districtAndCounty:["阿城市","巴彦县","巴彦镇","宾县","宾州镇","道里区","道外区","动力区","方正县","方正镇","呼兰区","木兰县","木兰镇","南岗区","平房区","尚志市","双城市","松北区","通河县","通河镇","五常市","香坊区","延寿县","延寿镇","依兰县","依兰镇"]},{name:"鹤岗市",districtAndCounty:["东山区","凤翔镇","工农区","萝北县","南山区","绥滨县","绥滨镇","向阳区","兴安区","兴山区"]},{name:"黑河市",districtAndCounty:["爱辉区","北安市","边疆镇","嫩江县","嫩江镇","孙吴县","孙吴镇","五大连池市","逊克县"]},{name:"鸡西市",districtAndCounty:["城子河区","滴道区","恒山区","虎林市","鸡东县","鸡东镇","鸡冠区","梨树区","麻山区","密山市"]},{name:"佳木斯市",districtAndCounty:["东风区","抚远县","抚远镇","富锦市","桦川县","桦南县","桦南镇","郊区","前进区","汤原县","汤原镇","同江市","向阳区","永红区","悦来镇"]},{name:"牡丹江市",districtAndCounty:["爱民区","东安区","东宁县","东宁镇","海林市","林口县","林口镇","穆棱市","宁安市","绥芬河市","西安区","阳明区"]},{name:"七台河市",districtAndCounty:["勃利县","勃利镇","茄子河区","桃山区","新兴区"]},{name:"齐齐哈尔市",districtAndCounty:["昂昂溪区","拜泉县","拜泉镇","富拉尔基区","富裕县","富裕镇","甘南县","甘南镇","建华区","克东县","克东镇","克山县","克山镇","龙江县","龙江镇","龙沙区","梅里斯达斡尔族区","讷河市","碾子山区","泰来县","泰来镇","铁锋区","依安县","依安镇"]},{name:"双鸭山市",districtAndCounty:["宝清县","宝清镇","宝山区","福利镇","集贤县","尖山区","岭东区","饶河县","饶河镇","四方台区","友谊县","友谊镇"]},{name:"绥化市",districtAndCounty:["安达市","北林区","海伦市","兰西县","兰西镇","明水县","明水镇","青冈县","青冈镇","庆安县","庆安镇","绥棱县","绥棱镇","望奎县","望奎镇","肇东市"]},{name:"伊春市",districtAndCounty:["朝阳镇","翠峦区","带岭区","红星区","嘉荫县","金山屯区","美溪区","南岔区","上甘岭区","汤旺河区","铁力市","乌马河区","乌伊岭区","五营区","西林区","新青区","伊春区","友好区"]}]},{name:"湖北省",city:[{name:"鄂州市",districtAndCounty:["鄂城区","华容区","梁子湖区"]},{name:"恩施州",districtAndCounty:["巴东县","恩施市","高乐山镇","鹤峰县","建始县","来凤县","利川市","容美镇","咸丰县","翔凤镇","信陵镇","宣恩县","业州镇","珠山镇"]},{name:"黄冈市",districtAndCounty:["漕河镇","城关镇","凤山镇","红安县","黄梅县","黄梅镇","黄州区","罗田县","麻城市","蕲春县","清泉镇","团风县","团风镇","温泉镇","武穴市","浠水县","英山县"]},{name:"黄石市",districtAndCounty:["大冶市","黄石港区","铁山区","西塞山区","下陆区","兴国镇","阳新县"]},{name:"荆门市",districtAndCounty:["东宝区","掇刀区","京山县","沙洋县","沙洋镇","新市镇","钟祥市"]},{name:"荆州市",districtAndCounty:["斗湖堤镇","公安县","郝穴镇","洪湖市","监利县","江陵县","荆州区","容城镇","沙市区","石首市","松滋市"]},{name:"省直辖县级行政单位",districtAndCounty:["潜江市","神农架林区","松柏镇","天门市","仙桃市"]},{name:"十堰市",districtAndCounty:["城关镇","城关镇","城关镇","城关镇","城关镇","丹江口市","房县","茅箭区","郧西县","郧县","张湾区","竹山县","竹溪县"]},{name:"随州市",districtAndCounty:["曾都区","广水市"]},{name:"武汉市",districtAndCounty:["蔡甸区","东西湖区","汉南区","汉阳区","洪山区","黄陂区","江岸区","江汉区","江夏区","硚口区","青山区","武昌区","新洲区"]},{name:"咸宁市",districtAndCounty:["赤壁市","崇阳县","嘉鱼县","隽水镇","天城镇","通城县","通山县","通羊镇","咸安区","鱼岳镇"]},{name:"襄樊市",districtAndCounty:["保康县","城关镇","城关镇","城关镇","樊城区","谷城县","老河口市","南漳县","襄城区","襄阳区","宜城市","枣阳市"]},{name:"孝感市",districtAndCounty:["安陆市","城关镇","城关镇","大悟县","汉川市","花园镇","孝昌县","孝南区","应城市","云梦县"]},{name:"宜昌市",districtAndCounty:["当阳市","点军区","古夫镇","龙舟坪镇","茅坪镇","鸣凤镇","五峰土家族自治县","五峰镇","伍家岗区","西陵区","猇亭区","兴山县","夷陵区","宜都市","远安县","长阳土家族自治县","枝江市","秭归县"]}]},{name:"湖南省",city:[{name:"常德市",districtAndCounty:["安福镇","安乡县","城关镇","楚江镇","鼎城区","汉寿县","津市市","澧县","澧阳镇","临澧县","龙阳镇","石门县","桃源县","武陵区","漳江镇"]},{name:"郴州市",districtAndCounty:["安仁县","北湖区","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","桂东县","桂阳县","嘉禾县","临武县","汝城县","苏仙区","宜章县","永兴县","资兴市"]},{name:"衡阳市",districtAndCounty:["常宁市","城关镇","衡东县","衡南县","衡山县","衡阳县","洪桥镇","开云镇","耒阳市","南岳区","祁东县","石鼓区","西渡镇","雁峰区","云集镇","蒸湘区","珠晖区"]},{name:"怀化市",districtAndCounty:["辰溪县","辰阳镇","高村镇","鹤城区","洪江市","会同县","靖州苗族侗族自治县","林城镇","卢峰镇","麻阳苗族自治县","渠阳镇","双江镇","通道侗族自治县","新晃侗族自治县","新晃镇","溆浦县","沅陵县","沅陵镇","芷江侗族自治县","芷江镇","中方县","中方镇"]},{name:"娄底市",districtAndCounty:["冷水江市","涟源市","娄星区","上梅镇","双峰县","新化县","永丰镇"]},{name:"邵阳市",districtAndCounty:["北塔区","城步苗族自治县","大祥区","洞口县","洞口镇","金石镇","两市镇","隆回县","酿溪镇","儒林镇","邵东县","邵阳县","双清区","绥宁县","塘渡口镇","桃洪镇","武冈市","新宁县","新邵县","长铺镇"]},{name:"湘潭市",districtAndCounty:["韶山市","湘潭县","湘乡市","易俗河镇","雨湖区","岳塘区"]},{name:"湘西州",districtAndCounty:["白沙镇","保靖县","凤凰县","古阳镇","古丈县","花垣县","花垣镇","吉首市","灵溪镇","龙山县","泸溪县","迁陵镇","沱江镇","永顺县"]},{name:"益阳市",districtAndCounty:["安化县","东坪镇","赫山区","南县","南洲镇","桃花江镇","桃江县","沅江市","资阳区"]},{name:"永州市",districtAndCounty:["白牙市镇","道江镇","道县","东安县","江华瑶族自治县","江永县","蓝山县","冷水滩区","零陵区","龙泉镇","泷泊镇","宁远县","祁阳县","双牌县","舜陵镇","塔峰镇","沱江镇","浯溪镇","潇浦镇","新田县"]},{name:"岳阳市",districtAndCounty:["城关镇","汉昌镇","华容县","君山区","临湘市","汨罗市","平江县","荣家湾镇","文星镇","湘阴县","岳阳楼区","岳阳县","云溪区"]},{name:"张家界市",districtAndCounty:["慈利县","澧源镇","零阳镇","桑植县","武陵源区","永定区"]},{name:"长沙市",districtAndCounty:["芙蓉区","高塘岭镇","开福区","浏阳市","宁乡县","天心区","望城县","星沙镇","雨花区","玉潭镇","岳麓区","长沙市","长沙县"]},{name:"株洲市",districtAndCounty:["茶陵县","城关镇","城关镇","荷塘区","醴陵市","芦淞区","渌口镇","石峰区","天元区","霞阳镇","炎陵县","攸县","株洲县"]}]},{name:"吉林省",city:[{name:"白城市",districtAndCounty:["大安市","开通镇","洮北区","洮南市","通榆县","镇赉县","镇赉镇"]},{name:"白山市",districtAndCounty:["八道江区","抚松县","抚松镇","江源县","靖宇县","靖宇镇","临江市","孙家堡子镇","长白朝鲜族自治县","长白镇"]},{name:"吉林市",districtAndCounty:["昌邑区","船营区","丰满区","桦甸市","蛟河市","口前镇","龙潭区","磐石市","舒兰市","永吉县"]},{name:"辽源市",districtAndCounty:["白泉镇","东丰县","东丰镇","东辽县","龙山区","西安区"]},{name:"四平市",districtAndCounty:["公主岭市","梨树县","梨树镇","双辽市","铁东区","铁西区","伊通满族自治县","伊通镇"]},{name:"松原市",districtAndCounty:["扶余县","乾安县","乾安镇","宁江区","前郭尔罗斯蒙古族自治县","前郭镇","三岔河镇","长岭县","长岭镇"]},{name:"通化市",districtAndCounty:["朝阳镇","东昌区","二道江区","辉南县","集安市","快大茂镇","柳河县","柳河镇","梅河口市","通化县"]},{name:"延边州",districtAndCounty:["安图县","敦化市","和龙市","珲春市","龙井市","明月镇","图们市","汪清县","汪清镇","延吉市"]},{name:"长春市",districtAndCounty:["朝阳区","德惠市","二道区","九台市","宽城区","绿园区","南关区","农安县","农安镇","双阳区","榆树市"]}]},{name:"江苏省",city:[{name:"常州市",districtAndCounty:["金坛市","溧阳市","戚墅堰区","天宁区","武进区","新北区","钟楼区"]},{name:"淮安市",districtAndCounty:["楚州区","高良涧镇","洪泽县","淮阴区","金湖县","黎城镇","涟城镇","涟水县","清河区","清浦区","盱城镇","盱眙县"]},{name:"连云港市",districtAndCounty:["东海县","赣榆县","灌南县","灌云县","海州区","连云区","牛山镇","青口镇","新安镇","新浦区","伊山镇"]},{name:"南京市",districtAndCounty:["白下区","淳溪镇","高淳县","鼓楼区","建邺区","江宁区","溧水县","六合区","浦口区","栖霞区","秦淮区","下关区","玄武区","永阳镇","雨花台区"]},{name:"南通市",districtAndCounty:["崇川区","港闸区","海安县","海安镇","海门市","掘港镇","启东市","如东县","如皋市","通州市"]},{name:"苏州市",districtAndCounty:["沧浪区","常熟市","虎丘区","金阊区","昆山市","平江区","太仓市","吴江市","吴中区","相城区","张家港市"]},{name:"宿迁市",districtAndCounty:["青阳镇","沭城镇","沭阳县","泗洪县","泗阳县","宿城区","宿豫区","众兴镇"]},{name:"泰州市",districtAndCounty:["高港区","海陵区","姜堰市","靖江市","泰兴市","兴化市"]},{name:"无锡市",districtAndCounty:["北塘区","滨湖区","崇安区","惠山区","江阴市","南长区","锡山区","宜兴市"]},{name:"徐州市",districtAndCounty:["丰县","凤城镇","鼓楼区","贾汪区","九里区","沛城镇","沛县","邳州市","泉山区","睢城镇","睢宁县","铜山县","铜山镇","新沂市","云龙区"]},{name:"盐城市",districtAndCounty:["滨海县","大丰市","东坎镇","东台市","阜城镇","阜宁县","合德镇","建湖县","近湖镇","射阳县","亭湖区","响水县","响水镇","盐都区"]},{name:"扬州市",districtAndCounty:["安宜镇","宝应县","高邮市","广陵区","邗江区","江都市","维扬区","仪征市"]},{name:"镇江市",districtAndCounty:["丹徒区","丹阳市","京口区","句容市","润州区","扬中市"]}]},{name:"江西省",city:[{name:"抚州市",districtAndCounty:["鳌溪镇","巴山镇","崇仁县","东乡县","凤冈镇","广昌县","鹤城镇","建昌镇","金溪县","乐安县","黎川县","临川区","南城县","南丰县","琴城镇","日峰镇","孝岗镇","秀谷镇","旴江镇","宜黄县","资溪县"]},{name:"赣州市",districtAndCounty:["安远县","城厢镇","崇义县","大余县","定南县","东山镇","赣县","贡江镇","横水镇","会昌县","嘉定镇","历市镇","潋江镇","龙南县","龙南镇","梅江镇","梅林镇","南安镇","南康市","宁都县","琴江镇","全南县","瑞金市","上犹县","石城县","文武坝镇","欣山镇","信丰县","兴国县","寻乌县","于都县","章贡区","长宁镇"]},{name:"吉安市",districtAndCounty:["安福县","澄江镇","敦厚镇","恩江镇","芙蓉镇","禾川镇","吉安县","吉水县","吉州区","金川镇","井冈山市","平都镇","青原区","泉江镇","厦坪镇","水边镇","遂川县","泰和县","万安县","文峰镇","峡江县","新干县","永丰县","永新县"]},{name:"景德镇市",districtAndCounty:["昌江区","浮梁县","浮梁镇","乐平市","珠山区"]},{name:"九江市",districtAndCounty:["德安县","都昌县","都昌镇","湖口县","九江县","龙城镇","庐山区","南康镇","彭泽县","蒲亭镇","瑞昌市","沙河街镇","双钟镇","涂埠镇","武宁县","新宁镇","星子县","修水县","浔阳区","义宁镇","永修县"]},{name:"南昌市",districtAndCounty:["安义县","东湖区","进贤县","莲塘镇","龙津镇","民和镇","南昌县","青山湖区","青云谱区","湾里区","西湖区","新建县","长堎镇"]},{name:"萍乡市",districtAndCounty:["安源区","莲花县","芦溪县","芦溪镇","琴亭镇","上栗县","上栗镇","湘东区"]},{name:"上饶市",districtAndCounty:["冰溪镇","岑阳镇","陈营镇","德兴市","广丰县","河口镇","横峰县","鄱阳县","鄱阳镇","铅山县","上饶县","万年县","婺源县","信州区","旭日镇","弋江镇","弋阳县","永丰镇","余干县","玉山县","玉亭镇","紫阳镇"]},{name:"新余市",districtAndCounty:["分宜县","分宜镇","渝水区"]},{name:"宜春市",districtAndCounty:["丰城市","冯川镇","奉新县","高安市","靖安县","上高县","双溪镇","铜鼓县","万载县","新昌镇","宜丰县","永宁镇","袁州区","樟树市"]},{name:"鹰潭市",districtAndCounty:["邓埠镇","贵溪市","余江县","月湖区"]}]},{name:"辽宁省",city:[{name:"鞍山市",districtAndCounty:["海城市","立山区","千山区","台安县","台安镇","铁东区","铁西区","岫岩满族自治县","岫岩镇"]},{name:"本溪市",districtAndCounty:["本溪满族自治县","桓仁满族自治县","桓仁镇","明山区","南芬区","平山区","溪湖区","小市镇"]},{name:"朝阳市",districtAndCounty:["北票市","朝阳市双塔区","朝阳县","大城子镇","建平县","喀喇沁左翼蒙古族自治县","凌源市","龙城区","双塔区"]},{name:"大连市",districtAndCounty:["大长山岛镇","甘井子区","金州区","旅顺口区","普兰店市","沙河口区","瓦房店市","西岗区","长海县","中山区","庄河市"]},{name:"丹东市",districtAndCounty:["东港市","凤城市","宽甸满族自治县","宽甸镇","元宝区","振安区","振兴区"]},{name:"抚顺市",districtAndCounty:["东洲区","抚顺市顺城区","抚顺县","清原满族自治县","清原镇","顺城区","望花区","新宾满族自治县","新宾镇","新抚区"]},{name:"阜新市",districtAndCounty:["阜新蒙古族自治县","阜新镇","海州区","清河门区","太平区","细河区","新邱区","彰武县","彰武镇"]},{name:"葫芦岛市",districtAndCounty:["建昌县","建昌镇","连山区","龙港区","南票区","绥中县","绥中镇","兴城市"]},{name:"锦州市",districtAndCounty:["北宁市","古塔区","黑山县","黑山镇","凌海市","凌河区","太和区","义县","义州镇"]},{name:"辽阳市",districtAndCounty:["白塔区","灯塔市","弓长岭区","宏伟区","辽阳县","首山镇","太子河区","文圣区"]},{name:"盘锦市",districtAndCounty:["大洼县","大洼镇","盘锦市双台子区","盘山县","双台子区","兴隆台区"]},{name:"沈阳市",districtAndCounty:["沈河区","大东区","东陵区","法库县","法库镇","和平区","皇姑区","康平县","康平镇","辽中县","辽中镇","苏家屯区","铁西区","新城子区","新民市","于洪区"]},{name:"铁岭市",districtAndCounty:["昌图县","昌图镇","调兵山市","开原市","清河区","铁岭市银州区","铁岭县","西丰县","西丰镇","银州区"]},{name:"营口市",districtAndCounty:["鲅鱼圈区","大石桥市","盖州市","老边区","西市区","站前区"]}]},{name:"内蒙古",city:[{name:"阿拉善盟",districtAndCounty:["阿拉善右旗","巴彦浩特镇","达来呼布镇","额济纳旗","额肯呼都格镇"]},{name:"巴彦淖尔市",districtAndCounty:["巴彦高勒镇","巴音宝力格镇","磴口县","海流图镇","杭锦后旗","临河区","隆兴昌镇","陕坝镇","乌拉山镇","乌拉特后旗","乌拉特前旗","乌拉特中旗","五原县"]},{name:"包头市",districtAndCounty:["白云矿区","百灵庙镇","达尔罕茂明安联合旗","东河区","固阳县","金山镇","九原区","昆都仑区","青山区","萨拉齐镇","石拐区","土默特右旗"]},{name:"赤峰市",districtAndCounty:["阿鲁科尔沁旗","敖汉旗","巴林右旗","巴林左旗","大板镇","红山区","锦山镇","经棚镇","喀喇沁旗","克什克腾旗","林东镇","林西县","林西镇","宁城县","松山区","天山镇","天义镇","翁牛特旗","乌丹镇","新惠镇","元宝山区"]},{name:"鄂尔多斯市",districtAndCounty:["阿勒腾席热镇","敖勒召其镇","达拉特旗","东胜区","鄂托克旗","鄂托克前旗","嘎鲁图镇","杭锦旗","树林召镇","乌兰镇","乌审旗","锡尼镇","薛家湾镇","伊金霍洛旗","准格尔旗"]},{name:"呼和浩特市",districtAndCounty:["察素齐镇","城关镇","城关镇","和林格尔县","回民区","可可以力更镇","清水河县","赛罕区","双河镇","土默特左旗","托克托县","武川县","新城区","玉泉区"]},{name:"呼伦贝尔市",districtAndCounty:["阿拉坦额莫勒镇","阿里河镇","阿穆古郎镇","阿荣旗","巴彦库仁镇","巴彦托海镇","陈巴尔虎旗","额尔古纳市","鄂伦春自治旗","鄂温克族自治旗","根河市","海拉尔区","满洲里市","莫力达瓦达斡尔族自治旗","那吉镇","尼尔基镇","新巴尔虎右旗","新巴尔虎左旗","牙克石市","扎兰屯市"]},{name:"通辽市",districtAndCounty:["保康镇","大沁他拉镇","甘旗卡镇","霍林郭勒市","开鲁县","开鲁镇","科尔沁区","科尔沁左翼后旗","科尔沁左翼中旗","库伦旗","库伦镇","鲁北镇","奈曼旗","扎鲁特旗"]},{name:"乌海市",districtAndCounty:["海勃湾区","海南区","乌达区"]},{name:"乌兰察布市",districtAndCounty:["白音察干镇","察哈尔右翼后旗","察哈尔右翼前旗","察哈尔右翼中旗","城关镇","岱海镇","丰镇市","化德县","集宁区","科布尔镇","凉城县","商都县","商都镇","四子王旗","土贵乌拉镇","乌兰花镇","兴和县","长顺镇","卓资山镇","卓资县"]},{name:"锡林郭勒盟",districtAndCounty:["阿巴嘎旗","巴拉嘎尔郭勒镇","宝昌镇","别力古台镇","东乌珠穆沁旗","多伦淖尔镇","多伦县","二连浩特市","满都拉图镇","明安图镇","赛汉塔拉镇","上都镇","苏尼特右旗","苏尼特左旗","太仆寺旗","乌里雅斯太镇","西乌珠穆沁旗","锡林浩特市","镶黄旗","新宝拉格镇","正蓝旗","正镶白旗"]},{name:"兴安盟",districtAndCounty:["阿尔山市","巴彦呼硕镇","大坝沟镇","科尔沁右翼前旗","科尔沁右翼中旗","突泉县","突泉镇","乌兰浩特市","音德尔镇","扎赉特旗"]}]},{name:"宁夏",city:[{name:"固原市",districtAndCounty:["白阳镇","城关镇","吉强镇","泾源县","隆德县","彭阳县","西吉县","香水镇","原州区"]},{name:"石嘴山市",districtAndCounty:["城关镇","大武口区","惠农区","平罗县"]},{name:"吴忠市",districtAndCounty:["花马池镇","利通区","青铜峡市","同心县","盐池县","豫海镇"]},{name:"银川市",districtAndCounty:["贺兰县","金凤区","灵武市","西夏区","习岗镇","兴庆区","杨和镇","永宁县"]},{name:"中卫市",districtAndCounty:["海原县","沙坡头区","中宁县"]}]},{name:"青海省",city:[{name:"果洛州",districtAndCounty:["班玛县","达日县","大武镇","甘德县","黄河乡","吉迈镇","久治县","柯曲镇","玛多县","玛沁县","赛来塘镇","智青松多镇"]},{name:"海北州",districtAndCounty:["八宝镇","刚察县","海晏县","浩门镇","门源回族自治县","祁连县","三角城镇","沙柳河镇"]},{name:"海东地区",districtAndCounty:["巴燕镇","川口镇","互助土族自治县","化隆回族自治县","积石镇","乐都县","民和回族土族自治县","碾伯镇","平安县","平安镇","威远镇","循化撒拉族自治县"]},{name:"海南州",districtAndCounty:["尕巴松多镇","共和县","贵德县","贵南县","河阴镇","茫曲镇","恰卜恰镇","同德县","兴海县","子科滩镇"]},{name:"海西州",districtAndCounty:["察汗乌苏镇","德令哈市","都兰县","格尔木市","天峻县","乌兰县","希里沟镇","新源镇"]},{name:"黄南州",districtAndCounty:["河南蒙古族自治县","尖扎县","隆务镇","马克唐镇","同仁县","优干宁镇","泽库县","泽曲镇"]},{name:"西宁市",districtAndCounty:["城北区","城东区","城关镇","城西区","城中区","大通回族土族自治县","湟源县","湟中县","鲁沙尔镇","桥头镇"]},{name:"玉树州",districtAndCounty:["称多县","称文镇","加吉博洛镇","结古镇","囊谦县","曲麻莱县","萨呼腾镇","香达镇","玉树县","约改镇","杂多县","治多县"]}]},{name:"山东省",city:[{name:"滨州市",districtAndCounty:["滨城区","博兴县","博兴镇","富国镇","惠民县","惠民镇","无棣县","无棣镇","阳信县","阳信镇","沾化县","邹平县"]},{name:"德州市",districtAndCounty:["德城区","乐陵市","临邑县","陵城镇","陵县","宁津县","宁津镇","平原县","齐河县","庆云县","庆云镇","武城县","武城镇","夏津县","夏津镇","晏城镇","禹城市"]},{name:"东营市",districtAndCounty:["东营区","广饶县","广饶镇","河口区","垦利县","垦利镇","利津县","利津镇"]},{name:"菏泽市",districtAndCounty:["曹城镇","曹县","成武县","成武镇","城关镇","单城镇","单县","定陶县","定陶镇","东明县","巨野县","巨野镇","鄄城县","鄄城镇","牡丹区","郓城县","郓城镇"]},{name:"济南市",districtAndCounty:["槐荫区","济阳县","济阳镇","历城区","历下区","平阴县","平阴镇","商河县","市中区","天桥区","章丘市","长清区"]},{name:"济宁市",districtAndCounty:["谷亭镇","嘉祥县","嘉祥镇","金乡县","金乡镇","梁山县","梁山镇","曲阜市","任城区","市中区","泗水县","微山县","汶上县","汶上镇","兖州市","鱼台县","邹城市"]},{name:"莱芜市",districtAndCounty:["钢城区","莱城区"]},{name:"聊城市",districtAndCounty:["茌平县","东阿县","东昌府区","高唐县","冠城镇","冠县","临清市","莘县","阳谷县"]},{name:"临沂市",districtAndCounty:["卞庄镇","苍山县","费城镇","费县","河东区","界湖镇","莒南县","兰山区","临沭县","临沭镇","罗庄区","蒙阴县","蒙阴镇","平邑县","平邑镇","十字路镇","郯城县","郯城镇","沂南县","沂水县","沂水镇"]},{name:"青岛市",districtAndCounty:["城阳区","黄岛区","即墨市","胶南市","胶州市","莱西市","崂山区","李沧区","平度市","市北区","市南区","四方区"]},{name:"日照市",districtAndCounty:["城阳镇","东港区","洪凝镇","莒县","岚山区","五莲县"]},{name:"泰安市",districtAndCounty:["岱岳区","东平县","东平镇","肥城市","宁阳县","宁阳镇","泰山区","新泰市"]},{name:"威海市",districtAndCounty:["环翠区","荣成市","乳山市","文登市"]},{name:"潍坊市",districtAndCounty:["安丘市","昌乐县","昌邑市","坊子区","高密市","寒亭区","奎文区","临朐县","青州市","寿光市","潍城区","诸城市"]},{name:"烟台市",districtAndCounty:["福山区","海阳市","莱山区","莱阳市","莱州市","龙口市","牟平区","南长山镇","蓬莱市","栖霞市","长岛县","招远市","芝罘区"]},{name:"枣庄市",districtAndCounty:["山亭区","市中区","台儿庄区","滕州市","薛城区","峄城区"]},{name:"淄博市",districtAndCounty:["博山区","高青县","桓台县","临淄区","南麻镇","索镇","田镇","沂源县","张店区","周村区","淄川区"]}]},{name:"山西省",city:[{name:"大同市",districtAndCounty:["城区","大同县","广灵县","壶泉镇","浑源县","矿区","灵丘县","龙泉镇","南郊区","天镇县","武灵镇","西坪镇","新荣区","阳高县","永安镇","玉泉镇","云兴镇","左云县"]},{name:"晋城市",districtAndCounty:["城区","崇文镇","凤城镇","高平市","陵川县","龙港镇","南村镇","沁水县","阳城县","泽州县"]},{name:"晋中市",districtAndCounty:["朝阳镇","翠峰镇","古陶镇","和顺县","箕城镇","介休市","乐平镇","辽阳镇","灵石县","明星镇","平遥县","祁县","寿阳县","太谷县","昔阳县","义兴镇","榆次区","榆社县","昭余镇","左权县"]},{name:"临汾市",districtAndCounty:["安泽县","昌宁镇","大槐树镇","大宁县","汾西县","浮山县","府城镇","古县","洪洞县","侯马市","霍州市","吉昌镇","吉县","乐昌镇","龙泉镇","蒲城镇","蒲县","曲沃县","唐兴镇","天坛镇","隰县","乡宁县","襄汾县","昕水镇","新城镇","尧都区","翼城县","永安镇","永和县","岳阳镇","芝河镇"]},{name:"吕梁市",districtAndCounty:["东村镇","方山县","汾阳市","凤城镇","圪洞镇","交城县","交口县","岚县","离石区","临泉镇","临县","灵泉镇","柳林县","柳林镇","宁乡镇","石楼县","水头镇","天宁镇","蔚汾镇","文水县","孝义市","兴县","中阳县"]},{name:"朔州市",districtAndCounty:["岱岳乡","怀仁县","金城镇","平鲁区","山阴县","朔城区","新城镇","应县","右玉县","云中镇"]},{name:"太原市",districtAndCounty:["古交市","黄寨镇","尖草坪区","晋源区","娄烦县","娄烦镇","清徐县","清源镇","万柏林区","小店区","杏花岭区","阳曲县","迎泽区"]},{name:"忻州市",districtAndCounty:["保德县","代县","定襄县","东关镇","鹅城镇","繁城镇","繁峙县","凤凰镇","河曲县","晋昌镇","静乐县","岢岚县","岚漪镇","龙泉镇","宁武县","偏关县","上馆镇","神池县","台城镇","文笔镇","五台县","五寨县","忻府区","新关镇","砚城镇","原平市"]},{name:"阳泉市",districtAndCounty:["城区","冠山镇","郊区","矿区","平定县","秀水镇","盂县"]},{name:"运城市",districtAndCounty:["古绛镇","古魏镇","河津市","稷峰镇","稷山县","绛县","解店镇","临猗县","龙兴镇","平陆县","芮城县","圣人涧镇","桐城镇","万荣县","闻喜县","夏县","新城镇","新绛县","盐湖区","瑶峰镇","猗氏镇","永济市","垣曲县"]},{name:"长治市",districtAndCounty:["城区","丹朱镇","定昌镇","丰州镇","古韩镇","韩店镇","壶关县","郊区","黎城县","黎侯镇","麟绛镇","龙泉镇","潞城市","平顺县","沁河镇","沁县","沁源县","青羊镇","屯留县","武乡县","襄垣县","长治县","长子县"]}]},{name:"陕西省",city:[{name:"安康市",districtAndCounty:["白河县","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","汉滨区","汉阴县","岚皋县","宁陕县","平利县","石泉县","旬阳县","镇坪县","紫阳县"]},{name:"宝鸡市",districtAndCounty:["陈仓区","城关镇","城关镇","城关镇","城关镇","凤鸣镇","凤县","凤翔县","扶风县","金台区","九成宫镇","麟游县","陇县","眉县","岐山县","千阳县","首善镇","双石铺镇","太白县","渭滨区","嘴头镇"]},{name:"汉中市",districtAndCounty:["博望镇","城固县","城关镇","城关镇","城关镇","城关镇","佛坪县","汉台区","汉源镇","泾洋镇","留坝县","略阳县","勉县","勉阳镇","南郑县","宁强县","西乡县","洋县","洋州镇","袁家庄镇","镇巴县"]},{name:"商洛市",districtAndCounty:["城关镇","城关镇","城关镇","丹凤县","乾佑镇","龙驹寨镇","洛南县","山阳县","商南县","商州区","永乐镇","柞水县","镇安县"]},{name:"铜川市",districtAndCounty:["城关镇","王益区","耀州区","宜君县","印台区"]},{name:"渭南市",districtAndCounty:["白水县","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","澄城县","大荔县","窦村镇","富平县","韩城市","合阳县","华县","华阴市","华州镇","临渭区","蒲城县","潼关县"]},{name:"西安市",districtAndCounty:["灞桥区","碑林区","二曲镇","甘亭镇","高陵县","户县","蓝关镇","蓝田县","莲湖区","临潼区","鹿苑镇","未央区","新城区","阎良区","雁塔区","长安区","周至县"]},{name:"咸阳市",districtAndCounty:["彬县","城关镇","城关镇","城关镇","城关镇","城关镇","城关镇","淳化县","乾县","监军镇","泾干镇","泾阳县","礼泉县","普集镇","秦都区","三原县","渭城区","武功县","兴平市","旬邑县","杨陵区","永寿县","长武县","昭仁镇"]},{name:"延安市",districtAndCounty:["安塞县","宝塔区","保安镇","城关镇","丹州镇","凤栖镇","富城镇","富县","甘泉县","黄陵县","黄龙县","洛川县","七里村镇","桥山镇","石堡镇","瓦窑堡镇","吴旗镇","吴起县","延川县","延川镇","延长县","宜川县","真武洞镇","志丹县","子长县"]},{name:"榆林市",districtAndCounty:["定边县","定边镇","府谷县","府谷镇","横山县","横山镇","佳芦镇","佳县","靖边县","宽洲镇","米脂县","名州镇","清涧县","神木县","神木镇","双湖峪镇","宋家川镇","绥德县","吴堡县","银州镇","榆阳区","张家畔镇","子洲县"]}]},{name:"上海市",city:[{name:"上海市",districtAndCounty:["宝山区?","城桥镇","崇明县","奉贤区","虹口区","黄浦区","嘉定区","金山区","静安区","卢湾区","闵行区","南汇区","浦东新区","普陀区","青浦区","松江区","徐汇区","杨浦区","闸北区","长宁区"]}]},{name:"四川省",city:[{name:"阿坝州",districtAndCounty:["阿坝县","阿坝镇","达扎寺镇","凤仪镇","黑水县","红原县","金川县","金川镇","进安镇","九寨沟县","理县","芦花镇","马尔康县","马尔康镇","茂县","美兴镇","邛溪镇","壤柯镇","壤塘县","若尔盖县","松潘县","威州镇","汶川县","小金县","永乐镇","杂谷脑镇"]},{name:"巴中市",districtAndCounty:["巴州区","江口镇","南江县","南江镇","诺江镇","平昌县","通江县"]},{name:"成都市",districtAndCounty:["成华区","崇州市","大邑县","都江堰市","鹤山镇","金牛区","金堂县","锦江区","晋原镇","龙泉驿区","彭州市","郫筒镇","郫县","蒲江县","青白江区","青羊区","邛崃市","双流县","温江区","五津镇","武侯区","新都区","新津县","赵镇"]},{name:"达州市",districtAndCounty:["达县","大竹县","东乡镇","开江县","南外镇","渠江镇","渠县","通川区","万源市","新宁镇","宣汉县","竹阳镇"]},{name:"德阳市",districtAndCounty:["广汉市","旌阳区","凯江镇","罗江县","罗江镇","绵竹市","什邡市","中江县"]},{name:"甘孜州",districtAndCounty:["巴塘县","白玉县","丹巴县","道孚县","稻城县","得荣县","德格县","呷尔镇","甘孜县","甘孜镇","高城镇","更庆镇","河口镇","建设镇","金珠镇","九龙县","康定县","理塘县","泸定县","泸桥镇","炉城镇","炉霍县","尼呷镇","茹龙镇","桑披镇","色达县","色柯镇","石渠县","松麦镇","夏邛镇","鲜水镇","乡城县","新都镇","新龙县","雅江县","章谷镇"]},{name:"广安市",districtAndCounty:["鼎屏镇","广安区","华蓥市","九龙镇","邻水县","武胜县","沿口镇","岳池县"]},{name:"广元市",districtAndCounty:["苍溪县","朝天区","东河镇","剑阁县","陵江镇","乔庄镇","青川县","市中区","旺苍县","下寺镇","元坝区"]},{name:"乐山市",districtAndCounty:["峨边彝族自治县","峨眉山市","夹江县","犍为县","金口河区","井研县","马边彝族自治县","民建镇","沐川县","沐溪镇","沙坪镇","沙湾区","市中区","五通桥区","漹城镇","研城镇","玉津镇"]},{name:"凉山州",districtAndCounty:["巴普镇","布拖县","城关镇","城厢镇","德昌县","德州镇","甘洛县","光明镇","会东县","会东镇","会理县","金阳县","锦城镇","雷波县","美姑县","冕宁县","木里藏族自治县","宁南县","披砂镇","普格县","普基镇","乔瓦镇","特木里镇","天地坝镇","西昌市","喜德县","新城镇","新市坝镇","盐井镇","盐源县","越城镇","越西县","昭觉县"]},{name:"泸州市",districtAndCounty:["福集镇","古蔺县","古蔺镇","合江县","合江镇","江阳区","龙马潭区","泸县","纳溪区","叙永县","叙永镇"]},{name:"眉山市",districtAndCounty:["城厢镇","丹棱县","丹棱镇","东坡区","凤鸣镇","洪川镇","洪雅县","彭山县","青神县","仁寿县","文林镇"]},{name:"绵阳市",districtAndCounty:["安县","北川羌族自治县","涪城区","花荄镇","江油市","龙安镇","平武县","曲山镇","三台县","潼川镇","文昌镇","盐亭县","游仙区","云溪镇","梓潼县"]},{name:"南充市",districtAndCounty:["高坪区","嘉陵区","晋城镇","阆中市","朗池镇","南部县","南隆镇","蓬安县","顺庆区","西充县","新政镇","仪陇县","营山县","周口镇"]},{name:"内江市",districtAndCounty:["东兴区","金鹅镇","隆昌县","市中区","威远县","严陵镇","重龙镇","资中县"]},{name:"攀枝花市",districtAndCounty:["东区","米易县","攀莲镇","仁和区","桐子林镇","西区","盐边县"]},{name:"遂宁市",districtAndCounty:["安居区","赤城镇","船山区","大英县","蓬莱镇","蓬溪县","射洪县","太和镇"]},{name:"雅安市",districtAndCounty:["宝兴县","城厢镇","富林镇","汉源县","芦山县","芦阳镇","蒙阳镇","名山县","穆坪镇","石棉县","天全县","新棉镇","荥经县","严道镇","雨城区"]},{name:"宜宾市",districtAndCounty:["柏溪镇","翠屏区","高县","珙县","江安县","江安镇","南溪县","南溪镇","屏山县","屏山镇","庆符镇","兴文县","巡场镇","宜宾县","筠连县","筠连镇","长宁县","长宁镇","中城镇"]},{name:"资阳市",districtAndCounty:["安岳县","简阳市","乐至县","天池镇","雁江区","岳阳镇"]},{name:"自贡市",districtAndCounty:["大安区","富世镇","富顺县","贡井区","荣县","旭阳镇","沿滩区","自流井区"]}]},{name:"台湾省",city:[{name:"高雄",districtAndCounty:[]},{name:"花莲",districtAndCounty:[]},{name:"基隆",districtAndCounty:[]},{name:"嘉义",districtAndCounty:[]},{name:"金门",districtAndCounty:[]},{name:"连江",districtAndCounty:[]},{name:"苗栗",districtAndCounty:[]},{name:"南投",districtAndCounty:[]},{name:"澎湖",districtAndCounty:[]},{name:"屏东",districtAndCounty:[]},{name:"台北",districtAndCounty:[]},{name:"台东",districtAndCounty:[]},{name:"台南",districtAndCounty:[]},{name:"台中",districtAndCounty:[]},{name:"桃园",districtAndCounty:[]},{name:"新竹",districtAndCounty:[]},{name:"宜兰",districtAndCounty:[]},{name:"云林",districtAndCounty:[]},{name:"彰化",districtAndCounty:[]}]},{name:"天津市",city:[{name:"天津市",districtAndCounty:["宝坻区","北辰区","大港区","东丽区","汉沽区","和平区","河北区","河东区","河西区","红桥区","蓟县","津南区","静海县","静海镇","芦台镇","南开区","宁河县","塘沽区","武清区","西青区"]}]},{name:"西藏",city:[{name:"阿里地区",districtAndCounty:["措勤县","措勤镇","噶尔县","改则县","改则镇","革吉县","革吉镇","林芝县人民政府驻地由林芝镇迁至八一镇","普兰县","普兰镇","日土县","日土镇","狮泉河镇","托林镇","札达县"]},{name:"昌都地区",districtAndCounty:["八宿县","白玛镇","边坝县","草卡镇","察雅县","昌都县","城关镇","丁青县","丁青镇","嘎托镇","贡觉县","江达县","江达镇","类乌齐县","洛隆县","芒康县","莫洛镇","桑多镇","旺达镇","烟多镇","孜托镇","左贡县"]},{name:"拉萨市",districtAndCounty:["城关区","达孜县","当曲卡镇","当雄县","德庆镇","东嘎镇","堆龙德庆县","甘丹曲果镇","工卡镇","林周县","墨竹工卡县","尼木县","曲水县","曲水镇","塔荣镇"]},{name:"林芝地区",districtAndCounty:["八一镇","波密县","察隅县","工布江达县","工布江达镇","朗县","朗镇","林芝县","米林县","米林镇","墨脱县","墨脱镇","扎木镇","竹瓦根镇"]},{name:"那曲地区",districtAndCounty:["阿扎镇","安多县","巴青县","班戈县","比如县","比如镇","嘉黎县","拉西镇","那曲县","那曲镇","尼玛县","尼玛镇","聂荣县","聂荣镇","帕那镇","普保镇","申扎县","申扎镇","索县","亚拉镇"]},{name:"日喀则地区",districtAndCounty:["昂仁县","白朗县","德吉林镇","定结县","定日县","岗巴县","岗巴镇","吉隆县","加加镇","江嘎镇","江孜县","江孜镇","卡嘎镇","卡嘎镇","康马县","康马镇","拉让乡","拉孜县","洛江镇","南木林县","南木林镇","聂拉木县","聂拉木镇","曲下镇","仁布县","日喀则市","萨嘎县","萨迦县","萨迦镇","下司马镇","协格尔镇","谢通门县","亚东县","仲巴县","宗嘎镇"]},{name:"山南地区",districtAndCounty:["安绕镇","措美县","措美镇","错那县","错那镇","贡嘎县","吉雄镇","加查县","浪卡子县","浪卡子镇","隆子县","隆子镇","洛扎县","洛扎镇","乃东县","琼结县","琼结镇","曲松县","曲松镇","桑日县","桑日镇","泽当镇","扎囊县","扎塘镇"]}]},{name:"香港",city:[{name:"香港特别行政区",districtAndCounty:["北区","大埔区","东区","观塘区","黄大仙区","九龙城区","葵青区","离岛区","南区","荃湾区","沙田区","深水埗区","屯门区","湾仔区","西贡区","油尖旺区","元朗区","中西区"]}]},{name:"新疆",city:[{name:"阿克苏地区",districtAndCounty:["阿克苏市","阿瓦提县","阿瓦提镇","拜城县","拜城镇","柯坪县","柯坪镇","库车县","库车镇","沙雅县","沙雅镇","温宿县","温宿镇","乌什县","乌什镇","新和县","新和镇"]},{name:"阿勒泰地区",districtAndCounty:["阿勒泰市","布尔津县","布尔津镇","福海县","富蕴县","哈巴河县","吉木乃县","库额尔齐斯镇","青河县"]},{name:"巴音郭楞州",districtAndCounty:["博湖县","博湖镇","和静县","和静镇","和硕县","库尔勒市","轮台县","轮台镇","且末县","且末镇","若羌县","若羌镇","特吾里克镇","尉犁县","尉犁镇","焉耆回族自治县","焉耆镇"]},{name:"博尔塔拉州",districtAndCounty:["博格达尔镇","博乐市","精河县","精河镇","温泉县"]},{name:"昌吉州",districtAndCounty:["昌吉市","阜康市","呼图壁县","呼图壁镇","吉木萨尔县","吉木萨尔镇","玛纳斯县","玛纳斯镇","米泉市","木垒哈萨克自治县","木垒镇","奇台县","奇台镇"]},{name:"哈密地区",districtAndCounty:["巴里坤哈萨克自治县","巴里坤镇","哈密市","伊吾县","伊吾镇"]},{name:"和田地区",districtAndCounty:["策勒县","策勒镇","固玛镇","和田市","和田县","喀拉喀什镇","洛浦县","洛浦镇","民丰县","墨玉县","木尕拉镇","尼雅镇","皮山县","于田县"]},{name:"喀什地区",districtAndCounty:["巴楚县","巴楚镇","巴仁镇","伽师县","喀格勒克镇","喀什市","麦盖提县","麦盖提镇","莎车县","莎车镇","疏附县","疏勒县","疏勒镇","塔什库尔干塔吉克自治县","塔什库尔干镇","托克扎克镇","叶城县","英吉沙县","英吉沙镇","岳普湖县","岳普湖镇","泽普县","泽普镇"]},{name:"克拉玛依市",districtAndCounty:["白碱滩区","独山子区","克拉玛依区","乌尔禾区"]},{name:"克孜勒苏柯州",districtAndCounty:["阿合奇县","阿合奇镇","阿克陶县","阿克陶镇","阿图什市","乌恰县","乌恰镇"]},{name:"塔城地区",districtAndCounty:["额敏县","额敏镇","哈拉布拉镇","和布克赛尔蒙古自治县","和布克赛尔镇","三道河子镇","沙湾县","塔城市","托里县","托里镇","乌苏市","裕民县"]},{name:"吐鲁番地区",districtAndCounty:["鄯善县","鄯善镇","吐鲁番市","托克逊县","托克逊镇"]},{name:"乌鲁木齐市",districtAndCounty:["达坂城区","东山区","沙依巴克区","水磨沟区","天山区","头屯河区","乌鲁木齐市水磨沟区","乌鲁木齐县","新市区"]},{name:"伊犁州",districtAndCounty:["察布查尔锡伯自治县","察布查尔镇","巩留县","巩留镇","霍城县","吉里于孜镇","奎屯市","尼勒克县","尼勒克镇","水定镇","特克斯县","特克斯镇","新源县","新源镇","伊宁市","伊宁县","昭苏县","昭苏镇"]},{name:"自治区直辖县级行政单位",districtAndCounty:["阿拉尔市","石河子市","图木舒克市","五家渠市"]}]},{name:"云南省",city:[{name:"保山市",districtAndCounty:["昌宁县","甸阳镇","龙陵县","龙山镇","隆阳区","施甸县","腾冲县","腾越镇","田园镇"]},{name:"楚雄州",districtAndCounty:["楚雄市","大姚县","栋川镇","共和镇","金碧镇","金山镇","龙川镇","禄丰县","牟定县","南华县","狮山镇","双柏县","妥甸镇","武定县","姚安县","永定镇","永仁县","元马镇","元谋县"]},{name:"大理州",districtAndCounty:["宾川县","博南镇","苍山西镇","茈碧湖镇","大理市","洱源县","鹤庆县","剑川县","金华镇","金牛镇","弥城镇","弥渡县","南涧彝族自治县","南涧镇","南诏镇","诺邓镇","巍山彝族回族自治县","祥城镇","祥云县","漾濞彝族自治县","永平县","云鹤镇","云龙县"]},{name:"德宏州",districtAndCounty:["梁河县","陇川县","潞西市","平原镇","瑞丽市","盈江县","章凤镇","遮岛镇"]},{name:"迪庆州",districtAndCounty:["保和镇","德钦县","建塘镇","升平镇","维西傈僳族自治县","香格里拉县"]},{name:"红河州",districtAndCounty:["大兴镇","个旧市","河口瑶族自治县","河口镇","红河县","建水县","金河镇","金平苗族瑶族傣族自治县","开远市","临安镇","泸西县","绿春县","蒙自县","弥勒县","弥阳镇","南沙镇","屏边苗族自治县","石屏县","文澜镇","迤萨镇","异龙镇","玉屏镇","元阳县","中枢镇"]},{name:"昆明市",districtAndCounty:["安宁市","呈贡县","东川区","富民县","官渡区","晋宁县","匡远镇","昆阳镇","龙城镇","鹿阜镇","禄劝彝族苗族自治县","盘龙区","屏山镇","仁德镇","石林彝族自治县","嵩明县","嵩阳镇","五华区","西山区","寻甸回族彝族自治县","宜良县","永定镇"]},{name:"丽江市",districtAndCounty:["大兴镇","古城区","华坪县","黄山镇","宁蒗彝族自治县","永北镇","永胜县","玉龙纳西族自治县","中心镇"]},{name:"临沧市",districtAndCounty:["爱华镇","沧源佤族自治县","德党镇","凤庆县","凤山镇","耿马傣族佤族自治县","耿马镇","临翔区","勐董镇","勐勐镇","南伞镇","双江拉祜族佤族布朗族傣族自治县","永德县","云县","镇康县"]},{name:"怒江州",districtAndCounty:["茨开镇","福贡县","贡山独龙族怒族自治县","金顶镇","兰坪白族普米族自治县","六库镇","泸水县","泸水县六库镇","上帕镇"]},{name:"曲靖市",districtAndCounty:["丹凤镇","富源县","会泽县","金钟镇","陆良县","罗平县","罗雄镇","马龙县","麒麟区","师宗县","通泉镇","西平镇","宣威市","沾益县","中安镇","中枢镇"]},{name:"思茅市",districtAndCounty:["翠云区","恩乐镇","江城哈尼族彝族自治县","锦屏镇","景东彝族自治县","景谷傣族彝族自治县","澜沧拉祜族自治县","联珠镇","勐朗镇","勐烈镇","勐梭镇","孟连傣族拉祜族佤族自治县","墨江哈尼族自治县","娜允镇","宁洱镇","普洱哈尼族彝族自治县","威远镇","西盟佤族自治县","镇沅彝族哈尼族拉祜族自治县"]},{name:"文山州",districtAndCounty:["富宁县","广南县","江那镇","锦屏镇","开化镇","莲城镇","麻栗坡县","麻栗镇","马白镇","马关县","丘北县","文山县","西畴县","西洒镇","新华镇","砚山县"]},{name:"西双版纳州",districtAndCounty:["景洪市","勐海县","勐海镇","勐腊县","勐腊镇"]},{name:"玉溪市",districtAndCounty:["澄江县","大街镇","峨山彝族自治县","凤麓镇","桂山镇","红塔区","华宁县","江川县","澧江镇","龙泉镇","宁州镇","双江镇","通海县","新平彝族傣族自治县","秀山镇","易门县","元江哈尼族彝族傣族自治县"]},{name:"昭通市",districtAndCounty:["翠华镇","大关县","角奎镇","鲁甸县","巧家县","水富县","绥江县","威信县","文屏镇","乌峰镇","溪落渡镇","向家坝镇","新华镇","盐津县","盐井镇","彝良县","永善县","扎西镇","昭阳区","镇雄县","中城镇"]}]},{name:"浙江省",city:[{name:"杭州市",districtAndCounty:["滨江区","淳安县","富阳市","拱墅区","建德市","江干区","临安市","千岛湖镇","上城区","桐庐县","西湖区","下城区","萧山区","余杭区"]},{name:"湖州市",districtAndCounty:["安吉县","德清县","递铺镇","南浔区","吴兴区","武康镇","长兴县","雉城镇"]},{name:"嘉兴市",districtAndCounty:["海宁市","海盐县","嘉善县","南湖区","平湖市","桐乡市","魏塘镇","武原镇","秀洲区"]},{name:"金华市",districtAndCounty:["安文镇","东阳市","金东区","兰溪市","磐安县","浦江县","武义县","婺城区","义乌市","永康市"]},{name:"丽水市",districtAndCounty:["鹤城镇","鹤溪镇","缙云县","景宁畲族自治县","莲都区","龙泉市","妙高镇","青田县","庆元县","松阳县","松源镇","遂昌县","五云镇","西屏镇","云和县","云和镇"]},{name:"宁波市",districtAndCounty:["北仑区","慈溪市","奉化市","海曙区","江北区","江东区","宁海县","象山县","鄞州区","余姚市","镇海区"]},{name:"衢州市",districtAndCounty:["常山县","城关镇","江山市","开化县","柯城区","龙游县","衢江区","天马镇"]},{name:"绍兴市",districtAndCounty:["城关镇","上虞市","绍兴县","嵊州市","新昌县","越城区","诸暨市"]},{name:"台州市",districtAndCounty:["海游镇","黄岩区","椒江区","临海市","路桥区","三门县","天台县","温岭市","仙居县","玉环县","珠港镇"]},{name:"温州市",districtAndCounty:["北岙镇","苍南县","大峃镇","洞头县","昆阳镇","乐清市","灵溪镇","龙湾区","鹿城区","罗阳镇","瓯海区","平阳县","瑞安市","上塘镇","泰顺县","文成县","永嘉县"]},{name:"舟山市",districtAndCounty:["菜园镇","岱山县","定海区","高亭镇","普陀区","嵊泗县"]}]}];t.provinceList=s},bc19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("1bef"));function i(e){return e&&e.__esModule?e:{default:e}}var r={name:"UniSearchBar",components:{uniIcons:s.default},props:{placeholder:{type:String,default:"请输入搜索内容"},radius:{type:[Number,String],default:2},clearButton:{type:String,default:"auto"}},data:function(){return{show:!1,showSync:!1,searchVal:""}},watch:{searchVal:function(){this.$emit("input",{value:this.searchVal})}},methods:{searchClick:function(){var e=this;this.searchVal="",this.show=!0,this.$nextTick((function(){e.showSync=!0}))},clear:function(){this.searchVal=""},cancel:function(){this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord()},confirm:function(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})}}};t.default=r},bc37:function(e,t,n){"use strict";n.r(t);var s=n("f7cd"),i=n("0263");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},bce0:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","payment"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","peyment-list1"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","peyment-list1-item"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","peyment-list1-item-img"),attrs:{_i:3}},[n("text",{staticClass:e._$s(4,"sc","my-iconfont list1-image"),attrs:{_i:4}})]),n("view",{staticClass:e._$s(5,"sc","peyment-list1-item-title"),attrs:{_i:5}})]),n("view",{staticClass:e._$s(6,"sc","peyment-list1-item"),attrs:{_i:6}},[n("view",{staticClass:e._$s(7,"sc","peyment-list1-item-img"),attrs:{_i:7}},[n("text",{staticClass:e._$s(8,"sc","my-iconfont list1-image"),attrs:{_i:8}})]),n("view",{staticClass:e._$s(9,"sc","peyment-list1-item-title"),attrs:{_i:9}})])]),n("view",{staticClass:e._$s(10,"sc","peyment-list2"),attrs:{_i:10}},[n("view",{staticClass:e._$s(11,"sc","peyment-list2-item item1"),attrs:{_i:11}},[n("view",{staticClass:e._$s(12,"sc","peyment-list2-item-img"),attrs:{_i:12}},[n("text",{staticClass:e._$s(13,"sc","my-iconfont list2-image list2-image1"),attrs:{_i:13}})]),n("view",{staticClass:e._$s(14,"sc","peyment-list2-item-title"),attrs:{_i:14}})]),n("view",{staticClass:e._$s(15,"sc","peyment-list2-item item2"),attrs:{_i:15}},[n("view",{staticClass:e._$s(16,"sc","peyment-list2-item-img"),attrs:{_i:16}},[n("text",{staticClass:e._$s(17,"sc","my-iconfont list2-image list2-image2"),attrs:{_i:17}})]),n("view",{staticClass:e._$s(18,"sc","peyment-list2-item-title"),attrs:{_i:18}})]),n("view",{staticClass:e._$s(19,"sc","peyment-list2-item item3"),attrs:{_i:19}},[n("view",{staticClass:e._$s(20,"sc","peyment-list2-item-img"),attrs:{_i:20}},[n("text",{staticClass:e._$s(21,"sc","my-iconfont list2-image list2-image3"),attrs:{_i:21}})]),n("view",{staticClass:e._$s(22,"sc","peyment-list2-item-title"),attrs:{_i:22}})]),n("view",{staticClass:e._$s(23,"sc","peyment-list2-item item4"),attrs:{_i:23}},[n("view",{staticClass:e._$s(24,"sc","peyment-list2-item-img"),attrs:{_i:24}},[n("text",{staticClass:e._$s(25,"sc","my-iconfont list2-image list2-image4"),attrs:{_i:25}})]),n("view",{staticClass:e._$s(26,"sc","peyment-list2-item-title"),attrs:{_i:26}})])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},bd3f:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("b3e4"),i=n("2f62");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={methods:{submitName:function(t){e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeName.vue:19")}},data:function(){return{currentNickName:"",userAccount:""}},computed:o({},(0,i.mapState)(["userInfo"])),onNavigationBarButtonTap:function(t){var n=this;0===t.index&&(this.currentNickName?this.currentNickName!==this.userInfo.user.nickname?(0,s.modifyUserInfo)({userAccount:this.userAccount,modifyContent:this.currentNickName,modifyType:1}).then((function(e){200===e.status?2e3===e.data.code?(n.$set(n.userInfo.user,"nickname",n.currentNickName),uni.setStorageSync("userInfo",n.userInfo),uni.showToast({title:"成功保存",icon:"none"}),uni.navigateBack()):uni.showToast({title:"服务器睡着了",icon:"none"}):uni.showToast({title:"您可能与服务器断开连接了",icon:"none"})})).catch((function(t){uni.showToast({title:"您可能与服务器断开连接了",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\ChangeName.vue:70")})):uni.navigateBack():uni.showToast({title:"昵称不能为空",icon:"none"}))},created:function(){this.currentNickName=this.userInfo.user.nickname,this.userAccount=this.userInfo.user.userAccount}};t.default=c}).call(this,n("0de9")["default"])},bfa0:function(e,t,n){"use strict";var s=n("9f1f"),i=n("32aa"),r=n("b294"),o=n("39b7"),a=n("0bef");function c(e){var t=new r(e),n=i(r.prototype.request,t);return s.extend(n,r.prototype,t),s.extend(n,t),n}var u=c(a);u.Axios=r,u.create=function(e){return c(o(u.defaults,e))},u.Cancel=n("37dd"),u.CancelToken=n("6e26"),u.isCancel=n("b393"),u.all=function(e){return Promise.all(e)},u.spread=n("61c2"),e.exports=u,e.exports.default=u},c00f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.download=t.upload=t.xhr=void 0;var s=i(n("f4fa"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){var t,n;return t=new Promise((function(t,s){n=uni.request(o({},e,{success:t,fail:s}))})),t.__proto__.example=n,t};t.xhr=c;var u=function(e){var t,n;return t=new Promise((function(t,i){n=uni.uploadFile(o({},e,{success:function(e){e.data=s.default.toJSON(e.data),t(e)},fail:i})),d(e,n)})),t.__proto__.example=n,t};t.upload=u;var l=function(e){var t,n;return t=new Promise((function(t,s){n=uni.downloadFile(o({},e,{success:t,fail:s})),d(e,n)})),t.__proto__.example=n,t};function d(e,t){var n=["onProgressUpdate","onHeadersReceived","offProgressUpdate","offHeadersReceived"];n.forEach((function(n){var s=e[n];"function"===typeof s&&t[n](s)}))}t.download=l},c021:function(e,t,n){"use strict";n.r(t);var s=n("75f9"),i=n("8f15");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},c0a2:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","ChangeMoreInfo"),attrs:{_i:0}},[n("default-list",{staticClass:e._$s(1,"sc","Info-list"),attrs:{_i:1},nativeOn:{click:function(t){return e.toGenderInfo(t)}}},[n("view",{slot:"def-list-left"}),n("view",{slot:"def-list-center"},[e._v(e._$s(3,"t0-0",e._s(e.userInfo.user.userSex?"男":"女")))])]),n("default-list",{staticClass:e._$s(4,"sc","Info-list"),attrs:{_i:4},nativeOn:{click:function(t){return e.toChooseLocation(t)}}},[n("view",{slot:"def-list-left"}),e._$s(6,"i",e.userInfo.user.region)?n("view",{slot:"def-list-center"},[n("text",[e._v(e._$s(7,"t0-0",e._s(e.userInfo.user.region)))])]):e._e()]),n("default-list",{staticClass:e._$s(8,"sc","Info-list"),attrs:{_i:8},nativeOn:{click:function(t){return e.toSignature(t)}}},[n("view",{slot:"def-list-left"}),e._$s(10,"i",e.userInfo.user.signature)?n("view",{slot:"def-list-center"},[e._v(e._$s(10,"t0-0",e._s(e.userInfo.user.signature)))]):e._e()])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},c11b:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{typeList:["日期","图片及视频","文件","链接","音乐","交易"],webView:null,isSearch:!1}},mounted:function(){this.webView=this.$mp.page.$getAppWebview()},methods:{searchByType:function(e){this.setSearchStyle(this.typeList[e],!0),this.isSearch=!0},setSearchStyle:function(e,t){this.webView.setTitleNViewSearchInputText(e);var n=JSON.parse(JSON.stringify(this.webView.getStyle().titleNView.searchInput));n={disabled:t},this.webView.setStyle({titleNView:{searchInput:n}})}},onNavigationBarButtonTap:function(e){0===e.index&&(this.isSearch?(this.setSearchStyle("",!1),this.isSearch=!1):uni.navigateBack())},onBackPress:function(t){return"navigateBack"!==t.from&&("backbutton"===t.from&&(this.isSearch?(this.isSearch=!1,e("log","取消搜索模式"," at components\\content\\session\\content\\HistoryMsg.vue:146")):(e("log","不是搜索模式"," at components\\content\\session\\content\\HistoryMsg.vue:148"),uni.navigateBack())),!0)}};t.default=n}).call(this,n("0de9")["default"])},c29e:function(e,t,n){"use strict";n.r(t);var s=n("1767"),i=n("f7ef");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},c3d6:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},c4f1:function(e,t,n){"use strict";n.r(t);var s=n("ee0e"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},c526:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","signature"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","infoFm"),attrs:{_i:1}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSigna,expression:"currentSigna"}],staticClass:e._$s(2,"sc","infoFmInput"),attrs:{_i:2},domProps:{value:e._$s(2,"v-model",e.currentSigna)},on:{input:function(t){t.target.composing||(e.currentSigna=t.target.value)}}})])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},c688:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","change-label set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","label-content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","label-content-top"),attrs:{_i:2}},[e._$s(3,"i",e.friendLabelList.length>0)?e._l(e._$s(4,"f",{forItems:e.friendLabelList}),(function(t,s,i,r){return n("view",{key:e._$s(4,"f",{forIndex:i,key:s}),staticClass:e._$s("4-"+r,"sc","label-content-top-item"),class:e._$s("4-"+r,"c",{"label-content-top-item-hover":e.currentIndex===s}),attrs:{_i:"4-"+r},on:{click:function(t){return e.changeCurrentIndex(s)}}},[n("text",{staticClass:e._$s("5-"+r,"sc","add-label"),attrs:{_i:"5-"+r}},[e._v(e._$s("5-"+r,"t0-0",e._s(t))),e._$s("6-"+r,"i",e.currentIndex===s)?n("text",{staticClass:e._$s("6-"+r,"sc","my-iconfont add-label-icon"),attrs:{_i:"6-"+r}}):e._e()])])})):e._e(),n("view",{staticClass:e._$s(7,"sc","label-content-top-input"),attrs:{_i:7}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.labelValue,expression:"labelValue"}],attrs:{_i:8},domProps:{value:e._$s(8,"v-model",e.labelValue)},on:{blur:e.addLabelValue,input:function(t){t.target.composing||(e.labelValue=t.target.value)}}})])],2),n("view",{staticClass:e._$s(9,"sc","label-content-btm"),attrs:{_i:9}},[n("view",{staticClass:e._$s(10,"sc","label-content-btm-first"),attrs:{_i:10}}),n("view",{staticClass:e._$s(11,"sc","all-label"),attrs:{_i:11}},e._l(e._$s(12,"f",{forItems:e.allLabelList}),(function(t,s,i,r){return n("view",{key:e._$s(12,"f",{forIndex:i,key:s}),staticClass:e._$s("12-"+r,"sc","all-label-item"),class:e._$s("12-"+r,"c",{"all-label-item-active":e.isLabel(s)}),attrs:{_i:"12-"+r},on:{click:function(t){return e.handleAddLabel(s)}}},[e._v(e._$s("12-"+r,"t0-0",e._s(t)))])})),0)])]),n("button",{attrs:{_i:13},on:{click:e.handleFinish}})])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},c83a:function(e,t,n){(function(t){function n(e){t("log",e," at common\\toast.js:3"),200===e.status?2e3!==e.data.code&&uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"}):404===e.status?uni.showToast({title:"网络走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}function s(e){t("log",e," at common\\toast.js:17"),uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}e.exports={showRes:n,showErr:s}}).call(this,n("0de9")["default"])},c84a:function(e,t,n){"use strict";n.r(t);var s=n("8e82"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(s){"object"===typeof window&&(n=window)}e.exports=n},c8f6:function(e,t,n){"use strict";n.r(t);var s=n("5ba4"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ca1b:function(e,t,n){"use strict";var s=n("9f1f");e.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var s=e;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=s.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},cb92:function(e,t,n){"use strict";n.r(t);var s=n("32ae"),i=n("a80f");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"3827daf3",null,!1,s["a"],o);t["default"]=c.exports},cc07:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adapter=void 0;var s=n("9f1f"),i=c(n("5744")),r=c(n("20fa")),o=c(n("03e5")),a=c(n("18fe"));function c(e){return e&&e.__esModule?e:{default:e}}var u=new a.default,l=function(e){return new Promise((function(t,n){var a=((0,s.isString)(e.method)?e.method:"GET").toUpperCase(),c=(0,r.default)(e.url,e.params,e.paramsSerializer),l=(0,s.isObject)(e.headers)?e.headers:{},d=e.data,f=uni.request({method:a,url:c,header:l,data:"POST"===a||"PUT"===a||"PATCH"===a?d:"",responseType:"arraybuffer"===e.responseType?"arraybuffer":"text",dataType:"json"===e.responseType?"json":e.responseType,success:function(s){(0,o.default)(t,n,{data:s.data,status:s.statusCode,statusText:"",headers:s.header,config:e,request:f})},fail:function(){var t=(0,i.default)("网络错误",e,void 0,f);n(t)},complete:function(){u.clear()}});e.timeout&&u.set(e.timeout).then((function(){n(new Error("请求超时")),f.abort()}))}))};t.adapter=l},cc3b:function(e,t,n){"use strict";n.r(t);var s=n("76c6"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},cd4c:function(e,t,n){"use strict";var s=n("9f1f"),i=n("03e5"),r=n("20fa"),o=n("7d84"),a=n("ca1b"),c=n("5744");e.exports=function(e){return new Promise((function(t,u){var l=e.data,d=e.headers;s.isFormData(l)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",p=e.auth.password||"";d.Authorization="Basic "+btoa(m+":"+p)}if(f.open(e.method.toUpperCase(),r(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,s=e.responseType&&"text"!==e.responseType?f.response:f.responseText,r={data:s,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};i(t,u,r),f=null}},f.onabort=function(){f&&(u(c("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},s.isStandardBrowserEnv()){var h=n("91af"),g=(e.withCredentials||a(e.url))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&s.forEach(d,(function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),u(e),f=null)})),void 0===l&&(l=null),f.send(l)}))}},cd60:function(e,t,n){"use strict";n.r(t);var s=n("84c6"),i=n("ea82");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},cd95:function(e,t,n){"use strict";n.r(t);var s=n("8d83");for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);var r,o,a,c,u=n("f0c5"),l=Object(u["a"])(s["default"],r,o,!1,null,null,null,!1,a,c);t["default"]=l.exports},cffc:function(e,t,n){"use strict";var s=n("9f1f"),i=n("18b0"),r=n("b393"),o=n("0bef"),a=n("c3d6"),c=n("fae4");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){u(e),e.baseURL&&!a(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),s.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||o.adapter;return t(e).then((function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},d2dc:function(e,t,n){"use strict";n.r(t);var s=n("f79f"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},d3bf:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("0261")),i=n("b3e4"),r=n("2f62");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{DefaultList:s.default},data:function(){return{cityList:[],province:""}},computed:c({},(0,r.mapState)(["userInfo"])),methods:{toChooseLocation:function(t){var n=this,s={userAccount:this.userInfo.user.userAccount,modifyContent:this.province+t,modifyType:4};this.province&&t?(0,i.modifyUserInfo)(s).then((function(e){200===e.status&&2e3===e.data.code?(n.$set(n.userInfo.user,"region",s.modifyContent),uni.setStorageSync("userInfo",n.userInfo),uni.showToast({title:"成功保存",icon:"none"}),uni.navigateBack({delta:2})):uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})).catch((function(t){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\chooseLocation\\ChooseCity.vue:85")})):uni.showToast({title:"选择地区发生错误，请稍后再试",icon:"none"})}},onLoad:function(e){var t=JSON.parse(decodeURIComponent(e.cityList)),n=JSON.parse(decodeURIComponent(e.province));this.cityList=t,this.province=n}};t.default=l}).call(this,n("0de9")["default"])},d3eb:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","profilecon"),attrs:{_i:0}},[n("default-list",{attrs:{noBorderBtm:!0,marTop:!0,_i:1},nativeOn:{click:function(t){return e.toPayment(t)}}},[n("text",{staticClass:e._$s(2,"sc","iconfont-img my-iconfont font-img1"),attrs:{_i:2},slot:"def-list-left"}),n("text",{staticClass:e._$s(3,"sc","profile-title"),attrs:{_i:3},slot:"def-list-center"})]),n("default-list",{attrs:{noBorderBtm:!0,marTop:!0,_i:4},nativeOn:{click:function(t){return e.toCollection(t)}}},[n("text",{staticClass:e._$s(5,"sc","iconfont-img my-iconfont font-img2"),attrs:{_i:5},slot:"def-list-left"}),n("text",{staticClass:e._$s(6,"sc","profile-title"),attrs:{_i:6},slot:"def-list-center"})]),n("default-list",{attrs:{noBorderBtm:!0,marTop:!0,_i:7},nativeOn:{click:function(t){return e.toSetting(t)}}},[n("text",{staticClass:e._$s(8,"sc","iconfont-img my-iconfont font-img3"),attrs:{_i:8},slot:"def-list-left"}),n("text",{staticClass:e._$s(9,"sc","profile-title"),attrs:{_i:9},slot:"def-list-center"})])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},d427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchFriendRequest=i,t.ApplyAddFriendRequest=r,t.queryFriendRequestListRequest=o,t.argeeFriendRequest=a,t.queryFriendRequest=c,t.getFriendInfo=u;var s=n("4490");n("7e37");function i(e){return s.http.get("/query/searchFriend"+e)}function r(e){return(0,s.http)({headers:{"Content-Type":"application/json"},method:"post",url:"/user/addFriendRequest",data:e})}function o(e){return s.http.get("/query/queryFriendRequestList"+e)}function a(e){return s.http.post("/user/consentFriendRequest",e)}function c(e){return s.http.get("/query/queryFriendList"+e)}function u(e){return s.http.get("/query/queryFriendInfo"+e)}},d492:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","messagelist set-bgc"),attrs:{_i:0}},[n("default-list",{attrs:{noBorderBtm:!0,_i:1},nativeOn:{click:function(t){return e.toDynamic(t)}}},[n("text",{staticClass:e._$s(2,"sc","messagelist-img my-iconfont item-img1"),attrs:{_i:2},slot:"def-list-left"}),n("text",{staticClass:e._$s(3,"sc","messagelist-title"),attrs:{_i:3},slot:"def-list-center"})]),n("default-list",{attrs:{marTop:!0,_i:4}},[n("text",{staticClass:e._$s(5,"sc","messagelist-img my-iconfont item-img2"),attrs:{_i:5},slot:"def-list-left"}),n("text",{staticClass:e._$s(6,"sc","messagelist-title"),attrs:{_i:6},slot:"def-list-center"})]),n("default-list",{attrs:{noBorderBtm:!0,_i:7}},[n("text",{staticClass:e._$s(8,"sc","messagelist-img my-iconfont item-img3"),attrs:{_i:8},slot:"def-list-left"}),n("text",{staticClass:e._$s(9,"sc","messagelist-title"),attrs:{_i:9},slot:"def-list-center"})]),n("default-list",{attrs:{marTop:!0,_i:10}},[n("text",{staticClass:e._$s(11,"sc","messagelist-img my-iconfont item-img4"),attrs:{_i:11},slot:"def-list-left"}),n("text",{staticClass:e._$s(12,"sc","messagelist-title"),attrs:{_i:12},slot:"def-list-center"})]),n("default-list",{attrs:{noBorderBtm:!0,_i:13},nativeOn:{click:function(t){return e.toSetting(t)}}},[n("text",{staticClass:e._$s(14,"sc","messagelist-img my-iconfont item-img5"),attrs:{_i:14},slot:"def-list-left"}),n("text",{staticClass:e._$s(15,"sc","messagelist-title"),attrs:{_i:15},slot:"def-list-center"})])],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},d582:function(e,t,n){"use strict";n.r(t);var s=n("b457"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},d5e9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={contact:"",person:"",personadd:"","contact-filled":"","person-filled":"","personadd-filled":"",phone:"",email:"",chatbubble:"",chatboxes:"","phone-filled":"","email-filled":"","chatbubble-filled":"","chatboxes-filled":"",weibo:"",weixin:"",pengyouquan:"",chat:"",qq:"",videocam:"",camera:"",mic:"",location:"","mic-filled":"",speech:"","location-filled":"",micoff:"",image:"",map:"",compose:"",trash:"",upload:"",download:"",close:"",redo:"",undo:"",refresh:"",star:"",plus:"",minus:"",circle:"",checkbox:"","close-filled":"",clear:"","refresh-filled":"","star-filled":"","plus-filled":"","minus-filled":"","circle-filled":"","checkbox-filled":"",closeempty:"",refreshempty:"",reload:"",starhalf:"",spinner:"","spinner-cycle":"",search:"",plusempty:"",forward:"",back:"","left-nav":"",checkmarkempty:"",home:"",navigate:"",gear:"",paperplane:"",info:"",help:"",locked:"",more:"",flag:"","home-filled":"","gear-filled":"","info-filled":"","help-filled":"","more-filled":"",settings:"",list:"",bars:"",loop:"",paperclip:"",eye:"",arrowup:"",arrowdown:"",arrowleft:"",arrowright:"",arrowthinup:"",arrowthindown:"",arrowthinleft:"",arrowthinright:"",pulldown:"",closefill:"",sound:"",scan:""};t.default=s},d614:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","friendinfo"),attrs:{_i:0}},[e._$s(1,"i",e.isMe)?[n("view",{staticClass:e._$s(2,"sc","friendinfo-top"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","top-left"),attrs:{_i:3}},[n("image",{attrs:{src:e._$s(4,"a-src",e.imgUrl+e.userInfo.user.faceImage),_i:4}})]),n("view",{staticClass:e._$s(5,"sc","top-right"),attrs:{_i:5}},[e._$s(6,"i",e.userInfo.user.nickname)?n("view",{staticClass:e._$s(6,"sc","memo-name"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.userInfo.user.nickname)))]):e._e(),n("view",{staticClass:e._$s(7,"sc","user-number little-font"),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.userInfo.user.userAccount)))]),e._$s(8,"i",e.userInfo.user.region)?[n("view",{staticClass:e._$s(9,"sc","localtion little-font"),attrs:{_i:9}},[e._v(e._$s(9,"t0-0",e._s(e.userInfo.user.region)))])]:e._e()],2)]),n("view",{staticClass:e._$s(10,"sc","myborderlist"),attrs:{_i:10}},[n("default-list",{attrs:{_i:11},nativeOn:{click:function(t){return e.toMyDynamic("myself")}}},[n("view",{slot:"def-list-left"})])],1),n("view",{staticClass:e._$s(13,"sc","list3"),attrs:{_i:13}},[n("view",{staticClass:e._$s(14,"sc","send-msg"),attrs:{_i:14}})])]:[e._$s(16,"i",e.friendCard[e.friendAccount])?[n("view",{staticClass:e._$s(17,"sc","friendinfo-top"),attrs:{_i:17}},[n("view",{staticClass:e._$s(18,"sc","top-left"),attrs:{_i:18},on:{click:function(t){return e.previewFriendHeadImg()}}},[n("image",{attrs:{src:e._$s(19,"a-src",e.imgUrl+e.friendCard[e.friendAccount].friendFaceImage),_i:19}})]),n("view",{staticClass:e._$s(20,"sc","top-right"),attrs:{_i:20}},[e._$s(21,"i",e.friendCard[e.friendAccount].friendRemarkName)?[n("view",{staticClass:e._$s(22,"sc","memo-name"),attrs:{_i:22}},[e._v(e._$s(22,"t0-0",e._s(e.friendCard[e.friendAccount].friendRemarkName)))])]:e._e(),e._$s(23,"i",e.friendCard[e.friendAccount].friendNickname)?[n("view",{staticClass:e._$s(24,"sc","nickname little-font"),attrs:{_i:24}},[e._v(e._$s(24,"t0-0",e._s(e.friendCard[e.friendAccount].friendNickname)))])]:e._e(),n("view",{staticClass:e._$s(25,"sc","user-number little-font"),attrs:{_i:25}},[e._v(e._$s(25,"t0-0",e._s(e.friendCard[e.friendAccount].friendAccount)))]),e._$s(26,"i",e.friendCard[e.friendAccount].friendRegion)?[n("view",{staticClass:e._$s(27,"sc","localtion little-font"),attrs:{_i:27}},[e._v(e._$s(27,"t0-0",e._s(e.friendCard[e.friendAccount].friendRegion)))])]:e._e()],2)]),n("view",{staticClass:e._$s(28,"sc","myborderlist"),attrs:{_i:28}},[n("default-list",{staticClass:e._$s(29,"sc","myborderlist"),attrs:{_i:29},nativeOn:{click:function(t){return e.toChangeRemark(t)}}},[n("view",{slot:"def-list-left"}),e._e()]),n("default-list",{attrs:{noBorderBtm:!0,_i:32}},[n("view",{slot:"def-list-left"}),n("view",{staticClass:e._$s(34,"sc","def-list-center"),attrs:{_i:34},slot:"def-list-center"})])],1),n("view",{staticClass:e._$s(35,"sc","myborderlist"),attrs:{_i:35}},[n("default-list",{attrs:{_i:36},nativeOn:{click:function(t){return e.toMyDynamic("other")}}},[n("view",{slot:"def-list-left"})]),n("default-list",{attrs:{noBorderBtm:!0,_i:38}},[n("view",{slot:"def-list-left"})])],1),n("view",{staticClass:e._$s(40,"sc","list3"),attrs:{_i:40},on:{click:e.toSession}},[n("view",{staticClass:e._$s(41,"sc","img"),attrs:{_i:41}},[n("text",{staticClass:e._$s(42,"sc","my-iconfont send-msg-img"),attrs:{_i:42}})]),n("view",{staticClass:e._$s(43,"sc","send-msg"),attrs:{_i:43}})]),n("view",{staticClass:e._$s(44,"sc","list4"),attrs:{_i:44}},[n("view",{staticClass:e._$s(45,"sc","img"),attrs:{_i:45}},[n("text",{staticClass:e._$s(46,"sc","my-iconfont send-voice-img"),attrs:{_i:46}})]),n("view",{staticClass:e._$s(47,"sc","send-voice"),attrs:{_i:47}})])]:e._e()]],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},d68d:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.globalInterceptor=void 0;var s=i(n("10d7"));i(n("7e37"));function i(e){return e&&e.__esModule?e:{default:e}}var r={request:new s.default,response:new s.default};t.globalInterceptor=r;var o={baseURL:"http://192.168.1.138:9090",header:{contentType:"application/x-www-form-urlencoded"}};t.config=o,r.request.use((function(t){return e("log","is global request interceptor"," at js_sdk\\pocky-request\\config.js:36"),t}),(function(t){return e("error","is global fail request interceptor: ",t," at js_sdk\\pocky-request\\config.js:41"),!1})),r.response.use((function(e,t){return e}),(function(t,n){return e("error","is global response fail interceptor"," at js_sdk\\pocky-request\\config.js:63"),e("error","err: ",t," at js_sdk\\pocky-request\\config.js:64"),e("error","config: ",n," at js_sdk\\pocky-request\\config.js:65"),Promise.reject(t)}))}).call(this,n("0de9")["default"])},d70f:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","choose-city"),attrs:{_i:0}},[e._$s(1,"i",e.cityList.length>1)?[e._l(e._$s(2,"f",{forItems:e.cityList}),(function(t,s,i,r){return[n("default-list",{key:e._$s(2,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),attrs:{_i:"3-"+r},nativeOn:{click:function(n){return e.toChooseLocation(t.name)}}},[n("view",{slot:"def-list-left"},[e._v(e._$s("4-"+r,"t0-0",e._s(t.name)))])])]}))]:[e._l(e._$s(6,"f",{forItems:e.cityList[0].districtAndCounty}),(function(t,s,i,r){return[n("default-list",{key:e._$s(6,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),attrs:{_i:"7-"+r},nativeOn:{click:function(n){return e.toChooseLocation(t)}}},[n("view",{slot:"def-list-left"},[e._v(e._$s("8-"+r,"t0-0",e._s(t)))])])]}))]],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},d8a9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rawMsg_tablename=t.path=t.name=void 0;var s="kadin_sqlite";t.name=s;var i="_doc/kadin_sqlite.db";t.path=i;var r="rawMsgList";t.rawMsg_tablename=r},d8ae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doLogin=i,t.getAccountImTokenRequest=r;var s=n("4490");function i(e){return s.http.post("/login/phoneLogin",e)}function r(e){return s.http.get("/yunxin/getToken"+e)}},da03:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("2f62");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={data:function(){return{delMode:!1}},computed:r({},(0,s.mapState)(["userInfo","currentGroup","groupMemberList"]),{},(0,s.mapGetters)(["isGroupAdmin"])),methods:{changeMode:function(){3===this.isGroupAdmin?this.delMode?(this.delMode=!1,this.changeRightTopBtn("管理 ")):(this.delMode=!0,this.changeRightTopBtn("取消 ")):e("log","您没有权限删除群成员"," at components\\content\\session\\sessionSon\\GroupMembers.vue:44")},handleDelMember:function(t){e("log","删除成员账号:",t," at components\\content\\session\\sessionSon\\GroupMembers.vue:49")},toFriendInfo:function(t){e("log","toFriendInfo",t," at components\\content\\session\\sessionSon\\GroupMembers.vue:52"),uni.navigateTo({url:"/components/content/friend/FriendInfo?friendAccount=".concat(t)})},changeRightTopBtn:function(e){var t=this.$mp.page.$getAppWebview();t.setTitleNViewButtonStyle(0,{text:e})}},onLoad:function(){3===this.isGroupAdmin&&this.changeRightTopBtn("管理 ")},onNavigationBarButtonTap:function(e){0===e.index&&this.changeMode()}};t.default=a}).call(this,n("0de9")["default"])},da77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={props:{bounceStyle:{type:String,default:function(){return""}}}};t.default=s},db21:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","profilehead set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","status_bar"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","profilehead-list"),attrs:{_i:2}},[e._$s(3,"i",e.hasLogin)?void 0:e._e(),n("view",{staticClass:e._$s(4,"sc","profilehead-list-left"),attrs:{_i:4}},[e._$s(5,"i",e.userInfo.user.faceImage)?[n("image",{staticClass:e._$s(6,"sc","profilehead-img"),attrs:{src:e._$s(6,"a-src",e.imgUrl+e.userInfo.user.faceImage),_i:6}})]:[e._$s(8,"i",e.userInfo.user.userSex)?[n("image",{staticClass:e._$s(9,"sc","profilehead-img"),attrs:{_i:9}})]:e._$s(10,"e",!e.userInfo.user.userSex)?[n("image",{staticClass:e._$s(11,"sc","profilehead-img"),attrs:{_i:11}})]:e._e()]],2),n("view",{staticClass:e._$s(12,"sc","profilehead-list-info"),attrs:{_i:12}},[e._$s(13,"i",e.nickname)?[n("view",{staticClass:e._$s(14,"sc","profilehead-list-info-top"),attrs:{_i:14}},[e._v(e._$s(14,"t0-0",e._s(e.nickname)))])]:e._e(),n("view",{staticClass:e._$s(15,"sc","profilehead-list-info-btm"),attrs:{_i:15}},[e._$s(16,"i",e.userAccount)?[n("text",{staticClass:e._$s(17,"sc","profilehead-list-info-btm-first"),attrs:{_i:17}},[e._v(e._$s(17,"t0-0",e._s(e.userAccount)))])]:e._e(),n("text",{staticClass:e._$s(18,"sc","profilehead-list-info-btm-end"),attrs:{_i:18}})],2)],2)],2)])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},db25:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-list"),attrs:{_i:0}},[e._t("default",null,{_i:1})],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},dbdf:function(e,t,n){"use strict";n.r(t);var s=n("8188"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},dcfd:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","register2 set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","center-content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","login-content"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","login-head"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","login-form"),attrs:{_i:4}},[n("form",{attrs:{_i:5},on:{submit:e.registerClick}},[n("view",{staticClass:e._$s(6,"sc","my-input"),attrs:{_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"}],staticClass:e._$s(7,"sc","def-input"),attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.password1)},on:{input:[function(t){t.target.composing||(e.password1=t.target.value)},e.handlerPassword1]}}),n("view",{staticClass:e._$s(8,"sc","def-input-del"),attrs:{_i:8},on:{click:e.delPwd1Input}},[e._$s(9,"i",e.showPassword1Input)?n("text",{staticClass:e._$s(9,"sc","my-iconfont def-input-del-icon"),attrs:{_i:9}}):e._e()])]),n("view",{staticClass:e._$s(10,"sc","my-input"),attrs:{_i:10}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],staticClass:e._$s(11,"sc","def-input"),attrs:{_i:11},domProps:{value:e._$s(11,"v-model",e.password2)},on:{input:[function(t){t.target.composing||(e.password2=t.target.value)},e.handlerPassword2]}}),n("view",{staticClass:e._$s(12,"sc","def-input-del"),attrs:{_i:12},on:{click:e.delPwd2Input}},[e._$s(13,"i",e.showPassword2Input)?n("text",{staticClass:e._$s(13,"sc","my-iconfont def-input-del-icon"),attrs:{_i:13}}):e._e()])]),n("button",{staticClass:e._$s(14,"sc","def-button def-font-lg"),attrs:{_i:14}})])])])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,s=e.length-1;s>=0;s--){var i=e[s];"."===i?e.splice(s,1):".."===i?(e.splice(s,1),n++):n&&(e.splice(s,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function s(e){"string"!==typeof e&&(e+="");var t,n=0,s=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===s&&(i=!1,s=t+1);return-1===s?"":e.slice(n,s)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],s=0;s<e.length;s++)t(e[s],s,e)&&n.push(e[s]);return n}t.resolve=function(){for(var t="",s=!1,r=arguments.length-1;r>=-1&&!s;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,s="/"===o.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!s).join("/"),(s?"/":"")+t||"."},t.normalize=function(e){var s=t.isAbsolute(e),o="/"===r(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!s).join("/"),e||s||(e="."),e&&o&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function s(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=s(e.split("/")),r=s(n.split("/")),o=Math.min(i.length,r.length),a=o,c=0;c<o;c++)if(i[c]!==r[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(r.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,s=-1,i=!0,r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),47===t){if(!i){s=r;break}}else i=!1;return-1===s?n?"/":".":n&&1===s?"/":e.slice(0,s)},t.basename=function(e,t){var n=s(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,s=-1,i=!0,r=0,o=e.length-1;o>=0;--o){var a=e.charCodeAt(o);if(47!==a)-1===s&&(i=!1,s=o+1),46===a?-1===t?t=o:1!==r&&(r=1):-1!==t&&(r=-1);else if(!i){n=o+1;break}}return-1===t||-1===s||0===r||1===r&&t===s-1&&t===n+1?"":e.slice(t,s)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e078:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("b3e4"),i=n("2f62");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={methods:{},data:function(){return{currentSigna:""}},computed:o({},(0,i.mapState)(["userInfo"])),created:function(){e("log","this.userInfo.user.signature:",this.userInfo.user.signature," at components\\content\\personalinfo\\changeinfo\\moreCpns\\Signature.vue:25"),this.currentSigna=this.userInfo.user.signature},onNavigationBarButtonTap:function(t){var n=this;0===t.index&&(this.currentSigna?(0,s.modifyUserInfo)({userAccount:this.userInfo.user.userAccount,modifyContent:this.currentSigna,modifyType:2}).then((function(e){200===e.status?2e3===e.data.code?(n.$set(n.userInfo.user,"signature",n.currentSigna),uni.setStorageSync("userInfo",n.userInfo),uni.navigateBack()):uni.showToast({title:"服务器睡着了",icon:"none"}):uni.showToast({title:"您可能与服务器断开连接了",icon:"none"})})).catch((function(t){uni.showToast({title:"您可能与服务器断开连接了",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\moreCpns\\Signature.vue:61")})):uni.showToast({title:"内容不能为空",icon:"none"}))}};t.default=c}).call(this,n("0de9")["default"])},e0af:function(e,t,n){"use strict";n.r(t);var s=n("db21"),i=n("57f8");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},e0c3:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","collect-search"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","collect-search-content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","collect-search-btm"),attrs:{_i:2}},[e._$s(3,"i",e.searchList.length>0)?[e._l(e._$s(4,"f",{forItems:e.searchList}),(function(t,s,i,r){return[n("view",{key:e._$s(4,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),staticClass:e._$s("5-"+r,"sc","collect-search-list"),attrs:{"data-index":e._$s("5-"+r,"a-data-index",s),_i:"5-"+r},on:{longpress:e.handlerLongtap,click:function(n){return e.toChain(t.collectContent)}}},[e._$s("6-"+r,"i","图片"===t.collectType)?[n("view",{staticClass:e._$s("7-"+r,"sc","list-top"),attrs:{_i:"7-"+r}},[e._$s("8-"+r,"i",t.collectContent)?[n("view",{staticClass:e._$s("9-"+r,"sc","only-image"),attrs:{_i:"9-"+r}},[n("image",{staticClass:e._$s("10-"+r,"sc","only-image-icon"),attrs:{src:e._$s("10-"+r,"a-src",t.collectContent),_i:"10-"+r}})])]:e._e()],2)]:e._e(),e._$s("11-"+r,"i","链接"===t.collectType)?[n("view",{staticClass:e._$s("12-"+r,"sc","list-top"),attrs:{_i:"12-"+r}},[n("view",{staticClass:e._$s("13-"+r,"sc","link-image"),attrs:{_i:"13-"+r}},[n("text",{staticClass:e._$s("14-"+r,"sc","my-iconfont link-image-icon"),attrs:{_i:"14-"+r}})]),e._$s("15-"+r,"i",t.collectContent)?[n("view",{staticClass:e._$s("16-"+r,"sc","list-title"),attrs:{_i:"16-"+r}},[e._v(e._$s("16-"+r,"t0-0",e._s(t.collectContent)))])]:e._e()],2)]:e._e(),n("view",{staticClass:e._$s("17-"+r,"sc","list-btm"),attrs:{_i:"17-"+r}},[e._v(e._$s("17-"+r,"t0-0",e._s(e.userInfo.user.nickname))+e._$s("17-"+r,"t0-1",e._s(e._f("getFormatTime")(t.date)))+e._$s("17-"+r,"t0-2",e._s(t.collectType)))])],2)]}))]:e._e()],2)])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},e161:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","change-address1"),attrs:{_i:0}},[e._$s(1,"i",e.getNestList)?[e._l(e._$s(2,"f",{forItems:e.getNestList}),(function(t,s,i,r){return[n("view",{key:e._$s(2,"f",{forIndex:i,keyIndex:0,key:s+"_0"}),staticClass:e._$s("3-"+r,"sc","addr-list"),attrs:{_i:"3-"+r},on:{longpress:function(t){return e.isShowAction(s)},click:function(t){return e.toChangeAddress2(s)}}},[n("view",{staticClass:e._$s("4-"+r,"sc","addr-list-top"),attrs:{_i:"4-"+r}},[n("text",[e._v(e._$s("5-"+r,"t0-0",e._s(t.consignee)))]),n("text",{staticClass:e._$s("6-"+r,"sc","addr-list-top-text"),attrs:{_i:"6-"+r}},[e._v(e._$s("6-"+r,"t0-0",e._s(t.phone)))])]),n("view",{staticClass:e._$s("7-"+r,"sc","addr-list-bottom"),attrs:{_i:"7-"+r}},[n("text",[e._v(e._$s("8-"+r,"t0-0",e._s(t.region))+e._$s("8-"+r,"t0-1",e._s(t.detailedAddress)))])])])]}))]:e._e()],2)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},e2a1:function(e,t,n){"use strict";n.r(t);var s=n("9d1f"),i=n("d582");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},e321:function(e,t,n){"use strict";n.r(t);var s=n("4d57"),i=n("b5b8");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},e3b9:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("2535"),i=n("587d"),r={data:function(){return{userPhone:"",password1:"",password2:"",showPassword1Input:!1,showPassword2Input:!1}},methods:{registerClick:function(t){var n=this,r=t.detail.value;e("log",t.detail.value.password1," at components\\content\\changepwd\\changepwd2.vue:48"),e("log",t.detail.value.password2," at components\\content\\changepwd\\changepwd2.vue:49"),r.password1.length>0&&r.password2.length>0?r.password1===r.password2?(0,i.isPasswordAvailable)(r.password2)?(0,s.changepwdRequest)({phone:this.userPhone,newPassword:r.password2}).then((function(t){200===t.status&&2e3===t.data.code?(uni.showToast({title:"设置成功",icon:"none"}),uni.navigateTo({url:"/components/content/login/login?userPhone=".concat(n.userPhone)})):uni.showToast({title:"服务器出了点小失误",icon:"none"}),e("log",t," at components\\content\\changepwd\\changepwd2.vue:78")})).catch((function(e){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"})})):uni.showToast({title:"密码为8-16位",icon:"none"}):uni.showToast({title:"两次密码不一致",icon:"none"}):uni.showToast({title:"密码不能为空",icon:"none"})},handlerPassword1:function(e){e.detail.value.length>0?this.showPassword1Input=!0:this.showPassword1Input=!1},handlerPassword2:function(e){e.detail.value.length>0?this.showPassword2Input=!0:this.showPassword2Input=!1},delPwd1Input:function(){this.showPassword1Input=!1,this.password1=""},delPwd2Input:function(){this.showPassword2Input=!1,this.password2=""}},onLoad:function(t){e("log",t.userPhone," at components\\content\\changepwd\\changepwd2.vue:138"),this.userPhone=t.userPhone}};t.default=r}).call(this,n("0de9")["default"])},e40e:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("8ce3")),i=o(n("1018")),r=o(n("63ee"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var l=getApp(),d=function(){function t(e){a(this,t),l.globalData.nim=s.default.NIM.getInstance({debug:!1,appKey:i.default.appkey,token:e.token,account:e.account,syncSessionUnread:!0,promise:!0,transports:["websocket"],onconnect:this.onConnect,onwillreconnect:this.onWillReconnect,ondisconnect:this.onDisconnect,onerror:this.onError,privateConf:i.default.openPrivateConf?l.globalData.ENVIRONMENT_CONFIG.privateConf:"",onsyncdone:this.onSyncDone,onblacklist:this.onBlacklist,onsyncmarkinblacklist:this.onMarkInBlacklist,onmutelist:this.onMutelist,onsyncmarkinmutelist:this.onMarkInMutelist,onmyinfo:this.onMyInfo,onrobots:this.onRobots,onAddTeamMembers:this.onAddTeamMembers,onRemoveTeamMembers:this.onRemoveTeamMembers,onUpdateTeam:this.onUpdateTeam,onUpdateTeamManagers:this.onUpdateTeamManagers,onDismissTeam:this.onDismissTeam,onTransferTeam:this.onTransferTeam,onUpdateTeamMembersMute:this.onUpdateTeamMembersMute,shouldCountNotifyUnread:this.shouldCountNotifyUnread,onsessions:this.onSessions,onupdatesession:this.onUpdateSession,onroamingmsgs:this.onRoamingMsgs,onofflinemsgs:this.onOfflineMsgs,onmsg:this.onMsg,onofflinesysmsgs:this.onOfflineSysMsgs,onsysmsg:this.onSysMsg,onupdatesysmsg:this.onUpdateSysMsg,onsysmsgunread:this.onSysMsgUnread,onupdatesysmsgunread:this.onUpdateSysMsgUnread,onofflinecustomsysmsgs:this.onOfflineCustomSysMsgs,oncustomsysmsg:this.onCustomSysMsg,onbroadcastmsg:this.onBroadcastMsg,onbroadcastmsgs:this.onBroadcastMsgs,onpushevents:this.onPushEvents})}return u(t,[{key:"onConnect",value:function(t){e("log","连接成功:",t," at controller\\im.js:71")}},{key:"onWillReconnect",value:function(t){e("log","重新连接:",t," at controller\\im.js:75"),uni.showToast({title:"正在重新连接~",icon:"none"})}},{key:"onDisconnect",value:function(t){e("log","断开连接:",t," at controller\\im.js:80"),uni.showToast({title:"断开了连接",icon:"none"})}},{key:"onError",value:function(t){e("log","连接失败:",t," at controller\\im.js:85")}},{key:"onSyncDone",value:function(t){e("log","同步完成:",t," at controller\\im.js:89");try{r.default.dispatch({type:"imAction",mode:"onSyncDone"})}catch(n){e("log",n," at controller\\im.js:96")}}},{key:"onBlacklist",value:function(t){e("log","黑名单列表:",t," at controller\\im.js:101")}},{key:"onMarkInBlacklist",value:function(t){e("log","加入或移除黑名单:",t," at controller\\im.js:105")}},{key:"onMutelist",value:function(t){e("log","同步静音列表:",t," at controller\\im.js:109")}},{key:"onMarkInMutelist",value:function(t){e("log","加入/移除:",t," at controller\\im.js:113")}},{key:"onmyinfo",value:function(t){e("log","我的用户名片:",t," at controller\\im.js:117")}},{key:"onRobots",value:function(t){e("log","机器人列表:",t," at controller\\im.js:121")}},{key:"onAddTeamMembers",value:function(t){e("log","新成员入群:",t," at controller\\im.js:128");try{r.default.dispatch({type:"imAction",mode:"onAddTeamMembers",data:t})}catch(n){e("log",n," at controller\\im.js:136")}}},{key:"onRemoveTeamMembers",value:function(t){e("log","有人退群了:",t," at controller\\im.js:141");try{r.default.dispatch({type:"imAction",mode:"onRemoveTeamMembers",data:t})}catch(n){e("log",n," at controller\\im.js:149")}}},{key:"onUpdateTeam",value:function(t){e("log","群信息发生更新:",t," at controller\\im.js:154")}},{key:"onUpdateTeamManagers",value:function(t){e("log","群管理员更新(返回包含群信息和管理员信息):",t," at controller\\im.js:158")}},{key:"onDismissTeam",value:function(t){e("log","解散群:",t," at controller\\im.js:162")}},{key:"onTransferTeam",value:function(t){e("log","移交群:",t," at controller\\im.js:166")}},{key:"onUpdateTeamMembersMute",value:function(t){e("log","更新群成员禁言状态:",t," at controller\\im.js:170")}},{key:"shouldCountNotifyUnread",value:function(t){e("log","群消息通知是否加入未读数开关:",t?"开启":"关闭"," at controller\\im.js:173")}},{key:"onSessions",value:function(t){e("log","收到会话列表:",t," at controller\\im.js:178");try{r.default.dispatch({type:"imAction",mode:"getSessionsList",data:t})}catch(n){e("log",n," at controller\\im.js:186")}}},{key:"onUpdateSession",value:function(t){e("log","会话更新了:",t," at controller\\im.js:195"),r.default.dispatch({type:"imAction",mode:"onUpdateSession",data:t})}},{key:"onMsg",value:function(t){e("log","收到消息",t," at controller\\im.js:205");try{r.default.dispatch({type:"imAction",mode:"onMsg",data:t,nim:l.globalData.nim})}catch(n){e("log",n," at controller\\im.js:214")}}},{key:"onRoamingMsgs",value:function(t){e("log","收到漫游消息:",t," at controller\\im.js:218"),l.globalData.nim.deleteSessions({sessions:[{scene:"team",to:"2810259961"},{scene:"p2p",to:"1587348899053"},{scene:"p2p",to:"1576463907795"},{scene:"team",to:"2804760970"},{scene:"team",to:"2804760970"},{scene:"team",to:"2810854816"}],done:this.deleteSessionsDone})}},{key:"onOfflineMsgs",value:function(t){e("log","收到离线消息:",t," at controller\\im.js:247");try{r.default.dispatch({type:"imAction",mode:"onOfflineMsgs",data:t})}catch(n){e("log",n," at controller\\im.js:255")}}},{key:"pushMsg",value:function(e){}},{key:"onOfflineSysMsgs",value:function(t){e("log","收到离线消息的通知:",t," at controller\\im.js:261")}},{key:"onSysMsg",value:function(t){e("log","收到系统通知:",t," at controller\\im.js:265")}},{key:"onUpdateSysMsg",value:function(t){e("log","更新系统通知后的通知: 通过/拒绝",t," at controller\\im.js:269")}},{key:"onSysMsgUnread",value:function(t){e("log","收到系统通知未读数:",t," at controller\\im.js:273")}},{key:"onUpdateSysMsgUnread",value:function(t){e("log","更新系统通知未读数:",t," at controller\\im.js:277")}},{key:"onOfflineCustomSysMsgs",value:function(t){e("log","同步离线自定义系统通知:",t," at controller\\im.js:281")}},{key:"onCustomSysMsg",value:function(t){e("log","收到自定义系统通知:",t," at controller\\im.js:285")}},{key:"onBroadcastMsg",value:function(t){e("log","收到广播消息:",t," at controller\\im.js:289")}},{key:"onBroadcastMsgs",value:function(t){e("log","收到离线广播消息:",t," at controller\\im.js:293")}},{key:"onPushEvents",value:function(t){e("log","订阅事件:",t," at controller\\im.js:297")}},{key:"deleteSessionsDone",value:function(t,n){e("log",t," at controller\\im.js:300"),e("log",n," at controller\\im.js:301"),e("log","批量删除会话"+(t?"失败":"成功")," at controller\\im.js:302")}}]),t}();t.default=d}).call(this,n("0de9")["default"])},e63c:function(e,t,n){"use strict";n.r(t);var s=n("a488"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},e893:function(e,t,n){"use strict";n.r(t);var s=n("1a59"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},e90d:function(e,t,n){"use strict";n.r(t);var s=n("bce0"),i=n("2135");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},e920:function(e,t,n){"use strict";n.r(t);var s=n("af29"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ea56:function(e,t,n){"use strict";n.r(t);var s=n("b6c9"),i=n("3be0");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"33fe4604",null,!1,s["a"],o);t["default"]=c.exports},ea7b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(n("10d7")),i=l(n("15d9")),r=l(n("f4fa")),o=u(n("c00f")),a=n("d68d");function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=s?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return g(e)||h(e,t)||m(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],s=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done);s=!0)if(n.push(o.value),t&&n.length===t)break}catch(c){i=!0,r=c}finally{try{s||null==a["return"]||a["return"]()}finally{if(i)throw r}}return n}}function g(e){if(Array.isArray(e))return e}function v(){this.defaultConfig=a.config,this.interceptors={scoped:{request:new s.default,response:new s.default},global:a.globalInterceptor}}v.prototype.request=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof t&&(t=arguments[1]||{},t.url=arguments[0]),t.method||this.defaultConfig.method||(t.method="get");var n=t.method=t.method.toLowerCase(),s=(0,i.default)(this.defaultConfig,t),a=["upload","download"].includes(n)?n:"xhr",c=[],u=Promise.resolve(s);return this.interceptors.global.request.forEach((function(e){c.push({then:e.fulfilled},{catch:e.rejected})})),this.interceptors.scoped.request.forEach((function(e){c.push({then:e.fulfilled},{catch:e.rejected})})),c.push({then:o[a]}),this.interceptors.global.response.forEach((function(e){c.push({then:e.fulfilled},{catch:e.rejected})})),this.interceptors.scoped.response.forEach((function(e){c.push({then:e.fulfilled},{catch:e.rejected})})),c.forEach((function(n){var s=Object.entries(n),o=d(s,1),a=d(o[0],2),c=a[0],l=a[1];if("function"!==typeof l)return!0;u=u[c]((function(n){var s=(0,i.default)(e.defaultConfig,t),o=l(n,s);return!1===o?r.default.breakPromise():r.default.isType("Object",o)||r.default.isType("Promise",o)?o:void 0}))})),u},["get","post","put","delete","connect","head","options","trace","upload","download"].forEach((function(e){v.prototype[e]=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.default.deepCopy(n,{url:t,method:e});return this.request(s)}})),v.prototype.abort=function(e){try{e.example.abort()}catch(t){}};var y=v;t.default=y},ea82:function(e,t,n){"use strict";n.r(t);var s=n("8534"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},eac0:function(e,t,n){"use strict";(function(e){function n(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=s(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function s(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{friendLabelList:[],allLabelList:[],labelValue:"",currentIndex:-1,selectIndex:[]}},methods:{isLabel:function(e){if(-1!==this.selectIndex.findIndex((function(t){return e===t})))return!0},handleFinish:function(){uni.$emit("saveFriendInfoLabel",{friendLabelList:this.friendLabelList}),uni.navigateBack()},addLabelValue:function(){var e=this;if(""!==this.labelValue){var t=/(^\s+)|(\s+$)/g;if(this.labelValue.replace(t),void 0===this.friendLabelList.find((function(t){return t===e.labelValue}))){if(-1!==this.allLabelList.findIndex((function(t){return t===e.labelValue}))){var n=this.allLabelList.findIndex((function(t){return t===e.labelValue}));this.selectIndex.push(n)}this.friendLabelList.push(this.labelValue)}this.labelValue=""}},changeCurrentIndex:function(t){if(this.currentIndex===t){var n=this.friendLabelList[t],s=this.allLabelList.findIndex((function(e){return e===n})),i=this.selectIndex.findIndex((function(e){return e===s}));e("log","删除该标签:",this.friendLabelList[t]," at components\\content\\changefriendinfo\\ChangeLabel.vue:86"),this.currentIndex=-1,this.selectIndex.splice(i,1),this.friendLabelList.splice(t,1)}else this.currentIndex=t},handleAddLabel:function(e){var t=this.allLabelList[e];if(this.friendLabelList.length>0)if(-1===this.friendLabelList.findIndex((function(e){return e===t})))this.friendLabelList.push(t),this.selectIndex.push(e);else{var n=this.friendLabelList.findIndex((function(e){return e===t})),s=this.selectIndex.findIndex((function(t){return t===e}));this.friendLabelList.splice(n,1),this.selectIndex.splice(s,1)}else this.friendLabelList.push(t),this.selectIndex.push(e)}},onBackPress:function(e){var t=this;return"navigateBack"!==e.from&&("backbutton"===e.from&&uni.showModal({title:"提示",content:"是否保存此次编辑",success:function(e){e.confirm?t.handleFinish():e.cancel&&uni.navigateBack()}}),!0)},onNavigationBarButtonTap:function(e){0===e.index&&this.handleFinish()},onLoad:function(){var e=this,t=uni.getStorageSync("friendLabelList"),s=uni.getStorageSync("allLabelList");if(uni.removeStorageSync("friendLabelList"),uni.removeStorageSync("allLabelList"),s.length>0&&(this.allLabelList=s,t.length>0)){this.friendLabelList=t;var i,r=n(this.friendLabelList);try{var o=function(){var t=i.value,n=e.allLabelList.findIndex((function(e){return e===t}));e.selectIndex.push(n)};for(r.s();!(i=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}}};t.default=r}).call(this,n("0de9")["default"])},eb1f:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("text",{staticClass:e._$s(0,"sc","uni-icons"),style:e._$s(0,"s",{color:e.color,"font-size":e.size+"px"}),attrs:{_i:0},on:{click:e._onClick}},[e._v(e._$s(0,"t0-0",e._s(e.icons[e.type])))])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},eb2a:function(e,t,n){"use strict";n.r(t);var s=n("28ee"),i=n("aa97");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},ee0e:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("0261")),i=n("b3e4"),r=n("2f62");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{DefaultList:s.default},data:function(){return{hasMan:!0,genderChecked:[{value:"男",checked:!0},{value:"女",checked:!1}]}},created:function(){this.userInfo.user.userSex?this.changeCheckde(0):this.changeCheckde(1)},computed:c({},(0,r.mapState)(["userInfo"])),methods:{changeCheckde:function(t){for(var n=0;n<2;n++)this.genderChecked[n].checked=t===n;e("log",this.genderChecked," at components\\content\\personalinfo\\changeinfo\\moreCpns\\GenderInfo.vue:61")},modifyUserSex:function(){for(var t=this,n=function(n){t.genderChecked[n].checked&&(e("log",t.genderChecked[n].value," at components\\content\\personalinfo\\changeinfo\\moreCpns\\GenderInfo.vue:68"),(0,i.modifyUserInfo)({userAccount:t.userInfo.user.userAccount,modifyContent:t.genderChecked[n].value,modifyType:5}).then((function(e){200===e.status?2e3===e.data.code?(t.$set(t.userInfo.user,"userSex",0===n),uni.setStorageSync("userInfo",t.userInfo),uni.showToast({title:"成功保存",icon:"none"}),uni.navigateBack()):uni.showToast({title:"服务器睡着了",icon:"none"}):uni.showToast({title:"您可能与服务器断开连接了",icon:"none"})})).catch((function(t){uni.showToast({title:"您可能与服务器断开连接了",icon:"none"}),e("log",t," at components\\content\\personalinfo\\changeinfo\\moreCpns\\GenderInfo.vue:104")})))},s=0;s<2;s++)n(s)}},onNavigationBarButtonTap:function(e){0===e.index&&this.modifyUserSex()}};t.default=l}).call(this,n("0de9")["default"])},f0b4:function(e,t,n){"use strict";n.r(t);var s=n("d614"),i=n("501f");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},f0c5:function(e,t,n){"use strict";function s(e,t,n,s,i,r,o,a,c,u){var l,d="function"===typeof e?e.options:e;if(c){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var m in c)f.call(c,m)&&!f.call(d.components,m)&&(d.components[m]=c[m])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),s&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),o?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(d.functional){d._injectStyles=l;var p=d.render;d.render=function(e,t){return l.call(t),p(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:d}}n.d(t,"a",(function(){return s}))},f151:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("0261")),i=n("2f62"),r=(n("bb9c"),n("563c"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{DefaultList:s.default},data:function(){return{}},computed:c({},(0,i.mapState)(["userInfo","currentGroup","groupMemberList","groupMemberMap"]),{},(0,i.mapGetters)(["isGroupAdmin"])),methods:{modifyMsgRemind:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number,n={tid:this.currentGroup.tid,accid:this.userInfo.user.userAccount,ope:t};(0,r.modifyMsgRemindRequest)(n).then((function(t){e.$toast.showRes(t),t.data.code})).catch((function(t){e.$toast.showErr(t)}))},toDefModify:function(e,t){if(3===this.isGroupAdmin){var n={type:e,value:t};uni.navigateTo({url:"/components/content/defmodify/DefModify?modifyObj=".concat(n)})}},toGroupMembers:function(){uni.navigateTo({url:"/components/content/session/sessionSon/GroupMembers"})},toHistoryMsg:function(){uni.navigateTo({url:"/components/content/session/content/HistoryMsg"})},toAddGroupMember:function(e){uni.navigateTo({url:"/components/content/session/sessionSon/addGroupMember?type=".concat(e)})},handleAdmin:function(){var t=this;uni.showActionSheet({itemList:["添加群成员","移除群成员","添加群管理员","移除群管理员","解散该群"],success:function(n){switch(e("log",n," at components\\content\\session\\sessionSon\\GroupInfo.vue:209"),n.tapIndex){case 0:e("log","添加群成员"," at components\\content\\session\\sessionSon\\GroupInfo.vue:212"),t.toAddGroupMember("addGroupMember");break;case 1:e("log","移除群成员"," at components\\content\\session\\sessionSon\\GroupInfo.vue:217"),t.toAddGroupMember("removeGroupMember");break;case 2:e("log","添加群管理员"," at components\\content\\session\\sessionSon\\GroupInfo.vue:222"),t.toAddGroupMember("addGroupManager");break;case 3:e("log","移除群管理员"," at components\\content\\session\\sessionSon\\GroupInfo.vue:228"),t.toAddGroupMember("removeGroupManager");break;case 4:t.disbandGroup(11);case 5:e("log","取消"," at components\\content\\session\\sessionSon\\GroupInfo.vue:237");break}}})},handleRemind:function(){var t=this;uni.showActionSheet({itemList:["提醒所有消息","不提醒任何消息","取消"],success:function(n){if(e("log",n," at components\\content\\session\\sessionSon\\GroupInfo.vue:250"),n.tapIndex)switch(n.tapIndex){case 0:e("log","提醒所有消息"," at components\\content\\session\\sessionSon\\GroupInfo.vue:254"),t.modifyMsgRemind(2);break;case 1:e("log","不提醒任何消息"," at components\\content\\session\\sessionSon\\GroupInfo.vue:258"),t.modifyMsgRemind(1);break;case 2:e("log","取消"," at components\\content\\session\\sessionSon\\GroupInfo.vue:263");break}}})},quitGroup:function(e){var t=this;uni.showLoading({mask:!0}),(0,r.quitGroupRequest)(e).then((function(e){t.$toast.showRes(e),uni.hideLoading(),2e3===e.data.code&&uni.showToast({title:"已退出该群",icon:"none",success:function(e){setTimeout((function(){uni.navigateBack({delta:2})}),1500)}})})).catch((function(e){t.$toast.showErr(e),uni.hideLoading()}))},signOutGroup:function(){var e=this;uni.showModal({title:"提示",content:"确定退出该群?",success:function(t){if(t.confirm){var n={tid:e.currentGroup.tid,accid:e.userInfo.user.userAccount};e.quitGroup(n)}}})},disbandGroup:function(e){uni.showModal({title:"提示",content:"确定解散该群?",success:function(e){e.confirm&&(uni.showLoading({mask:!0,title:"正在解散群"}),setTimeout((function(){uni.hideLoading()}),2e3))}})}},mounted:function(){e("log","groupInfo加载数据:",this.currentGroup,this.groupMemberList," at components\\content\\session\\sessionSon\\GroupInfo.vue:329")}};t.default=l}).call(this,n("0de9")["default"])},f188:function(e,t,n){"use strict";n.r(t);var s=n("da03"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},f1a6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={name:"UniBadge",props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},text:{type:[String,Number],default:""},size:{type:String,default:"normal"}},data:function(){return{width:"display: inline-block;width: ".concat(15*String(this.text).length+25,"rpx")}},methods:{onClick:function(){this.$emit("click")}}};t.default=s},f1f6:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","register1 set-bgc"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","center-content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","login-content"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","login-head"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","login-form"),attrs:{_i:4}},[n("form",{attrs:{_i:5},on:{submit:e.registerClick}},[n("view",{staticClass:e._$s(6,"sc","my-input"),attrs:{_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userPhone,expression:"userPhone"}],staticClass:e._$s(7,"sc","def-input"),attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.userPhone)},on:{input:[function(t){t.target.composing||(e.userPhone=t.target.value)},e.handlerUserPhone],blur:e.userPhoneInputDefocus}}),n("view",{staticClass:e._$s(8,"sc","def-input-del"),attrs:{_i:8},on:{click:e.delInput}},[e._$s(9,"i",e.showPhoneInput)?n("text",{staticClass:e._$s(9,"sc","my-iconfont def-input-del-icon"),attrs:{_i:9}}):e._e()])]),n("view",{staticClass:e._$s(10,"sc","input-and-code"),attrs:{_i:10}},[n("input",{staticClass:e._$s(11,"sc","left-input def-font-lg"),attrs:{_i:11}}),n("button",{staticClass:e._$s(12,"sc","right-btn def-font-lg"),attrs:{disabled:e._$s(12,"a-disabled",e.sendCodeBtn),_i:12},on:{click:e.cliSendCode}},[e._v(e._$s(12,"t0-0",e._s(e.sendCodeBtnVal)))])]),n("button",{staticClass:e._$s(13,"sc","def-button def-font-lg"),attrs:{_i:13}})])])])])])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},f24f:function(e,t,n){"use strict";var s={"uni-icons":n("1bef").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-searchbar"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","uni-searchbar__box"),style:e._$s(1,"s",{borderRadius:e.radius+"rpx"}),attrs:{_i:1},on:{click:e.searchClick}},[n("uni-icons",{staticClass:e._$s(2,"sc","uni-searchbar__box-icon-search"),attrs:{color:"#999999",size:"18",type:"search",_i:2}}),e._$s(3,"i",e.show)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],staticClass:e._$s(3,"sc","uni-searchbar__box-search-input"),attrs:{focus:e._$s(3,"a-focus",e.showSync),placeholder:e._$s(3,"a-placeholder",e.placeholder),_i:3},domProps:{value:e._$s(3,"v-model",e.searchVal)},on:{confirm:e.confirm,input:function(t){t.target.composing||(e.searchVal=t.target.value)}}}):n("text",{staticClass:e._$s(4,"sc","uni-searchbar__text-placeholder"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.placeholder)))]),e._$s(5,"i",e.show&&("always"===e.clearButton||"auto"===e.clearButton&&""!==e.searchVal))?n("view",{staticClass:e._$s(5,"sc","uni-searchbar__box-icon-clear"),attrs:{_i:5}},[n("uni-icons",{attrs:{color:"#999999",size:"24",type:"clear",_i:6}})],1):e._e()],1),e._$s(7,"i",e.show)?n("text",{staticClass:e._$s(7,"sc","uni-searchbar__cancel"),attrs:{_i:7},on:{click:e.cancel}}):e._e()])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},f377:function(e,t,n){"use strict";n.r(t);var s=n("3ebb"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},f3fb:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.initiLocalDB=a,t.getRawMsg=c,t.insertOneRawMsg=u,t.formatRawMsg=l;var s=n("9c00"),i=n("d8a9"),r=o(n("63ee"));function o(e){return e&&e.__esModule?e:{default:e}}function a(t){(0,s.openDB)().then((function(n){var r=i.rawMsg_tablename+"_"+t;(0,s.deleteData)("drop table ".concat(r)).then((function(t){e("log","删除数据表成功:",t," at common\\imHelper.js:27")})).catch((function(t){e("log","删除数据表失败:",t," at common\\imHelper.js:29")}));var o="CREATE TABLE ".concat(r," (\n\t\t\tid INTEGER PRIMARY KEY AUTOINCREMENT, \n\t\t\ttime CHAR,\n\t\t\tuserUpdateTime CHAR, \n\t\t\tsessionId CHAR, \n\t\t\tflow CHAR, \n\t\t\tscene CHAR, \n\t\t\t'from' CHAR, \n\t\t\t'to' CHAR, \n\t\t\ttarget CHAR, \n\t\t\ttype CHAR, \n\t\t\ttext TEXT, \n\t\t\tstatus CHAR, \n\t\t\tfromClientType CHAR, \n\t\t\tfromNick CHAR, \n\t\t\tidClient VARCHAR, \n\t\t\tidServer CHAR, \n\t\t\tcustom CHAR, \n\t\t\tcc INTEGER, \n\t\t\tisHistoryable INTEGER, \n\t\t\tisLocal INTEGER, \n\t\t\tisOfflinable INTEGER, \n\t\t\tisPushable INTEGER, \n\t\t\tisReplyMsg INTEGER, \n\t\t\tisRoamingable INTEGER, \n\t\t\tisSyncable INTEGER, \n\t\t\tisUnreadable INTEGER, \n\t\t\tneedMsgReceipt INTEGER, \n\t\t\tneedPushNick INTEGER\n\t\t)");(0,s.createTable)(r,o).then((function(e){})).catch((function(t){e("log",t," at common\\imHelper.js:64")}))})).catch((function(e){}))}function c(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=i.rawMsg_tablename+"_"+t,u="select * from ".concat(c," where sessionId='").concat(n,"' order by time desc limit ").concat(o);(0,s.selectData)(c,u).then((function(t){if(a)try{r.default.commit({type:"appendRawMessageList",data:l(t),sessionId:n})}catch(s){e("log",s," at common\\imHelper.js:85")}})).catch((function(e){}))}function u(t,n){var r=i.rawMsg_tablename+"_"+t,o="";n&&n.length>0?(e("log","这是数组"," at common\\imHelper.js:98"),(0,s.transactionDB)("begin").then((function(t){try{n.map((function(e){o="insert into ".concat(r," values (\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t").concat(e.time,",\n\t\t\t\t\t\t").concat(e.userUpdateTime,",\n\t\t\t\t\t\t'").concat(e.sessionId,"',\n\t\t\t\t\t\t'").concat(e.flow,"',\n\t\t\t\t\t\t'").concat(e.scene,"',\n\t\t\t\t\t\t'").concat(e.from,"',\n\t\t\t\t\t\t'").concat(e.to,"',\n\t\t\t\t\t\t'").concat(e.target,"',\n\t\t\t\t\t\t'").concat(e.type,"',\n\t\t\t\t\t\t'").concat(e.text,"',\n\t\t\t\t\t\t'").concat(e.status,"',\n\t\t\t\t\t\t'").concat(e.fromClientType,"',\n\t\t\t\t\t\t'").concat(e.fromNick,"',\n\t\t\t\t\t\t'").concat(e.idClient,"',\n\t\t\t\t\t\t'").concat(e.idServer,"',\n\t\t\t\t\t\t'").concat(e.custom,"',\n\t\t\t\t\t\t").concat(e.cc?1:0,",\n\t\t\t\t\t\t").concat(e.isHistoryable?1:0,",\n\t\t\t\t\t\t").concat(e.isLocal?1:0,",\n\t\t\t\t\t\t").concat(e.isOfflinable?1:0,",\n\t\t\t\t\t\t").concat(e.isPushable?1:0,",\n\t\t\t\t\t\t").concat(e.isReplyMsg?1:0,",\n\t\t\t\t\t\t").concat(e.isRoamingable?1:0,",\n\t\t\t\t\t\t").concat(e.isSyncable?1:0,",\n\t\t\t\t\t\t").concat(e.isUnreadable?1:0,",\n\t\t\t\t\t\t").concat(e.needMsgReceipt?1:0,",\n\t\t\t\t\t\t").concat(e.needPushNick?1:0,"\n\t\t\t\t\t)"),(0,s.insertData)(r,o).then((function(e){})).catch((function(e){}))})),(0,s.transactionDB)("commit").then((function(t){e("log","数据批量插入完毕,关闭事务"," at common\\imHelper.js:137")}))}catch(i){e("log","插入数据失败,执行回滚:",i," at common\\imHelper.js:140"),(0,s.transactionDB)("rollback").then((function(t){e("log","数据回滚成功"," at common\\imHelper.js:142")}))}}))):(e("log","这是字符串"," at common\\imHelper.js:149"),o="insert into ".concat(r," values (\n\t\t\tnull,\n\t\t\t").concat(n.time,",\n\t\t\t").concat(n.userUpdateTime,",\n\t\t\t'").concat(n.sessionId,"',\n\t\t\t'").concat(n.flow,"',\n\t\t\t'").concat(n.scene,"',\n\t\t\t'").concat(n.from,"',\n\t\t\t'").concat(n.to,"',\n\t\t\t'").concat(n.target,"',\n\t\t\t'").concat(n.type,"',\n\t\t\t'").concat(n.text,"',\n\t\t\t'").concat(n.status,"',\n\t\t\t'").concat(n.fromClientType,"',\n\t\t\t'").concat(n.fromNick,"',\n\t\t\t'").concat(n.idClient,"',\n\t\t\t'").concat(n.idServer,"',\n\t\t\t'").concat(n.custom,"',\n\t\t\t").concat(n.cc?1:0,",\n\t\t\t").concat(n.isHistoryable?1:0,",\n\t\t\t").concat(n.isLocal?1:0,",\n\t\t\t").concat(n.isOfflinable?1:0,",\n\t\t\t").concat(n.isPushable?1:0,",\n\t\t\t").concat(n.isReplyMsg?1:0,",\n\t\t\t").concat(n.isRoamingable?1:0,",\n\t\t\t").concat(n.isSyncable?1:0,",\n\t\t\t").concat(n.isUnreadable?1:0,",\n\t\t\t").concat(n.needMsgReceipt?1:0,",\n\t\t\t").concat(n.needPushNick?1:0,"\n\t\t)"),(0,s.insertData)(r,o).then((function(e){})).catch((function(e){}))),e("log","insert_sql_arr:",o," at common\\imHelper.js:184")}function l(e){for(var t={},n=e.length-1;n>0;n--)t[e[n].time]=e[n];return t}}).call(this,n("0de9")["default"])},f46f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("d5e9"));function i(e){return e&&e.__esModule?e:{default:e}}var r={name:"UniIcons",props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16}},data:function(){return{icons:s.default}},methods:{_onClick:function(){this.$emit("click")}}};t.default=r},f4fa:function(e,t,n){"use strict";function s(e,t){return c(e)||a(e,t)||r(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function a(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],s=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done);s=!0)if(n.push(o.value),t&&n.length===t)break}catch(c){i=!0,r=c}finally{try{s||null==a["return"]||a["return"]()}finally{if(i)throw r}}return n}}function c(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u={isType:function(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")},deepCopy:function(){for(var e={},t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return n.forEach((function(t){for(var n in t)e=l(n,t[n],e,u.deepCopy)})),e}},l=function(e,t,n,s){var i=u.isType("Object",n[e]),r=u.isType("Object",t);return n[e]=i&&r?s(n[e],t):r?s({},t):t,n};u.extend=function(e,t,n){for(var s in t){var i=t[s];n&&u.isType("Function",i)?e[s]=i.bind(n):e[s]=i}return e},u.getFullURL=function(e,t){return e&&!f(t)?d(e,t):t};var d=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},f=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)};u.paramsToURL=function(e){var t=e.url,n=e.method,i=e.data,r=e.params,o=r,a=t+(~t.indexOf("?")?"&":"?");"get"===n.toLowerCase()&&(o=i||r);for(var c=0,u=Object.entries(o||{});c<u.length;c++){var l=s(u[c],2),d=l[0],f=l[1];a+="".concat(d,"=").concat(f,"&")}return a.substring(0,a.length-1)},u.adapterContentType=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,i=["content-type","Content-type","Content-Type","contentType","ContentType"],r=u.deepCopy(s),o=0,a=Object.keys(t);o<a.length;o++){var c=a[o];if(i.includes(c)){e=t[c],delete r[c];break}}for(var l=0,d=Object.keys(n);l<d.length;l++){var f=d[l];if(i.includes(f)){e=n[f],delete r[f];break}}return e&&(r["content-type"]=e),r},u.breakPromise=function(){return new Promise((function(){}))},u.toJSON=function(e){try{return JSON.parse(e)}catch(t){return e}};var m=u;t.default=m},f50c:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("0261"));function i(e){return e&&e.__esModule?e:{default:e}}var r={components:{DefaultList:s.default},data:function(){return{chatAdmin:!0,modifyObj:{}}},onNavigationBarButtonTap:function(e){0===e.index&&uni.navigateBack()},created:function(){},onLoad:function(t){if(e("log",t.modifyObj," at components\\content\\defmodify\\DefModify.vue:72"),t.modifyObj)switch(t.modifyObj.type){case"myGroupCard":this.modifyObj=t.modifyObj;break;default:break}if(uni.setNavigationBarTitle({title:"群公告"}),!this.chatAdmin){var n=this.$mp.page.$getAppWebview();n.setTitleNViewButtonStyle(0,{width:"0px"})}}};t.default=r}).call(this,n("0de9")["default"])},f558:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={components:{}};t.default=s},f5b5:function(e,t,n){"use strict";var s={"uni-search-bar":n("1226").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","addfriend"),attrs:{_i:0}},[n("uni-search-bar",{attrs:{radius:100,_i:1},on:{input:e.changeSearchFriendInput,confirm:e.SearchFriendInput,cancel:e.cancelSearchFriend}}),n("view",{staticClass:e._$s(2,"sc","addfri-number"),attrs:{_i:2}},[e._v(e._$s(2,"t0-0",e._s(e.userInfo.user.userAccount)))]),n("view",{staticClass:e._$s(3,"sc","addfriend-first-item"),attrs:{_i:3}},[e._$s(4,"i",e.isShowBtmList)?[n("head-img-item",{attrs:{_i:5}},[n("text",{staticClass:e._$s(6,"sc","addfriend-left-img"),attrs:{_i:6},slot:"start-img"}),n("text",{slot:"title"}),n("text",{slot:"msg"}),n("text",{staticClass:e._$s(9,"sc","addfriend-right-img"),attrs:{_i:9},slot:"right"})]),n("head-img-item",{attrs:{_i:10}},[n("text",{staticClass:e._$s(11,"sc","addfriend-left-img"),attrs:{_i:11},slot:"start-img"}),n("text",{slot:"title"}),n("text",{slot:"msg"}),n("text",{staticClass:e._$s(14,"sc","addfriend-right-img"),attrs:{_i:14},slot:"right"})]),n("head-img-item",{attrs:{_i:15}},[n("text",{staticClass:e._$s(16,"sc","addfriend-left-img"),attrs:{_i:16},slot:"start-img"}),n("text",{slot:"title"}),n("text",{slot:"msg"}),n("text",{staticClass:e._$s(19,"sc","addfriend-right-img"),attrs:{_i:19},slot:"right"})]),n("head-img-item",{attrs:{noBorderBtm:!0,_i:20}},[n("text",{staticClass:e._$s(21,"sc","addfriend-left-img"),attrs:{_i:21},slot:"start-img"}),n("text",{slot:"title"}),n("text",{slot:"msg"}),n("text",{staticClass:e._$s(24,"sc","addfriend-right-img"),attrs:{_i:24},slot:"right"})])]:e._e(),e._$s(25,"i",!e.isShowBtmList)?[n("head-img-item",{staticClass:e._$s(26,"sc","addfriend-userinfo"),attrs:{noBorderBtm:!0,_i:26},nativeOn:{click:function(t){return e.toFriendInfo(t)}}},[e._$s(27,"i",e.addfriendInfo.image.length>0)?[n("image",{staticClass:e._$s(28,"sc","addfriend-left-img"),attrs:{src:e._$s(28,"a-src",e.imgUrl+e.addfriendInfo.image),_i:28},slot:"start-img"})]:[n("text",{staticClass:e._$s(30,"sc","addfriend-left-img"),attrs:{_i:30},slot:"start-img"})],e._$s(31,"i",e.addfriendInfo.nickname)?[n("text",{slot:"title"},[e._v(e._$s(32,"t0-0",e._s(e.addfriendInfo.nickname)))])]:e._e(),e._$s(33,"i",e.addfriendInfo.signature)?[n("text",{slot:"msg"},[e._v(e._$s(34,"t0-0",e._s(e.addfriendInfo.signature)))])]:e._e(),n("text",{staticClass:e._$s(35,"sc","addfriend-right-img"),attrs:{_i:35},slot:"right"})],2)]:e._e()],2)],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},f5ea:function(e,t,n){"use strict";n.r(t);var s=n("8ada"),i=n("5803");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},f6fe:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.changeInfo)?n("view",{staticClass:e._$s(0,"sc","change-remark"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","change-remark-list"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","change-remark-item"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","change-remark-item-title"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","input-item"),attrs:{_i:4}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.changeInfo.remarkName,expression:"changeInfo.remarkName"}],staticClass:e._$s(5,"sc","remark-name-input"),attrs:{_i:5},domProps:{value:e._$s(5,"v-model",e.changeInfo.remarkName)},on:{focus:e.focusInput1,blur:e.blurInput1,input:function(t){t.target.composing||e.$set(e.changeInfo,"remarkName",t.target.value)}}}),e._$s(6,"i",e.isShowInput1)?n("view",{staticClass:e._$s(6,"sc","my-iconfont input-del-icon"),attrs:{_i:6},on:{click:function(t){return t.stopPropagation(),e.delRemarkVal(t)}}}):e._e()])]),n("view",{staticClass:e._$s(7,"sc","change-remark-item"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","change-remark-item-title"),attrs:{_i:8}}),n("view",{staticClass:e._$s(9,"sc","input-item input-item-label"),attrs:{_i:9},on:{click:e.toChangeLabel}},[e._$s(10,"i",e.changeInfo.friendLabelList.length>0)?n("view",{staticClass:e._$s(10,"sc","select-label-item"),attrs:{_i:10}},e._l(e._$s(11,"f",{forItems:e.changeInfo.friendLabelList}),(function(t,s,i,r){return n("view",{key:e._$s(11,"f",{forIndex:i,key:s}),staticClass:e._$s("11-"+r,"sc","select-label"),attrs:{_i:"11-"+r}},[e._v(e._$s("11-"+r,"t0-0",e._s(t)))])})),0):n("input",{staticClass:e._$s(12,"sc","label-input"),attrs:{_i:12}})])]),n("view",{staticClass:e._$s(13,"sc","change-remark-item phone-input-item"),attrs:{_i:13}},[n("view",{staticClass:e._$s(14,"sc","change-remark-item-title phone-input-item-title"),attrs:{_i:14}}),e._l(e._$s(15,"f",{forItems:e.changeInfo.friendPhoneList}),(function(t,s,i,r){return n("view",{key:e._$s(15,"f",{forIndex:i,key:s}),staticClass:e._$s("15-"+r,"sc","input-item"),attrs:{_i:"15-"+r}},[e._$s("16-"+r,"i",s<5)?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.changeInfo.friendPhoneList[s],expression:"changeInfo.friendPhoneList[index]"}],staticClass:e._$s("17-"+r,"sc","phone-input phone-input-border"),attrs:{"data-index":e._$s("17-"+r,"a-data-index",s),_i:"17-"+r},domProps:{value:e._$s("17-"+r,"v-model",e.changeInfo.friendPhoneList[s])},on:{input:[function(t){t.target.composing||e.$set(e.changeInfo.friendPhoneList,s,t.target.value)},e.addingPhone]}}),e._$s("18-"+r,"i",t)?n("view",{staticClass:e._$s("18-"+r,"sc","my-iconfont input-del-icon"),attrs:{_i:"18-"+r},on:{click:function(t){return t.stopPropagation(),e.delPhoneList(s)}}}):e._e()]:e._e()],2)}))],2),n("view",{staticClass:e._$s(19,"sc","change-remark-item"),attrs:{_i:19}},[n("view",{staticClass:e._$s(20,"sc","change-remark-item-title"),attrs:{_i:20}}),n("view",{staticClass:e._$s(21,"sc","input-item"),attrs:{_i:21}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.changeInfo.friendDescribe,expression:"changeInfo.friendDescribe"}],staticClass:e._$s(22,"sc","describe-input"),attrs:{_i:22},domProps:{value:e._$s(22,"v-model",e.changeInfo.friendDescribe)},on:{focus:e.focusInput3,blur:e.blurInput3,input:function(t){t.target.composing||e.$set(e.changeInfo,"friendDescribe",t.target.value)}}}),e._$s(23,"i",e.isShowInput3)?n("view",{staticClass:e._$s(23,"sc","my-iconfont input-del-icon"),attrs:{_i:23},on:{click:function(t){return t.stopPropagation(),e.delDescribeVal(t)}}}):e._e()])])]),n("button",{attrs:{_i:24},on:{click:e.updateFriendInfo}})]):e._e()},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},f79f:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("e0af")),i=a(n("3b48")),r=a(n("7506")),o=(n("a888"),n("2f62"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{ProfileHead:s.default,ProfileCon:i.default,ProfileBtm:r.default},data:function(){return{list:"123",cid:""}},computed:u({},(0,o.mapState)(["userInfo"])),methods:{getCid:function(){this.cid=plus.push.getClientInfo().clientid},toPersonalInfo:function(){uni.navigateTo({url:"/components/content/personalinfo/PersonalInfo"})}},created:function(){e("log","created"," at pages\\profile\\profile.vue:54")}};t.default=d}).call(this,n("0de9")["default"])},f7cd:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","applyfriend"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","applyfriend-head"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","applyfriend-top"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","def-font2"),attrs:{_i:3}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.requestMsg,expression:"requestMsg"}],staticClass:e._$s(4,"sc","long-input"),attrs:{_i:4},domProps:{value:e._$s(4,"v-model",e.requestMsg)},on:{confirm:e.applyReason,input:function(t){t.target.composing||(e.requestMsg=t.target.value)}}})]),n("view",{staticClass:e._$s(5,"sc","applyfriend-middle"),attrs:{_i:5}},[n("view",{staticClass:e._$s(6,"sc","def-font2"),attrs:{_i:6}}),n("input",{})]),n("view",{staticClass:e._$s(8,"sc","applyfriend-bottom"),attrs:{_i:8}},[n("view",{staticClass:e._$s(9,"sc","def-font2"),attrs:{_i:9}}),n("view",{staticClass:e._$s(10,"sc","bottom-item1"),attrs:{_i:10}},[n("view",{staticClass:e._$s(11,"sc","left"),attrs:{_i:11}}),n("switch",{staticClass:e._$s(12,"sc","right"),attrs:{_i:12}})]),n("view",{staticClass:e._$s(13,"sc","bottom-item2"),attrs:{_i:13}},[n("view",{staticClass:e._$s(14,"sc","left"),attrs:{_i:14}}),n("switch",{staticClass:e._$s(15,"sc","right"),attrs:{_i:15}})])]),n("button",{attrs:{_i:16},on:{click:e.finishedApply}})])},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))},f7ef:function(e,t,n){"use strict";n.r(t);var s=n("6e77"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},f891:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("cd60")),i=a(n("0261")),r=n("d427"),o=n("7429");function a(e){return e&&e.__esModule?e:{default:e}}var c={components:{HeadImgItem:s.default,DefaultList:i.default},data:function(){return{consentFriendList:null,isShowAgree:!0,userAccount:"",currentIndex:"",imgUrl:""}},methods:{queryListRequest:function(){var t=this;(0,r.queryFriendRequestListRequest)("?myAccount=".concat(this.userAccount)).then((function(n){e("log",n," at components\\content\\consentfriend\\ConsentFriend.vue:82"),200===n.status?2e3===n.data.code&&n.data.data&&n.data.data.length>0&&(t.consentFriendList=n.data.data):404===n.status?uni.showToast({title:"网络走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})})).catch((function(e){uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}))},doAgree:function(t){var n=this,s=this.consentFriendList[t].userAccount,i={senderAccount:s,acceptAccount:this.userAccount,integer:1};(0,r.argeeFriendRequest)(i).then((function(e){200===e.status?2e3===e.data.code?n.isShowAgree=!1:404===e.status?uni.showToast({title:"网络走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"}):uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})})).catch((function(t){e("log",t," at components\\content\\consentfriend\\ConsentFriend.vue:140"),uni.showToast({title:"程序走丢了,请稍后重试",icon:"none"})}))}},computed:{calcWhichAgreeIgnore:function(e){}},onLoad:function(){this.queryListRequest()},onNavigationBarButtonTap:function(e){0===e.index&&uni.navigateTo({url:"/components/content/addfriend/AddFriend"})},created:function(){var e=uni.getStorageSync("userInfo");this.userAccount=e.user.userAccount,this.imgUrl=o.imgBaseUrl},mounted:function(){}};t.default=c}).call(this,n("0de9")["default"])},fae4:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},fc62:function(e,t,n){"use strict";n.r(t);var s=n("d492"),i=n("e63c");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,"1dd13022",null,!1,s["a"],o);t["default"]=c.exports},fe07:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Behavior=Pe,t.Component=Oe,t.Page=ke,t.nextTick=t.default=void 0;var s,i=r(n("8bbf"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return f(e)||d(e,t)||u(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],s=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done);s=!0)if(n.push(o.value),t&&n.length===t)break}catch(c){i=!0,r=c}finally{try{s||null==a["return"]||a["return"]()}finally{if(i)throw r}}return n}}function f(e){if(Array.isArray(e))return e}function m(e,t){e&&(t.mpOptions.data=e)}function p(t){t.components=e.__wxVueOptions.components}var h=Object.prototype.toString,g=Object.prototype.hasOwnProperty;function v(e){return"function"===typeof e}function y(e){return"[object Object]"===h.call(e)}function b(e,t){return g.call(e,t)}function _(){}function T(e){var t=Object.create(null);return function(n){var s=t[n];return s||(t[n]=e(n))}}var S=/-(\w)/g,C=T((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),M="__data__",w={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},k=Object.keys(w),I={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},O=Object.keys(I),P=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function x(e,t){var n=Object.create(null);Object.keys(e).forEach((function(t){var s=e[t];v(s)&&-1===P.indexOf(t)&&(n[t]=s)})),t.methods=n}function A(e,t){Object.keys(e).forEach((function(n){-1!==P.indexOf(n)&&(t[n]=e[n])}))}function j(e){var t={mixins:[],mpOptions:{}};return p(t),m(e.data,t),x(e,t),A(e,t),t}function $(e,t){e&&(t.mpOptions.properties=e)}function R(e,t){e&&(t.mpOptions.options=e)}function E(e,t){e&&(e.$emit&&(console.warn('Method "$emit" conflicts with an existing Vue instance method'),delete e.$emit),t.methods=e)}function L(e,t){k.forEach((function(n){b(e,n)&&(t[w[n]]||(t[w[n]]=[])).push(e[n])}))}var D={"wx://form-field":{},"wx://component-export":{}};function N(e){var t=e.behaviors,n=e.definitionFilter,s=[];if(Array.isArray(t)&&t.forEach((function(t){t="string"===typeof t?D[t]:t,t.definitionFilter&&(s.push(t.definitionFilter),t.definitionFilter.call(null,e,[]))})),v(n))return function(e){n(e,s)}}function U(e,t){N(e)}function F(e){var t=e.data,n=e.methods,s=e.behaviors,i=e.properties,r={watch:{},mpOptions:{mpObservers:[]}};return m(t,r),E(n,r),q(s,r),$(i,r),L(e,r),U(e),r}var B={"wx://form-field":{beforeCreate:function(){var e=this.$options.mpOptions;e.properties||(e.properties=Object.create(null));var t=e.properties;b(t,"name")||(t.name={type:String}),b(t,"value")||(t.value={type:String})}}};function q(e,t){e&&e.forEach((function(e){"string"===typeof e?B[e]&&t.mixins.push(B[e]):t.mixins.push(F(e))}))}function H(e){return e.split(".")}function G(e){return e.split(",").map((function(e){return H(e)}))}function V(e,t){if(e){var n=t.mpOptions.mpObservers;Object.keys(e).forEach((function(t){n.push({paths:G(t),observer:e[t]})}))}}function z(e,t){0===t.indexOf("/")&&(e="");var n=e.split("/"),s=t.split("/");n.pop();while(s.length){var i=s.shift();""!==i&&"."!==i&&(".."!==i?n.push(i):n.pop())}return n.join("/")}function J(t,n){t&&(Object.keys(t).forEach((function(n){var s=t[n];s.name=n,s.target=s.target?String(s.target):z(e.__wxRoute,n)})),n.mpOptions.relations=t)}function W(e,t){e&&(Array.isArray(e)||(e=[e]),t.mpOptions.externalClasses=e,t.mpOptions.properties||(t.mpOptions.properties=Object.create(null)),e.forEach((function(e){t.mpOptions.properties[C(e)]={type:String,value:""}})))}function K(e,t){e&&L(e,t)}function X(e,t){e&&O.forEach((function(n){var s=e[n];v(s)&&(t[I[n]]=s)}))}function Y(e){var t=e.data,n=e.options,s=e.methods,i=e.behaviors,r=e.lifetimes,o=e.observers,a=e.relations,c=e.properties,u=e.pageLifetimes,l=e.externalClasses,d={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return p(d),m(t,d),R(n,d),E(s,d),q(i,d),K(r,d),V(o,d),J(a,d),$(c,d),X(u,d),W(l,d),L(e,d),U(e),d}function Q(e,t,n,s){if(t){var i="_$".concat(e,"Handlers");(s[i]||(s[i]=[])).push((function(){t.call(s,n)}))}}function Z(e,t,n){var s="linked",i=e.name,r=n._$relationNodes||(n._$relationNodes=Object.create(null));(r[i]||(r[i]=[])).push(t),Q(s,e[s],t,n)}function ee(e,t,n){var s="unlinked";Q(s,e[s],t,n)}function te(e,t,n){var s=e&&e.$options.mpOptions&&e.$options.mpOptions.relations;if(!s)return[];var i=Object.keys(s).find((function(e){var i=s[e];return i.target===t&&i.type===n}));return i?[s[i],e]:[]}function ne(e,t,n){var s=n(e,e.$options.mpOptions.path),i=a(s,2),r=i[0],o=i[1];r&&(Z(r,e,o),Z(t,o,e),ee(r,e,o),ee(t,o,e))}function se(e,t){var n=e.type;"parent"===n?ne(t,e,(function(e,t){return te(e.$parent,t,"child")})):"ancestor"===n&&ne(t,e,(function(e,t){var n=e.$parent;while(n){var s=te(n,t,"descendant");if(s.length)return s;n=n.$parent}return[]}))}function ie(e){var t=e.$options.mpOptions||{},n=t.relations;n&&Object.keys(n).forEach((function(t){se(n[t],e)}))}function re(e,t){var n=e["_$".concat(t,"Handlers")];n&&n.forEach((function(e){return e()}))}var oe={enumerable:!0,configurable:!0,get:_,set:_};function ae(e,t,n){oe.get=function(){return this[t][n]},oe.set=function(e){this[t][n]=e},Object.defineProperty(e,n,oe)}function ce(e,t,n){var s=e.replace(/\[(\d+?)\]/g,".$1").split(".");return s.reduce((function(e,n,i){if(i!==s.length-1)return"undefined"===typeof e[n]&&(e[n]={}),e[n];e[n]=t}),n),1===s.length}function ue(e,t){var n=this;y(e)&&(Object.keys(e).forEach((function(t){ce(t,e[t],n.data)&&!b(n,t)&&ae(n,M,t)})),this.$forceUpdate(),v(t)&&this.$nextTick(t))}var le=Object.prototype.toString,de=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,s=le.call(n);if("[object Array]"===s)return t=n.slice(0),t;if("[object Object]"===s){for(var i in n)t[i]=e(t[i],n[i]);return t}if("[object Date]"===s)return new Date(n.getTime());if("[object RegExp]"===s){var r=String(n),o=r.lastIndexOf("/");return new RegExp(r.slice(1,o),r.slice(o+1))}return n},fe=function(e){return de("[object Array]"===le.call(e)?[]:{},e)},me=(s={},o(s,String,""),o(s,Number,0),o(s,Boolean,!1),o(s,Object,null),o(s,Array,[]),o(s,null,null),s);function pe(e){return me[e]}function he(e){return y(e)?b(e,"value")?e.value:pe(e.type):pe(e)}function ge(e){return y(e)?e.type:e}function ve(e,t,n,s){var i=n[e];if(void 0!==i){var r=t[e],o=ge(r);i=ye(i,o);var a=r&&r.observer;return a&&setTimeout((function(){be(a,s,i)}),4),i}return he(t[e])}function ye(e,t){return t===Boolean?!!e:t===String?String(e):e}function be(e,t,n,s){try{"function"===typeof e?e.call(t,n,s):"string"===typeof e&&"function"===typeof t[e]&&t[e](n,s)}catch(i){console.error("execute observer ".concat(e," callback fail! err: ").concat(i))}}function _e(e,t){var n=e.$options.mpOptions.properties;if(n){var s=fe(e.$options.propsData)||{},i=function(i){var r=!!y(n[i])&&n[i].observer,o=ve(i,n,s,e);Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){var n=o;t===o||t!==t&&o!==o||(o=Array.isArray(t)?t.slice(0):t,r&&be(r,e,t,n),e.$forceUpdate())}})};for(var r in n)i(r)}}function Te(e){var t=e.$options.mpOptions&&e.$options.mpOptions.properties,n=e.$options.propsData;n&&t&&Object.keys(t).forEach((function(s){b(n,s)&&(e[s]=ye(n[s],ge(t[s])))}))}function Se(e){var t=JSON.parse(JSON.stringify(e.$options.mpOptions.data||{}));e[M]=t;var n={get:function(){return e[M]},set:function(t){e[M]=t}};Object.defineProperties(e,{data:n,properties:n}),e.setData=ue,_e(e,t),Object.keys(t).forEach((function(t){ae(e,M,t)}))}function Ce(e){var t=e.$emit;e.triggerEvent=function(n,s,i){var r={dataset:e.$el.dataset},o={target:r,currentTarget:r,detail:s,preventDefault:_,stopPropagation:_};t.call(e,n,o)},e.$emit=function(){e.triggerEvent.apply(e,arguments)},e.getRelationNodes=function(t){return(e._$relationNodes&&e._$relationNodes[t]||[]).filter((function(e){return!e._isDestroyed}))},e._$updateProperties=Te}function Me(e){var t=e.$options.watch;t&&Object.keys(t).forEach((function(n){var s=t[n];if(s.mounted){var i=e[n],r=s.handler;"string"===typeof r&&(r=e[r]),r&&r.call(e,i,i)}}))}var we={beforeCreate:function(){this._renderProxy=this},created:function(){Se(this),Ce(this),ie(this)},mounted:function(){Me(this)},destroyed:function(){re(this,"unlinked")}};function ke(t){var n=j(t);n.mixins.unshift(we),n.mpOptions.path=e.__wxRoute,e.__wxComponents[e.__wxRoute]=n}function Ie(e){e.onServiceAttached||(e.onServiceAttached=[]),e.onServiceAttached.push((function(){re(this,"linked")}))}function Oe(t){var n=Y(t);n.mixins.unshift(we),n.mpOptions.path=e.__wxRoute,Ie(n),e.__wxComponents[e.__wxRoute]=n}function Pe(e){return e}e.__wxRoute="",e.__wxComponents=Object.create(null),e.__wxVueOptions=Object.create(null);var xe=i.default.nextTick;t.nextTick=xe;var Ae=uni.__$wx__,je=Ae;t.default=je}).call(this,n("c8ba"))},fee3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("cd60"));function i(e){return e&&e.__esModule?e:{default:e}}var r={components:{HeadImgItem:s.default},methods:{getCurrentLocation:function(){}},onLoad:function(){this.getCurrentLocation()},onNavigationBarButtonTap:function(e){0===e.index&&uni.navigateTo({url:"/components/content/myLocation/SearchLocation"})}};t.default=r},ff83:function(e,t,n){"use strict";n.r(t);var s=n("63e8"),i=n("9e69");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,a=n("f0c5"),c=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},ffc1:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("0261")),i=n("d427"),r=n("7429"),o=n("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{DefaultList:s.default},data:function(){return{friendAccount:"",imgUrl:"",isMe:!1}},computed:u({},(0,o.mapState)(["userInfo","rawMessageList","friendCard"])),methods:u({},(0,o.mapActions)(["imAction"]),{toChangeRemark:function(){uni.navigateTo({url:"/components/content/changefriendinfo/ChangeRemark?friendAccount=".concat(this.friendCard[this.friendAccount].friendAccount)})},previewFriendHeadImg:function(){var t="".concat(r.imgBaseUrl).concat(this.friendCard[this.friendAccount].friendFaceImage);uni.previewImage({urls:[t],longPressActions:{itemList:["保存到相册"],success:function(n){e("log",n.tapIndex," at components\\content\\friend\\FriendInfo.vue:166"),0===n.tapIndex&&uni.saveImageToPhotosAlbum({filePath:t,success:function(e){uni.showToast({title:"已保存到系统相册",icon:"none"})},fail:function(e){uni.showToast({title:"保存失败，请稍后重试",icon:"none"})}})}}})},doGetFriendInfo:function(){var t=this;(0,i.getFriendInfo)("?myAccount=".concat(this.userInfo.user.userAccount,"&friendAccount=").concat(this.friendAccount)).then((function(n){e("log",n," at components\\content\\friend\\FriendInfo.vue:192");var s=Object.assign({},t.friendCard);s[t.friendAccount]=n.data.data,Object.assign({},t.friendCard,s),e("log","this.friendCard",t.friendCard," at components\\content\\friend\\FriendInfo.vue:197")})).catch((function(t){uni.showToast({title:"您可能与服务器断开了连接",icon:"none"}),e("log",t," at components\\content\\friend\\FriendInfo.vue:203")}))},toMyDynamic:function(e){var t="";"myself"===e?t=this.userInfo.user.userAccount:"other"===e&&(t=this.friendAccount),uni.navigateTo({url:"/components/content/dynamic/MyDynamic?account=".concat(t,"&friendRemarkName=").concat(this.friendCard[this.friendAccount].friendRemarkName)})},toSession:function(){var e="p2p-"+this.friendAccount;this.imAction({mode:"CurrentChatTo_Change",session:e}),uni.setStorageSync("toSessionObj",{chatType:"p2p",chatTo:this.friendAccount}),uni.navigateTo({url:"/components/content/session/Session"})}}),onLoad:function(t){e("log",t," at components\\content\\friend\\FriendInfo.vue:234"),t.friendAccount===this.userInfo.user.userAccount?this.isMe=!0:(this.friendAccount=t.friendAccount,this.isMe=!1,this.friendCard[t.friendAccount]?e("log","已经有名片了"," at components\\content\\friend\\FriendInfo.vue:243"):(e("log","没有该好友名片"," at components\\content\\friend\\FriendInfo.vue:245"),this.doGetFriendInfo()))},created:function(){var e=this;this.imgUrl=r.imgBaseUrl,uni.$once("changeFriendInfo",(function(){e.$nextTick((function(){e.doGetFriendInfo()}))}))},onNavigationBarButtonTap:function(t){0===t.index&&(this.isMe||uni.showActionSheet({itemList:["设置备注和标签","把他推荐给朋友","加入黑名单","删除"],success:function(t){e("log",t," at components\\content\\friend\\FriendInfo.vue:265");var n=t.tapIndex;switch(n){case 0:e("log","设置备注和标签"," at components\\content\\friend\\FriendInfo.vue:269");break;case 1:e("log","把他推荐给朋友"," at components\\content\\friend\\FriendInfo.vue:272");break;case 2:e("log","加入黑名单"," at components\\content\\friend\\FriendInfo.vue:275");break;case 3:e("log","删除"," at components\\content\\friend\\FriendInfo.vue:278");break}},fail:function(e){}}))}};t.default=d}).call(this,n("0de9")["default"])}},[["7c2a","app-config"]]]);