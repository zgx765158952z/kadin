<view data-event-opts="{{[['tap',[['hideAll',['$event']]]]]}}" class="session" bindtap="__e"><view style="{{(btmStyle1)}}" id="session-content"><block wx:for="{{SconvertRawMessageListToRenderMessageArr}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><block wx:if="{{item.sendOrReceive==='receive'}}"><view class="msg-list"><view class="msg-list-time"><block wx:if="{{item.displayTimeHeader}}"><text class="time-text">{{item.displayTimeHeader}}</text></block><block wx:if="{{item.type==='notification'}}"><text class="withdraw-text">{{item.text}}</text></block></view><view class="msg-item"><block wx:if="{{item.type==='text'}}"><view class="friend-item"><image class="friend-item-img msg-item-img" src="{{imgUrl+$root.m0}}" mode="aspectFill" data-event-opts="{{[['tap',[['toGroupInfo',['$event']]]]]}}" bindtap="__e"></image><view class="friend-item-msg item-msg"><block wx:if="{{chatType==='p2p'}}"><view class="friend-name" hover-class="tap-hover-color">{{''+$root.m1+''}}</view></block><view class="friend-msg msg"><text selectable>{{''+item.text+''}}</text><view class="friend-horn"></view></view></view></view></block></view></view></block><block wx:if="{{item.sendOrReceive==='send'}}"><view class="msg-list"><view class="msg-list-time"><block wx:if="{{item.displayTimeHeader}}"><text class="time-text">{{item.displayTimeHeader}}</text></block><block wx:if="{{item.type==='notification'}}"><text class="withdraw-text">{{item.text}}</text></block></view><view class="msg-item"><block wx:if="{{item.type==='text'}}"><view class="my-item"><view class="my-item-msg item-msg"><view class="my-msg msg"><text selectable>{{''+item.text+''}}</text><view class="my-horn"></view><block wx:if="{{msgTips}}"><view class="my-msg-tips my-iconfont" hover-class="tap-hover-color" data-event-opts="{{[['tap',[['handleTips',['$event']]]]]}}" bindtap="__e"></view></block></view></view><image class="my-item-img msg-item-img" src="/static/image/global/boyHeadImg.png" mode="aspectFill"></image></view></block></view></view></block></block></block></view><view class="session-btm"><view class="session-first"><block wx:if="{{showKeyboard}}"><view class="my-iconfont voice-icon" hover-class="tap-hover-color" data-event-opts="{{[['tap',[['doSpeak',['$event']]]]]}}" catchtap="__e"></view></block><block wx:if="{{!showKeyboard}}"><view data-event-opts="{{[['tap',[['doInput',['$event']]]]]}}" class="my-iconfont keyboard-icon" catchtap="__e"></view></block><block wx:if="{{showKeyboard}}"><textarea fixed="{{true}}" cursor-spacing="10" auto-height data-event-opts="{{[['tap',[['updateFocus',['$event']]]],['input',[['__set_model',['','msgContent','$event',[]]],['handleInput',['$event']]]],['focus',[['handleFocus',['$event']]]]]}}" value="{{msgContent}}" catchtap="__e" bindinput="__e" bindfocus="__e"></textarea></block><block wx:if="{{!showKeyboard}}"><view data-event-opts="{{[['touchstart',[['showSpeaking',['$event']]]],['touchmove',[['moveHandle',['$event']]]],['touchend',[['hideSpeaking',['$event']]]]]}}" class="{{['voice-title',isSpeak?'speaking-class':'']}}" catchtouchstart="__e" catchtouchmove="__e" bindtouchend="__e">{{''+speakingTitle+''}}</view></block><view class="my-iconfont smiling-icon"></view><block wx:if="{{msgContent===''}}"><view data-event-opts="{{[['tap',[['handleTool',['$event']]]]]}}" class="my-iconfont add-icon" catchtap="__e"></view></block><block wx:else><view data-event-opts="{{[['tap',[['sendMsg',['$event']]]]]}}" class="send-btn" bindtap="__e">发送</view></block></view><block wx:if="{{showTool}}"><view class="session-tool def-top-border"><view class="tool-item" data-type="图片" data-event-opts="{{[['tap',[['tapTool',['$event']]]]]}}" catchtap="__e"><view class="tool-item-icon tool-item-icon0" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">图片</view></view><view class="tool-item" data-type="拍摄" data-event-opts="{{[['tap',[['tapTool',['$event']]]]]}}" catchtap="__e"><view class="tool-item-icon tool-item-icon1" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">拍摄</view></view><view class="tool-item" data-type="位置" data-event-opts="{{[['tap',[['tapTool',['$event']]]]]}}" catchtap="__e"><view class="tool-item-icon tool-item-icon2" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">位置</view></view><view class="tool-item" data-type="语音通话" data-event-opts="{{[['tap',[['tapTool',['$event']]]]]}}" catchtap="__e"><view class="tool-item-icon tool-item-icon3" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">语音通话</view></view><view class="tool-item" data-type="视频通话" data-event-opts="{{[['tap',[['tapTool',['$event']]]]]}}" catchtap="__e"><view class="tool-item-icon tool-item-icon4" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">视频通话</view></view><view class="tool-item" data-type="文件" data-event-opts="{{[['tap',[['tapTool',['$event']]]]]}}" catchtap="__e"><view class="tool-item-icon tool-item-icon5" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">文件</view></view><view class="tool-item" data-type="红包" data-event-opts="{{[['tap',[['tapTool',['$event']]]]]}}" catchtap="__e"><view class="tool-item-icon tool-item-icon6" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">红包</view></view></view></block></view><def-mask class="vue-ref" vue-id="766739ec-1" data-ref="speakMask" bind:__l="__l" vue-slots="{{['popup-list']}}"><view class="{{['speaking-list',(showCancel)?'speaking-list-bgc':'']}}" slot="popup-list"><view class="speaking-item"><view class="speaking-item-time">{{''+calcSpeakCount+''}}</view><view class="speaking-select">上滑取消或转文字</view></view><block wx:if="{{showCancel}}"><view class="cancel-and-translate"><view data-event-opts="{{[['touchmove',[['handleCancel',['$event']]]]]}}" class="{{['cancel-item',(cancelActive)?'cancel-item-active':'']}}" bindtouchmove="__e"><view><view class="cancel-item-icon my-iconfont"></view><view class="cancel-item-title">取消</view></view></view><view data-event-opts="{{[['touchstart',[['handleTranslate',['$event']]]]]}}" class="{{['translate-item',(translateActive)?'translate-item-active':'']}}" bindtouchstart="__e"><view><view class="translate-item-icon my-iconfont"></view><view class="translate-item-title">转文字</view></view></view></view></block></view></def-mask></view>