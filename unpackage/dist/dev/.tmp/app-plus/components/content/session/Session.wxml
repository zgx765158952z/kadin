<view class="session" style="{{(contentStyle1)}}"><block wx:if="{{currentChatList}}"><view data-event-opts="{{[['touchstart',[['hideAll',['$event']]]]]}}" class="session-content" style="{{(contentStyle2)}}" bindtouchstart="__e"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><block wx:if="{{item.$orig.from!==userInfo.user.userAccount}}"><view class="msg-list"><view class="msg-list-time"><block wx:if="{{index+1===currentChatList.msgs.length}}"><text class="time-text">{{item.f0}}</text></block></view><view class="msg-item"><view class="friend-item"><image class="friend-item-img msg-item-img" src="{{imgUrl+item.m0}}" mode="aspectFill" data-event-opts="{{[['tap',[['toGroupInfo',['$event']]]]]}}" bindtap="__e"></image><view class="friend-item-msg item-msg"><block wx:if="{{item.$orig.scene!=='p2p'}}"><view class="friend-name" hover-class="tap-hover-color">{{''+item.m1+''}}</view></block><view class="friend-msg msg"><text selectable>{{''+(item.$orig.text.length>0?item.$orig.text:'')+''}}</text><view class="friend-horn"></view></view></view></view></view></view></block><block wx:else><view class="msg-list"><view class="msg-list-time"><block wx:if="{{(index+1)%20===0}}"><text class="time-text">{{item.f1}}</text></block></view><view class="msg-item"><view class="my-item"><view class="my-item-msg item-msg"><view class="my-msg msg"><text selectable>{{''+(item.$orig.text.length>0?item.$orig.text:'')+''}}</text><view class="my-horn"></view><block wx:if="{{msgTips}}"><view class="my-msg-tips my-iconfont" hover-class="tap-hover-color" data-event-opts="{{[['tap',[['handleTips',['$event']]]]]}}" bindtap="__e"></view></block></view></view><image class="my-item-img msg-item-img" src="/static/image/global/boyHeadImg.png" mode="aspectFill"></image></view></view></view></block></block></block></view></block><block wx:else><view class="session-loading"><loading-icon vue-id="766739ec-1" bind:__l="__l"></loading-icon></view></block><view class="session-btm"><view class="session-first"><block wx:if="{{showKeyboard}}"><view class="my-iconfont voice-icon" hover-class="tap-hover-color" data-event-opts="{{[['tap',[['doSpeak',['$event']]]]]}}" bindtap="__e"></view></block><block wx:if="{{!showKeyboard}}"><view data-event-opts="{{[['tap',[['doInput',['$event']]]]]}}" class="my-iconfont keyboard-icon" bindtap="__e"></view></block><block wx:if="{{showKeyboard}}"><textarea adjust-position="{{adjust}}" fixed="{{true}}" focus="{{isFocus}}" auto-height data-event-opts="{{[['tap',[['updateFocus',['$event']]]],['input',[['__set_model',['','msgContent','$event',[]]],['handleInput',['$event']]]],['focus',[['handleFocus',['$event']]]]]}}" value="{{msgContent}}" bindtap="__e" bindinput="__e" bindfocus="__e"></textarea></block><block wx:if="{{!showKeyboard}}"><view data-event-opts="{{[['touchstart',[['showSpeaking',['$event']]]],['touchmove',[['moveHandle',['$event']]]],['touchend',[['hideSpeaking',['$event']]]]]}}" class="{{['voice-title',isSpeak?'speaking-class':'']}}" catchtouchstart="__e" catchtouchmove="__e" bindtouchend="__e">{{''+speakingTitle+''}}</view></block><view class="my-iconfont smiling-icon"></view><block wx:if="{{msgContent===''}}"><view data-event-opts="{{[['tap',[['handleTool',['$event']]]]]}}" class="my-iconfont add-icon" bindtap="__e"></view></block><block wx:if="{{msgContent}}"><view data-event-opts="{{[['tap',[['sendMsg',['$event']]]]]}}" class="send-btn" bindtap="__e">发送</view></block></view><block wx:if="{{showTool}}"><view class="session-tool"><view class="tool-item"><view class="tool-item-icon tool-item-icon0" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">图片</view></view><view class="tool-item"><view class="tool-item-icon tool-item-icon1" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">拍摄</view></view><view class="tool-item"><view class="tool-item-icon tool-item-icon2" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">位置</view></view><view class="tool-item"><view class="tool-item-icon tool-item-icon3" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">语音通话</view></view><view class="tool-item"><view class="tool-item-icon tool-item-icon4" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">视频通话</view></view><view class="tool-item"><view class="tool-item-icon tool-item-icon5" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">文件</view></view><view class="tool-item"><view class="tool-item-icon tool-item-icon6" hover-class="tap-hover-color"><text class="my-iconfont"></text></view><view class="tool-item-title">红包</view></view></view></block></view><def-mask class="vue-ref" vue-id="766739ec-2" data-ref="speakMask" bind:__l="__l" vue-slots="{{['popup-list']}}"><view class="{{['speaking-list',(showCancel)?'speaking-list-bgc':'']}}" slot="popup-list"><view class="speaking-item"><view class="speaking-item-time">{{''+calcSpeakCount+''}}</view><view class="speaking-select">上滑取消或转文字</view></view><block wx:if="{{showCancel}}"><view class="cancel-and-translate"><view data-event-opts="{{[['touchmove',[['handleCancel',['$event']]]]]}}" class="{{['cancel-item',(cancelActive)?'cancel-item-active':'']}}" bindtouchmove="__e"><view><view class="cancel-item-icon my-iconfont"></view><view class="cancel-item-title">取消</view></view></view><view data-event-opts="{{[['touchstart',[['handleTranslate',['$event']]]]]}}" class="{{['translate-item',(translateActive)?'translate-item-active':'']}}" bindtouchstart="__e"><view><view class="translate-item-icon my-iconfont"></view><view class="translate-item-title">转文字</view></view></view></view></block></view></def-mask></view>